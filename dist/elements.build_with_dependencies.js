(function(){function b(){document.body.removeAttribute("unresolved")}window.WebComponents?addEventListener("WebComponentsReady",b):"interactive"===document.readyState||"complete"===document.readyState?b():addEventListener("DOMContentLoaded",b)})();
window.Polymer={Settings:function(){var b=window.Polymer||{};if(!b.noUrlSettings)for(var d=location.search.slice(1).split("&"),a=0,g;a<d.length&&(g=d[a]);a++)g=g.split("="),g[0]&&(b[g[0]]=g[1]||!0);b.wantShadow="shadow"===b.dom;b.hasShadow=!!Element.prototype.createShadowRoot;b.nativeShadow=b.hasShadow&&!window.ShadowDOMPolyfill;b.useShadow=b.wantShadow&&b.hasShadow;b.hasNativeImports="import"in document.createElement("link");b.useNativeImports=b.hasNativeImports;b.useNativeCustomElements=!window.CustomElements||
window.CustomElements.useNative;b.useNativeShadow=b.useShadow&&b.nativeShadow;b.usePolyfillProto=!b.useNativeCustomElements&&!Object.__proto__;b.hasNativeCSSProperties=!navigator.userAgent.match("AppleWebKit/601")&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)");b.useNativeCSSProperties=b.hasNativeCSSProperties&&b.lazyRegister&&b.useNativeCSSProperties;return b}()};
(function(){var b=window.Polymer;window.Polymer=function(a){"function"===typeof a&&(a=a.prototype);a||(a={});var b=d(a);a=b.prototype;var m={prototype:a};a.extends&&(m.extends=a.extends);Polymer.telemetry._registrate(a);document.registerElement(a.is,m);return b};var d=function(a){var b=Polymer.Base;a.extends&&(b=Polymer.Base._getExtendedPrototype(a.extends));a=Polymer.Base.chainObject(a,b);a.registerCallback();return a.constructor};if(b)for(var a in b)Polymer[a]=b[a];Polymer.Class=d})();
Polymer.telemetry={registrations:[],_regLog:function(b){console.log("["+b.is+"]: registered")},_registrate:function(b){this.registrations.push(b);Polymer.log&&this._regLog(b)},dumpRegistrations:function(){this.registrations.forEach(this._regLog)}};Object.defineProperty(window,"currentImport",{enumerable:!0,configurable:!0,get:function(){return(document._currentScript||document.currentScript).ownerDocument}});
Polymer.RenderStatus={_ready:!1,_callbacks:[],whenReady:function(b){this._ready?b():this._callbacks.push(b)},_makeReady:function(){this._ready=!0;for(var b=0;b<this._callbacks.length;b++)this._callbacks[b]();this._callbacks=[]},_catchFirstRender:function(){requestAnimationFrame(function(){Polymer.RenderStatus._makeReady()})},_afterNextRenderQueue:[],_waitingNextRender:!1,afterNextRender:function(b,d,a){this._watchNextRender();this._afterNextRenderQueue.push([b,d,a])},hasRendered:function(){return this._ready},
_watchNextRender:function(){if(!this._waitingNextRender){this._waitingNextRender=!0;var b=function(){Polymer.RenderStatus._flushNextRender()};this._ready?requestAnimationFrame(b):this.whenReady(b)}},_flushNextRender:function(){var b=this;setTimeout(function(){b._flushRenderCallbacks(b._afterNextRenderQueue);b._afterNextRenderQueue=[];b._waitingNextRender=!1})},_flushRenderCallbacks:function(b){for(var d=0,a;d<b.length;d++)a=b[d],a[1].apply(a[0],a[2]||Polymer.nar)}};
window.HTMLImports?HTMLImports.whenReady(function(){Polymer.RenderStatus._catchFirstRender()}):Polymer.RenderStatus._catchFirstRender();Polymer.ImportStatus=Polymer.RenderStatus;Polymer.ImportStatus.whenLoaded=Polymer.ImportStatus.whenReady;
(function(){var b=Polymer.Settings;Polymer.Base={__isPolymerInstance__:!0,_addFeature:function(b){this.extend(this,b)},registerCallback:function(){"max"===b.lazyRegister?this.beforeRegister&&this.beforeRegister():(this._desugarBehaviors(),this._doBehavior("beforeRegister"));this._registerFeatures();b.lazyRegister||this.ensureRegisterFinished()},createdCallback:function(){this.__hasRegisterFinished||this._ensureRegisterFinished(this.__proto__);Polymer.telemetry.instanceCount++;this.root=this;this._doBehavior("created");
this._initFeatures()},ensureRegisterFinished:function(){this._ensureRegisterFinished(this)},_ensureRegisterFinished:function(d){d.__hasRegisterFinished===d.is&&d.is||("max"===b.lazyRegister&&(d._desugarBehaviors(),d._doBehaviorOnly("beforeRegister")),d.__hasRegisterFinished=d.is,d._finishRegisterFeatures&&d._finishRegisterFeatures(),d._doBehavior("registered"),b.usePolyfillProto&&d!==this&&d.extend(this,d))},attachedCallback:function(){var b=this;Polymer.RenderStatus.whenReady(function(){b.isAttached=
!0;b._doBehavior("attached")})},detachedCallback:function(){var b=this;Polymer.RenderStatus.whenReady(function(){b.isAttached=!1;b._doBehavior("detached")})},attributeChangedCallback:function(b,a,g){this._attributeChangedImpl(b);this._doBehavior("attributeChanged",[b,a,g])},_attributeChangedImpl:function(b){this._setAttributeToProperty(this,b)},extend:function(b,a){if(b&&a)for(var g=Object.getOwnPropertyNames(a),f=0,m;f<g.length&&(m=g[f]);f++)this.copyOwnProperty(m,a,b);return b||a},mixin:function(b,
a){for(var g in a)b[g]=a[g];return b},copyOwnProperty:function(b,a,g){(a=Object.getOwnPropertyDescriptor(a,b))&&Object.defineProperty(g,b,a)},_logger:function(b,a){1===a.length&&Array.isArray(a[0])&&(a=a[0]);switch(b){case "log":case "warn":case "error":console[b].apply(console,a)}},_log:function(){var b=Array.prototype.slice.call(arguments,0);this._logger("log",b)},_warn:function(){var b=Array.prototype.slice.call(arguments,0);this._logger("warn",b)},_error:function(){var b=Array.prototype.slice.call(arguments,
0);this._logger("error",b)},_logf:function(){return this._logPrefix.concat(this.is).concat(Array.prototype.slice.call(arguments,0))}};Polymer.Base._logPrefix=window.chrome&&!/edge/i.test(navigator.userAgent)||/firefox/i.test(navigator.userAgent)?["%c[%s::%s]:","font-weight: bold; background-color:#EEEE00;"]:["[%s::%s]:"];Polymer.Base.chainObject=function(b,a){b&&a&&b!==a&&(Object.__proto__||(b=Polymer.Base.extend(Object.create(a),b)),b.__proto__=a);return b};Polymer.Base=Polymer.Base.chainObject(Polymer.Base,
HTMLElement.prototype);Polymer.instanceof=window.CustomElements?CustomElements.instanceof:function(b,a){return b instanceof a};Polymer.isInstance=function(b){return!(!b||!b.__isPolymerInstance__)};Polymer.telemetry.instanceCount=0})();
(function(){var b={},d={},a=function(){return document.createElement("dom-module")};a.prototype=Object.create(HTMLElement.prototype);Polymer.Base.extend(a.prototype,{constructor:a,createdCallback:function(){this.register()},register:function(a){if(a=a||this.id||this.getAttribute("name")||this.getAttribute("is"))this.id=a,b[a]=this,d[a.toLowerCase()]=this},import:function(a,m){if(a){var e=b[a]||d[a.toLowerCase()];if(!e){a:if(g)for(var e=document._currentScript||document.currentScript,e=(e&&e.ownerDocument||
document).querySelectorAll("dom-module"),k=e.length-1,h;0<=k&&(h=e[k]);k--)if(h.__upgraded__)break a;else CustomElements.upgrade(h);e=b[a]||d[a.toLowerCase()]}e&&m&&(e=e.querySelector(m));return e}}});var g=window.CustomElements&&!CustomElements.useNative;document.registerElement("dom-module",a)})();
Polymer.Base._addFeature({_prepIs:function(){if(!this.is){var b=(document._currentScript||document.currentScript).parentNode;"dom-module"===b.localName&&(this.is=b.id||b.getAttribute("name")||b.getAttribute("is"))}this.is&&(this.is=this.is.toLowerCase())}});
Polymer.Base._addFeature({behaviors:[],_desugarBehaviors:function(){this.behaviors.length&&(this.behaviors=this._desugarSomeBehaviors(this.behaviors))},_desugarSomeBehaviors:function(b){var d=[];b=this._flattenBehaviorsList(b);for(var a=b.length-1;0<=a;a--){var g=b[a];-1===d.indexOf(g)&&(this._mixinBehavior(g),d.unshift(g))}return d},_flattenBehaviorsList:function(b){for(var d=[],a=0;a<b.length;a++){var g=b[a];g instanceof Array?d=d.concat(this._flattenBehaviorsList(g)):g?d.push(g):this._warn(this._logf("_flattenBehaviorsList",
"behavior is null, check for missing or 404 import"))}return d},_mixinBehavior:function(b){for(var d=Object.getOwnPropertyNames(b),a=0,g;a<d.length&&(g=d[a]);a++)Polymer.Base._behaviorProperties[g]||this.hasOwnProperty(g)||this.copyOwnProperty(g,b,this)},_prepBehaviors:function(){this._prepFlattenedBehaviors(this.behaviors)},_prepFlattenedBehaviors:function(b){for(var d=0,a=b.length;d<a;d++)this._prepBehavior(b[d]);this._prepBehavior(this)},_doBehavior:function(b,d){for(var a=0;a<this.behaviors.length;a++)this._invokeBehavior(this.behaviors[a],
b,d);this._invokeBehavior(this,b,d)},_doBehaviorOnly:function(b,d){for(var a=0;a<this.behaviors.length;a++)this._invokeBehavior(this.behaviors[a],b,d)},_invokeBehavior:function(b,d,a){(b=b[d])&&b.apply(this,a||Polymer.nar)},_marshalBehaviors:function(){for(var b=0;b<this.behaviors.length;b++)this._marshalBehavior(this.behaviors[b]);this._marshalBehavior(this)}});
Polymer.Base._behaviorProperties={hostAttributes:!0,beforeRegister:!0,registered:!0,properties:!0,observers:!0,listeners:!0,created:!0,attached:!0,detached:!0,attributeChanged:!0,ready:!0};
Polymer.Base._addFeature({_getExtendedPrototype:function(b){return this._getExtendedNativePrototype(b)},_nativePrototypes:{},_getExtendedNativePrototype:function(b){var d=this._nativePrototypes[b];d||(d=this.getNativePrototype(b),d=this.extend(Object.create(d),Polymer.Base),this._nativePrototypes[b]=d);return d},getNativePrototype:function(b){return Object.getPrototypeOf(document.createElement(b))}});
Polymer.Base._addFeature({_prepConstructor:function(){this._factoryArgs=this.extends?[this.extends,this.is]:[this.is];var b=function(){return this._factory(arguments)};this.hasOwnProperty("extends")&&(b.extends=this.extends);Object.defineProperty(this,"constructor",{value:b,writable:!0,configurable:!0});b.prototype=this},_factory:function(b){var d=document.createElement.apply(document,this._factoryArgs);this.factoryImpl&&this.factoryImpl.apply(d,b);return d}});Polymer.nob=Object.create(null);
Polymer.Base._addFeature({properties:{},getPropertyInfo:function(b){var d=this._getPropertyInfo(b,this.properties);if(!d)for(var a=0;a<this.behaviors.length;a++)if(d=this._getPropertyInfo(b,this.behaviors[a].properties))return d;return d||Polymer.nob},_getPropertyInfo:function(b,d){var a=d&&d[b];"function"===typeof a&&(a=d[b]={type:a});a&&(a.defined=!0);return a},_prepPropertyInfo:function(){this._propertyInfo={};for(var b=0;b<this.behaviors.length;b++)this._addPropertyInfo(this._propertyInfo,this.behaviors[b].properties);
this._addPropertyInfo(this._propertyInfo,this.properties);this._addPropertyInfo(this._propertyInfo,this._propertyEffects)},_addPropertyInfo:function(b,d){if(d){var a,g,f;for(f in d)if(a=b[f],g=d[f],"_"!==f[0]||g.readOnly)b[f]?(a.type||(a.type=g.type),a.readOnly||(a.readOnly=g.readOnly)):b[f]={type:"function"===typeof g?g:g.type,readOnly:g.readOnly,attribute:Polymer.CaseMap.camelToDashCase(f)}}}});
Polymer.CaseMap={_caseMap:{},_rx:{dashToCamel:/-[a-z]/g,camelToDash:/([A-Z])/g},dashToCamelCase:function(b){return this._caseMap[b]||(this._caseMap[b]=0>b.indexOf("-")?b:b.replace(this._rx.dashToCamel,function(b){return b[1].toUpperCase()}))},camelToDashCase:function(b){return this._caseMap[b]||(this._caseMap[b]=b.replace(this._rx.camelToDash,"-$1").toLowerCase())}};
Polymer.Base._addFeature({_addHostAttributes:function(b){this._aggregatedAttributes||(this._aggregatedAttributes={});b&&this.mixin(this._aggregatedAttributes,b)},_marshalHostAttributes:function(){this._aggregatedAttributes&&this._applyAttributes(this,this._aggregatedAttributes)},_applyAttributes:function(b,d){for(var a in d)this.hasAttribute(a)||"class"===a||this.serializeValueToAttribute(d[a],a,this)},_marshalAttributes:function(){this._takeAttributesToModel(this)},_takeAttributesToModel:function(b){if(this.hasAttributes())for(var d in this._propertyInfo){var a=
this._propertyInfo[d];this.hasAttribute(a.attribute)&&this._setAttributeToProperty(b,a.attribute,d,a)}},_setAttributeToProperty:function(b,d,a,g){this._serializing||(a=a||Polymer.CaseMap.dashToCamelCase(d),(g=g||this._propertyInfo&&this._propertyInfo[a])&&!g.readOnly&&(d=this.getAttribute(d),b[a]=this.deserialize(d,g.type)))},_serializing:!1,reflectPropertyToAttribute:function(b,d,a){this._serializing=!0;a=void 0===a?this[b]:a;this.serializeValueToAttribute(a,d||Polymer.CaseMap.camelToDashCase(b));
this._serializing=!1},serializeValueToAttribute:function(b,d,a){b=this.serialize(b);a=a||this;void 0===b?a.removeAttribute(d):a.setAttribute(d,b)},deserialize:function(b,d){switch(d){case Number:b=Number(b);break;case Boolean:b=null!=b;break;case Object:try{b=JSON.parse(b)}catch(a){}break;case Array:try{b=JSON.parse(b)}catch(a){b=null,console.warn("Polymer::Attributes: couldn`t decode Array as JSON")}break;case Date:b=new Date(b)}return b},serialize:function(b){switch(typeof b){case "boolean":return b?
"":void 0;case "object":if(b instanceof Date)return b.toString();if(b)try{return JSON.stringify(b)}catch(d){return""}default:return null!=b?b:void 0}}});Polymer.version="1.6.1";Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs();this._prepBehaviors();this._prepConstructor();this._prepPropertyInfo()},_prepBehavior:function(b){this._addHostAttributes(b.hostAttributes)},_marshalBehavior:function(b){},_initFeatures:function(){this._marshalHostAttributes();this._marshalBehaviors()}});
Polymer.Base._addFeature({_prepTemplate:function(){void 0===this._template&&(this._template=Polymer.DomModule.import(this.is,"template"));this._template&&this._template.hasAttribute("is")&&this._warn(this._logf("_prepTemplate","top-level Polymer template must not be a type-extension, found",this._template,"Move inside simple <template>."));this._template&&!this._template.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(this._template)},_stampTemplate:function(){this._template&&
(this.root=this.instanceTemplate(this._template))},instanceTemplate:function(b){return document.importNode(b._content||b.content,!0)}});
(function(){var b=Polymer.Base.attachedCallback;Polymer.Base._addFeature({_hostStack:[],ready:function(){},_registerHost:function(b){(this.dataHost=b=b||Polymer.Base._hostStack[Polymer.Base._hostStack.length-1])&&b._clients&&b._clients.push(this);this._clients=null;this._clientsReadied=!1},_beginHosting:function(){Polymer.Base._hostStack.push(this);this._clients||(this._clients=[])},_endHosting:function(){Polymer.Base._hostStack.pop()},_tryReady:function(){this._readied=!1;this._canReady()&&this._ready()},
_canReady:function(){return!this.dataHost||this.dataHost._clientsReadied},_ready:function(){this._beforeClientsReady();this._template&&(this._setupRoot(),this._readyClients());this._clientsReadied=!0;this._clients=null;this._afterClientsReady();this._readySelf()},_readyClients:function(){this._beginDistribute();var b=this._clients;if(b)for(var a=0,g=b.length,f;a<g&&(f=b[a]);a++)f._ready();this._finishDistribute()},_readySelf:function(){this._doBehavior("ready");this._readied=!0;this._attachedPending&&
(this._attachedPending=!1,this.attachedCallback())},_beforeClientsReady:function(){},_afterClientsReady:function(){},_beforeAttached:function(){},attachedCallback:function(){this._readied?(this._beforeAttached(),b.call(this)):this._attachedPending=!0}})})();
Polymer.ArraySplice=function(){function b(a,b,f){return{index:a,removed:b,addedCount:f}}function d(){}d.prototype={calcEditDistances:function(a,b,f,d,e,k){k=k-e+1;f=f-b+1;for(var h=Array(k),c=0;c<k;c++)h[c]=Array(f),h[c][0]=c;for(var l=0;l<f;l++)h[0][l]=l;for(c=1;c<k;c++)for(l=1;l<f;l++)if(this.equals(a[b+l-1],d[e+c-1]))h[c][l]=h[c-1][l-1];else{var n=h[c-1][l]+1,p=h[c][l-1]+1;h[c][l]=n<p?n:p}return h},spliceOperationsFromEditDistances:function(a){for(var b=a.length-1,f=a[0].length-1,d=a[b][f],e=[];0<
b||0<f;)if(0==b)e.push(2),f--;else if(0==f)e.push(3),b--;else{var k=a[b-1][f-1],h=a[b-1][f],c=a[b][f-1],l;l=h<c?h<k?h:k:c<k?c:k;l==k?(k==d?e.push(0):(e.push(1),d=k),b--,f--):l==h?(e.push(3),b--,d=h):(e.push(2),f--,d=c)}e.reverse();return e},calcSplices:function(a,g,f,d,e,k){var h=0,c=0,l=Math.min(f-g,k-e);0==g&&0==e&&(h=this.sharedPrefix(a,d,l));f==a.length&&k==d.length&&(c=this.sharedSuffix(a,d,l-h));g+=h;e+=h;f-=c;k-=c;if(0==f-g&&0==k-e)return[];if(g==f){for(a=b(g,[],0);e<k;)a.removed.push(d[e++]);
return[a]}if(e==k)return[b(g,[],f-g)];k=this.spliceOperationsFromEditDistances(this.calcEditDistances(a,g,f,d,e,k));a=void 0;f=[];for(h=0;h<k.length;h++)switch(k[h]){case 0:a&&(f.push(a),a=void 0);g++;e++;break;case 1:a||(a=b(g,[],0));a.addedCount++;g++;a.removed.push(d[e]);e++;break;case 2:a||(a=b(g,[],0));a.addedCount++;g++;break;case 3:a||(a=b(g,[],0)),a.removed.push(d[e]),e++}a&&f.push(a);return f},sharedPrefix:function(a,b,f){for(var d=0;d<f;d++)if(!this.equals(a[d],b[d]))return d;return f},
sharedSuffix:function(a,b,f){for(var d=a.length,e=b.length,k=0;k<f&&this.equals(a[--d],b[--e]);)k++;return k},calculateSplices:function(a,b){return this.calcSplices(a,0,a.length,b,0,b.length)},equals:function(a,b){return a===b}};return new d}();
Polymer.domInnerHTML=function(){function b(a){switch(a){case "&":return"&amp;";case "<":return"&lt;";case ">":return"&gt;";case '"':return"&quot;";case "\u00a0":return"&nbsp;"}}function d(a){for(var b={},c=0;c<a.length;c++)b[a[c]]=!0;return b}function a(d,h){d instanceof HTMLTemplateElement&&(d=d.content);for(var c="",l=Polymer.dom(d).childNodes,n=0,p=l.length,q;n<p&&(q=l[n]);n++){var t;a:{t=q;var v=d,y=h;switch(t.nodeType){case Node.ELEMENT_NODE:for(var v=t.localName,E="<"+v,F=t.attributes,z=0,G;G=
F[z];z++)E+=" "+G.name+'="'+G.value.replace(g,b)+'"';E+=">";t=m[v]?E:E+a(t,y)+"</"+v+">";break a;case Node.TEXT_NODE:t=t.data;t=v&&e[v.localName]?t:t.replace(f,b);break a;case Node.COMMENT_NODE:t="\x3c!--"+t.data+"--\x3e";break a;default:throw console.error(t),Error("not implemented");}}c+=t}return c}var g=/[&\u00A0"]/g,f=/[&\u00A0<>]/g,m=d("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),e=d("style script xmp iframe noembed noframes plaintext noscript".split(" "));
return{getInnerHTML:a}}();
(function(){var b=Element.prototype.insertBefore,d=Element.prototype.appendChild,a=Element.prototype.removeChild;Polymer.TreeApi={arrayCopyChildNodes:function(a){var b=[],d=0;for(a=a.firstChild;a;a=a.nextSibling)b[d++]=a;return b},arrayCopyChildren:function(a){var b=[],d=0;for(a=a.firstElementChild;a;a=a.nextElementSibling)b[d++]=a;return b},arrayCopy:function(a){for(var b=a.length,d=Array(b),e=0;e<b;e++)d[e]=a[e];return d}};Polymer.TreeApi.Logical={hasParentNode:function(a){return!(!a.__dom||!a.__dom.parentNode)},
hasChildNodes:function(a){return!(!a.__dom||void 0===a.__dom.childNodes)},getChildNodes:function(a){return this.hasChildNodes(a)?this._getChildNodes(a):a.childNodes},_getChildNodes:function(a){if(!a.__dom.childNodes){a.__dom.childNodes=[];for(var b=a.__dom.firstChild;b;b=b.__dom.nextSibling)a.__dom.childNodes.push(b)}return a.__dom.childNodes},getParentNode:function(a){return a.__dom&&void 0!==a.__dom.parentNode?a.__dom.parentNode:a.parentNode},getFirstChild:function(a){return a.__dom&&void 0!==a.__dom.firstChild?
a.__dom.firstChild:a.firstChild},getLastChild:function(a){return a.__dom&&void 0!==a.__dom.lastChild?a.__dom.lastChild:a.lastChild},getNextSibling:function(a){return a.__dom&&void 0!==a.__dom.nextSibling?a.__dom.nextSibling:a.nextSibling},getPreviousSibling:function(a){return a.__dom&&void 0!==a.__dom.previousSibling?a.__dom.previousSibling:a.previousSibling},getFirstElementChild:function(a){return a.__dom&&void 0!==a.__dom.firstChild?this._getFirstElementChild(a):a.firstElementChild},_getFirstElementChild:function(a){for(a=
a.__dom.firstChild;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.__dom.nextSibling;return a},getLastElementChild:function(a){return a.__dom&&void 0!==a.__dom.lastChild?this._getLastElementChild(a):a.lastElementChild},_getLastElementChild:function(a){for(a=a.__dom.lastChild;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.__dom.previousSibling;return a},getNextElementSibling:function(a){return a.__dom&&void 0!==a.__dom.nextSibling?this._getNextElementSibling(a):a.nextElementSibling},_getNextElementSibling:function(a){for(a=
a.__dom.nextSibling;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.__dom.nextSibling;return a},getPreviousElementSibling:function(a){return a.__dom&&void 0!==a.__dom.previousSibling?this._getPreviousElementSibling(a):a.previousElementSibling},_getPreviousElementSibling:function(a){for(a=a.__dom.previousSibling;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.__dom.previousSibling;return a},saveChildNodes:function(a){if(!this.hasChildNodes(a)){a.__dom=a.__dom||{};a.__dom.firstChild=a.firstChild;a.__dom.lastChild=a.lastChild;
a.__dom.childNodes=[];for(var b=a.firstChild;b;b=b.nextSibling)b.__dom=b.__dom||{},b.__dom.parentNode=a,a.__dom.childNodes.push(b),b.__dom.nextSibling=b.nextSibling,b.__dom.previousSibling=b.previousSibling}},recordInsertBefore:function(a,b,d){b.__dom.childNodes=null;if(a.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(a=a.firstChild;a;a=a.nextSibling)this._linkNode(a,b,d);else this._linkNode(a,b,d)},_linkNode:function(a,b,d){a.__dom=a.__dom||{};b.__dom=b.__dom||{};d&&(d.__dom=d.__dom||{});a.__dom.previousSibling=
d?d.__dom.previousSibling:b.__dom.lastChild;a.__dom.previousSibling&&(a.__dom.previousSibling.__dom.nextSibling=a);a.__dom.nextSibling=d||null;a.__dom.nextSibling&&(a.__dom.nextSibling.__dom.previousSibling=a);a.__dom.parentNode=b;d?d===b.__dom.firstChild&&(b.__dom.firstChild=a):(b.__dom.lastChild=a,b.__dom.firstChild||(b.__dom.firstChild=a));b.__dom.childNodes=null},recordRemoveChild:function(a,b){a.__dom=a.__dom||{};b.__dom=b.__dom||{};a===b.__dom.firstChild&&(b.__dom.firstChild=a.__dom.nextSibling);
a===b.__dom.lastChild&&(b.__dom.lastChild=a.__dom.previousSibling);var d=a.__dom.previousSibling,e=a.__dom.nextSibling;d&&(d.__dom.nextSibling=e);e&&(e.__dom.previousSibling=d);a.__dom.parentNode=a.__dom.previousSibling=a.__dom.nextSibling=void 0;b.__dom.childNodes=null}};Polymer.TreeApi.Composed={getChildNodes:function(a){return Polymer.TreeApi.arrayCopyChildNodes(a)},getParentNode:function(a){return a.parentNode},clearChildNodes:function(a){a.textContent=""},insertBefore:function(a,f,d){return b.call(a,
f,d||null)},appendChild:function(a,b){return d.call(a,b)},removeChild:function(b,f){return a.call(b,f)}}})();
Polymer.DomApi=function(){var b=Polymer.Settings,d=Polymer.TreeApi,a=function(b){this.node=g?a.wrap(b):b},g=b.hasShadow&&!b.nativeShadow;a.wrap=window.wrap?window.wrap:function(a){return a};a.prototype={flush:function(){Polymer.dom.flush()},deepContains:function(a){if(this.node.contains(a))return!0;var b=a;for(a=a.ownerDocument;b&&b!==a&&b!==this.node;)b=Polymer.dom(b).parentNode||b.host;return b===this.node},queryDistributedElements:function(b){for(var f=this.getEffectiveChildNodes(),h=[],c=0,l=
f.length,g;c<l&&(g=f[c]);c++)g.nodeType===Node.ELEMENT_NODE&&a.matchesSelector.call(g,b)&&h.push(g);return h},getEffectiveChildNodes:function(){for(var a=[],b=this.childNodes,h=0,c=b.length,l;h<c&&(l=b[h]);h++)if(l.localName===f)for(var g=m(l).getDistributedNodes(),d=0;d<g.length;d++)a.push(g[d]);else a.push(l);return a},observeNodes:function(b){if(b)return this.observer||(this.observer=this.node.localName===f?new a.DistributedNodesObserver(this):new a.EffectiveNodesObserver(this)),this.observer.addListener(b)},
unobserveNodes:function(a){this.observer&&this.observer.removeListener(a)},notifyObserver:function(){this.observer&&this.observer.notify()},_query:function(a,b,f){b=b||this.node;var c=[];this._queryElements(d.Logical.getChildNodes(b),a,f,c);return c},_queryElements:function(a,b,f,c){for(var l=0,g=a.length,d;l<g&&(d=a[l]);l++)if(d.nodeType===Node.ELEMENT_NODE&&this._queryElement(d,b,f,c))return!0},_queryElement:function(a,b,f,c){var l=b(a);l&&c.push(a);if(f&&f(l))return l;this._queryElements(d.Logical.getChildNodes(a),
b,f,c)}};var f=a.CONTENT="content",m=a.factory=function(b){b=b||document;b.__domApi||(b.__domApi=new a.ctor(b));return b.__domApi};a.hasApi=function(a){return!!a.__domApi};a.ctor=a;Polymer.dom=function(b,f){return b instanceof Event?Polymer.EventApi.factory(b):a.factory(b,f)};b=Element.prototype;a.matchesSelector=b.matches||b.matchesSelector||b.mozMatchesSelector||b.msMatchesSelector||b.oMatchesSelector||b.webkitMatchesSelector;return a}();
(function(){var b=Polymer.DomApi,d=b.factory,a=Polymer.TreeApi,g=Polymer.domInnerHTML.getInnerHTML,f=b.CONTENT;if(!Polymer.Settings.useShadow){var m=Element.prototype.cloneNode,e=Document.prototype.importNode;Polymer.Base.extend(b.prototype,{_lazyDistribute:function(a){a.shadyRoot&&a.shadyRoot._distributionClean&&(a.shadyRoot._distributionClean=!1,Polymer.dom.addDebouncer(a.debounce("_distribute",a._distributeContent)))},appendChild:function(a){return this.insertBefore(a)},insertBefore:function(e,
h){if(h&&a.Logical.getParentNode(h)!==this.node)throw Error("The ref_node to be inserted before is not a child of this node");if(e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var c=a.Logical.getParentNode(e);c?(b.hasApi(c)&&d(c).notifyObserver(),this._removeNode(e)):this._removeOwnerShadyRoot(e)}this._addNode(e,h)||(h&&(h=h.localName===f?this._firstComposedNode(h):h),c=this.node._isShadyRoot?this.node.host:this.node,h?a.Composed.insertBefore(c,e,h):a.Composed.appendChild(c,e));this.notifyObserver();return e},
_addNode:function(b,e){var c=this.getOwnerRoot();if(c){var l=this._maybeAddInsertionPoint(b,this.node);c._invalidInsertionPoints||(c._invalidInsertionPoints=l);this._addNodeToHost(c.host,b)}a.Logical.hasChildNodes(this.node)&&a.Logical.recordInsertBefore(b,this.node,e);if(e=this._maybeDistribute(b)||this.node.shadyRoot)if(b.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(;b.firstChild;)a.Composed.removeChild(b,b.firstChild);else(c=a.Composed.getParentNode(b))&&a.Composed.removeChild(c,b);return e},removeChild:function(b){if(a.Logical.getParentNode(b)!==
this.node)throw Error("The node to be removed is not a child of this node: "+b);if(!this._removeNode(b)){var e=this.node._isShadyRoot?this.node.host:this.node,c=a.Composed.getParentNode(b);e===c&&a.Composed.removeChild(e,b)}this.notifyObserver();return b},_removeNode:function(b){var e=a.Logical.hasParentNode(b)&&a.Logical.getParentNode(b),c,l=this._ownerShadyRootForNode(b);e&&(c=d(b)._maybeDistributeParent(),a.Logical.recordRemoveChild(b,e),l&&this._removeDistributedChildren(l,b)&&(l._invalidInsertionPoints=
!0,this._lazyDistribute(l.host)));this._removeOwnerShadyRoot(b);l&&this._removeNodeFromHost(l.host,b);return c},replaceChild:function(a,b){this.insertBefore(a,b);this.removeChild(b);return a},_hasCachedOwnerRoot:function(a){return void 0!==a._ownerShadyRoot},getOwnerRoot:function(){return this._ownerShadyRootForNode(this.node)},_ownerShadyRootForNode:function(b){if(b){var e=b._ownerShadyRoot;void 0===e&&(e=b._isShadyRoot?b:(e=a.Logical.getParentNode(b))?e._isShadyRoot?e:this._ownerShadyRootForNode(e):
null,e||document.documentElement.contains(b))&&(b._ownerShadyRoot=e);return e}},_maybeDistribute:function(b){var e=b.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&!b.__noContent&&d(b).querySelector(f),c=e&&a.Logical.getParentNode(e).nodeType!==Node.DOCUMENT_FRAGMENT_NODE;(b=e||b.localName===f)&&(e=this.getOwnerRoot())&&this._lazyDistribute(e.host);(e=this._nodeNeedsDistribution(this.node))&&this._lazyDistribute(this.node);return e||b&&!c},_maybeAddInsertionPoint:function(b,e){var c;if(b.nodeType!==Node.DOCUMENT_FRAGMENT_NODE||
b.__noContent)b.localName===f&&(a.Logical.saveChildNodes(e),a.Logical.saveChildNodes(b),c=!0);else for(var l=d(b).querySelectorAll(f),g=0,m,q;g<l.length&&(m=l[g]);g++)q=a.Logical.getParentNode(m),q===b&&(q=e),q=this._maybeAddInsertionPoint(m,q),c=c||q;return c},_updateInsertionPoints:function(b){b=b.shadyRoot._insertionPoints=d(b.shadyRoot).querySelectorAll(f);for(var e=0,c;e<b.length;e++)c=b[e],a.Logical.saveChildNodes(c),a.Logical.saveChildNodes(a.Logical.getParentNode(c))},_nodeNeedsDistribution:function(a){return a&&
a.shadyRoot&&b.hasInsertionPoint(a.shadyRoot)},_addNodeToHost:function(a,b){a._elementAdd&&a._elementAdd(b)},_removeNodeFromHost:function(a,b){a._elementRemove&&a._elementRemove(b)},_removeDistributedChildren:function(b,e){var c;b=b._insertionPoints;for(var l=0;l<b.length;l++){var f=b[l];if(this._contains(e,f))for(var f=d(f).getDistributedNodes(),g=0;g<f.length;g++){c=!0;var m=f[g],t=a.Composed.getParentNode(m);t&&a.Composed.removeChild(t,m)}}return c},_contains:function(b,e){for(;e;){if(e==b)return!0;
e=a.Logical.getParentNode(e)}},_removeOwnerShadyRoot:function(b){if(this._hasCachedOwnerRoot(b))for(var e=a.Logical.getChildNodes(b),c=0,l=e.length,f;c<l&&(f=e[c]);c++)this._removeOwnerShadyRoot(f);b._ownerShadyRoot=void 0},_firstComposedNode:function(a){for(var b=d(a).getDistributedNodes(),c=0,l=b.length,e,f;c<l&&(e=b[c]);c++)if(f=d(e).getDestinationInsertionPoints(),f[f.length-1]===a)return e},querySelector:function(a){return this._query(function(e){return b.matchesSelector.call(e,a)},this.node,
function(a){return!!a})[0]||null},querySelectorAll:function(a){return this._query(function(e){return b.matchesSelector.call(e,a)},this.node)},getDestinationInsertionPoints:function(){return this.node._destinationInsertionPoints||[]},getDistributedNodes:function(){return this.node._distributedNodes||[]},_clear:function(){for(;this.childNodes.length;)this.removeChild(this.childNodes[0])},setAttribute:function(a,b){this.node.setAttribute(a,b);this._maybeDistributeParent()},removeAttribute:function(a){this.node.removeAttribute(a);
this._maybeDistributeParent()},_maybeDistributeParent:function(){if(this._nodeNeedsDistribution(this.parentNode))return this._lazyDistribute(this.parentNode),!0},cloneNode:function(a){var b=m.call(this.node,!1);if(a){a=this.childNodes;for(var c=d(b),l=0,e;l<a.length;l++)e=d(a[l]).cloneNode(!0),c.appendChild(e)}return b},importNode:function(b,f){var c=this.node instanceof Document?this.node:this.node.ownerDocument,l=e.call(c,b,!1);if(f){b=a.Logical.getChildNodes(b);f=d(l);for(var g=0,m;g<b.length;g++)m=
d(c).importNode(b[g],!0),f.appendChild(m)}return l},_getComposedInnerHTML:function(){return g(this.node,!0)}});Object.defineProperties(b.prototype,{activeElement:{get:function(){var a=document.activeElement;if(!a)return null;var b=!!this.node._isShadyRoot;if(!(this.node===document||b&&this.node.host!==a&&this.node.host.contains(a)))return null;for(b=d(a).getOwnerRoot();b&&b!==this.node;)a=b.host,b=d(a).getOwnerRoot();return this.node===document?b?null:a:b===this.node?a:null},configurable:!0},childNodes:{get:function(){var b=
a.Logical.getChildNodes(this.node);return Array.isArray(b)?b:a.arrayCopyChildNodes(this.node)},configurable:!0},children:{get:function(){return a.Logical.hasChildNodes(this.node)?Array.prototype.filter.call(this.childNodes,function(a){return a.nodeType===Node.ELEMENT_NODE}):a.arrayCopyChildren(this.node)},configurable:!0},parentNode:{get:function(){return a.Logical.getParentNode(this.node)},configurable:!0},firstChild:{get:function(){return a.Logical.getFirstChild(this.node)},configurable:!0},lastChild:{get:function(){return a.Logical.getLastChild(this.node)},
configurable:!0},nextSibling:{get:function(){return a.Logical.getNextSibling(this.node)},configurable:!0},previousSibling:{get:function(){return a.Logical.getPreviousSibling(this.node)},configurable:!0},firstElementChild:{get:function(){return a.Logical.getFirstElementChild(this.node)},configurable:!0},lastElementChild:{get:function(){return a.Logical.getLastElementChild(this.node)},configurable:!0},nextElementSibling:{get:function(){return a.Logical.getNextElementSibling(this.node)},configurable:!0},
previousElementSibling:{get:function(){return a.Logical.getPreviousElementSibling(this.node)},configurable:!0},textContent:{get:function(){var a=this.node.nodeType;if(a===Node.TEXT_NODE||a===Node.COMMENT_NODE)return this.node.textContent;for(var a=[],b=0,c=this.childNodes,l;l=c[b];b++)l.nodeType!==Node.COMMENT_NODE&&a.push(l.textContent);return a.join("")},set:function(a){var b=this.node.nodeType;b===Node.TEXT_NODE||b===Node.COMMENT_NODE?this.node.textContent=a:(this._clear(),a&&this.appendChild(document.createTextNode(a)))},
configurable:!0},innerHTML:{get:function(){var a=this.node.nodeType;return a===Node.TEXT_NODE||a===Node.COMMENT_NODE?null:g(this.node)},set:function(b){var e=this.node.nodeType;if(e!==Node.TEXT_NODE||e!==Node.COMMENT_NODE)for(this._clear(),e=document.createElement("div"),e.innerHTML=b,b=a.arrayCopyChildNodes(e),e=0;e<b.length;e++)this.appendChild(b[e])},configurable:!0}});b.hasInsertionPoint=function(a){return!(!a||!a._insertionPoints.length)}}})();
(function(){var b=Polymer.TreeApi,d=Polymer.DomApi;if(Polymer.Settings.useShadow){Polymer.Base.extend(d.prototype,{querySelectorAll:function(a){return b.arrayCopy(this.node.querySelectorAll(a))},getOwnerRoot:function(){for(var a=this.node;a;){if(a.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&a.host)return a;a=a.parentNode}},importNode:function(a,b){return(this.node instanceof Document?this.node:this.node.ownerDocument).importNode(a,b)},getDestinationInsertionPoints:function(){var a=this.node.getDestinationInsertionPoints&&
this.node.getDestinationInsertionPoints();return a?b.arrayCopy(a):[]},getDistributedNodes:function(){var a=this.node.getDistributedNodes&&this.node.getDistributedNodes();return a?b.arrayCopy(a):[]}});Object.defineProperties(d.prototype,{activeElement:{get:function(){var a=d.wrap(this.node),b=a.activeElement;return a.contains(b)?b:null},configurable:!0},childNodes:{get:function(){return b.arrayCopyChildNodes(this.node)},configurable:!0},children:{get:function(){return b.arrayCopyChildren(this.node)},
configurable:!0},textContent:{get:function(){return this.node.textContent},set:function(a){return this.node.textContent=a},configurable:!0},innerHTML:{get:function(){return this.node.innerHTML},set:function(a){return this.node.innerHTML=a},configurable:!0}});var a=function(a){d.prototype[a]=function(){return this.node[a].apply(this.node,arguments)}};(function(b){for(var g=0;g<b.length;g++)a(b[g])})("cloneNode appendChild insertBefore removeChild replaceChild setAttribute removeAttribute querySelector".split(" "));
var g=function(a){Object.defineProperty(d.prototype,a,{get:function(){return this.node[a]},configurable:!0})};(function(a){for(var b=0;b<a.length;b++)g(a[b])})("parentNode firstChild lastChild nextSibling previousSibling firstElementChild lastElementChild nextElementSibling previousElementSibling".split(" "))}})();
Polymer.Base.extend(Polymer.dom,{_flushGuard:0,_FLUSH_MAX:100,_needsTakeRecords:!Polymer.Settings.useNativeCustomElements,_debouncers:[],_staticFlushList:[],_finishDebouncer:null,flush:function(){this._flushGuard=0;for(this._prepareFlush();this._debouncers.length&&this._flushGuard<this._FLUSH_MAX;){for(;this._debouncers.length;)this._debouncers.shift().complete();this._finishDebouncer&&this._finishDebouncer.complete();this._prepareFlush();this._flushGuard++}this._flushGuard>=this._FLUSH_MAX&&console.warn("Polymer.dom.flush aborted. Flush may not be complete.")},
_prepareFlush:function(){this._needsTakeRecords&&CustomElements.takeRecords();for(var b=0;b<this._staticFlushList.length;b++)this._staticFlushList[b]()},addStaticFlush:function(b){this._staticFlushList.push(b)},removeStaticFlush:function(b){b=this._staticFlushList.indexOf(b);0<=b&&this._staticFlushList.splice(b,1)},addDebouncer:function(b){this._debouncers.push(b);this._finishDebouncer=Polymer.Debounce(this._finishDebouncer,this._finishFlush)},_finishFlush:function(){Polymer.dom._debouncers=[]}});
Polymer.EventApi=function(){var b=Polymer.DomApi.ctor,d=Polymer.Settings;b.Event=function(a){this.event=a};b.Event.prototype=d.useShadow?{get rootTarget(){return this.event.path[0]},get localTarget(){return this.event.target},get path(){var a=this.event.path;Array.isArray(a)||(a=Array.prototype.slice.call(a));return a}}:{get rootTarget(){return this.event.target},get localTarget(){for(var a=this.event.currentTarget,a=a&&Polymer.dom(a).getOwnerRoot(),b=this.path,f=0;f<b.length;f++)if(Polymer.dom(b[f]).getOwnerRoot()===
a)return b[f]},get path(){if(!this.event._path){for(var a=[],b=this.rootTarget;b;){a.push(b);var f=Polymer.dom(b).getDestinationInsertionPoints();if(f.length){for(b=0;b<f.length-1;b++)a.push(f[b]);b=f[f.length-1]}else b=Polymer.dom(b).parentNode||b.host}a.push(window);this.event._path=a}return this.event._path}};return{factory:function(a){a.__eventApi||(a.__eventApi=new b.Event(a));return a.__eventApi}}}();
(function(){var b=Polymer.DomApi.ctor,d=Polymer.Settings.useShadow;Object.defineProperty(b.prototype,"classList",{get:function(){this._classList||(this._classList=new b.ClassList(this));return this._classList},configurable:!0});b.ClassList=function(a){this.domApi=a;this.node=a.node};b.ClassList.prototype={add:function(){this.node.classList.add.apply(this.node.classList,arguments);this._distributeParent()},remove:function(){this.node.classList.remove.apply(this.node.classList,arguments);this._distributeParent()},
toggle:function(){this.node.classList.toggle.apply(this.node.classList,arguments);this._distributeParent()},_distributeParent:function(){d||this.domApi._maybeDistributeParent()},contains:function(){return this.node.classList.contains.apply(this.node.classList,arguments)}}})();
(function(){var b=Polymer.DomApi.ctor,d=Polymer.Settings;b.EffectiveNodesObserver=function(a){this.domApi=a;this.node=this.domApi.node;this._listeners=[]};b.EffectiveNodesObserver.prototype={addListener:function(a){this._isSetup||(this._setup(),this._isSetup=!0);a={fn:a,_nodes:[]};this._listeners.push(a);this._scheduleNotify();return a},removeListener:function(a){var b=this._listeners.indexOf(a);0<=b&&(this._listeners.splice(b,1),a._nodes=[]);this._hasListeners()||(this._cleanup(),this._isSetup=!1)},
_setup:function(){this._observeContentElements(this.domApi.childNodes)},_cleanup:function(){this._unobserveContentElements(this.domApi.childNodes)},_hasListeners:function(){return!!this._listeners.length},_scheduleNotify:function(){this._debouncer&&this._debouncer.stop();this._debouncer=Polymer.Debounce(this._debouncer,this._notify);this._debouncer.context=this;Polymer.dom.addDebouncer(this._debouncer)},notify:function(){this._hasListeners()&&this._scheduleNotify()},_notify:function(){this._beforeCallListeners();
this._callListeners()},_beforeCallListeners:function(){this._updateContentElements()},_updateContentElements:function(){this._observeContentElements(this.domApi.childNodes)},_observeContentElements:function(a){for(var b=0,e;b<a.length&&(e=a[b]);b++)this._isContent(e)&&(e.__observeNodesMap=e.__observeNodesMap||new WeakMap,e.__observeNodesMap.has(this)||e.__observeNodesMap.set(this,this._observeContent(e)))},_observeContent:function(a){var b=this;a=Polymer.dom(a).observeNodes(function(){b._scheduleNotify()});
a._avoidChangeCalculation=!0;return a},_unobserveContentElements:function(a){for(var b=0,e,g;b<a.length&&(e=a[b]);b++)this._isContent(e)&&(g=e.__observeNodesMap.get(this))&&(Polymer.dom(e).unobserveNodes(g),e.__observeNodesMap.delete(this))},_isContent:function(a){return"content"===a.localName},_callListeners:function(){for(var a=this._listeners,b=this._getEffectiveNodes(),e=0,g;e<a.length&&(g=a[e]);e++){var h=this._generateListenerInfo(g,b);(h||g._alwaysNotify)&&this._callListener(g,h)}},_getEffectiveNodes:function(){return this.domApi.getEffectiveChildNodes()},
_generateListenerInfo:function(a,b){if(a._avoidChangeCalculation)return!0;for(var e={target:this.node,addedNodes:[],removedNodes:[]},g=Polymer.ArraySplice.calculateSplices(b,a._nodes),h=0,c;h<g.length&&(c=g[h]);h++)for(var l=0,d;l<c.removed.length&&(d=c.removed[l]);l++)e.removedNodes.push(d);h=0;for(c;h<g.length&&(c=g[h]);h++)for(l=c.index;l<c.index+c.addedCount;l++)e.addedNodes.push(b[l]);a._nodes=b;if(e.addedNodes.length||e.removedNodes.length)return e},_callListener:function(a,b){return a.fn.call(this.node,
b)},enableShadowAttributeTracking:function(){}};if(d.useShadow){var a=b.EffectiveNodesObserver.prototype._setup,g=b.EffectiveNodesObserver.prototype._cleanup;Polymer.Base.extend(b.EffectiveNodesObserver.prototype,{_setup:function(){if(!this._observer){var b=this;this._mutationHandler=function(a){a&&a.length&&b._scheduleNotify()};this._observer=new MutationObserver(this._mutationHandler);this._boundFlush=function(){b._flush()};Polymer.dom.addStaticFlush(this._boundFlush);this._observer.observe(this.node,
{childList:!0})}a.call(this)},_cleanup:function(){this._observer.disconnect();this._mutationHandler=this._observer=null;Polymer.dom.removeStaticFlush(this._boundFlush);g.call(this)},_flush:function(){this._observer&&this._mutationHandler(this._observer.takeRecords())},enableShadowAttributeTracking:function(){if(this._observer){this._makeContentListenersAlwaysNotify();this._observer.disconnect();this._observer.observe(this.node,{childList:!0,attributes:!0,subtree:!0});var a=this.domApi.getOwnerRoot();
(a=a&&a.host)&&Polymer.dom(a).observer&&Polymer.dom(a).observer.enableShadowAttributeTracking()}},_makeContentListenersAlwaysNotify:function(){for(var a=0,b;a<this._listeners.length;a++)b=this._listeners[a],b._alwaysNotify=b._isContentListener}})}})();
(function(){var b=Polymer.DomApi.ctor,d=Polymer.Settings;b.DistributedNodesObserver=function(a){b.EffectiveNodesObserver.call(this,a)};b.DistributedNodesObserver.prototype=Object.create(b.EffectiveNodesObserver.prototype);Polymer.Base.extend(b.DistributedNodesObserver.prototype,{_setup:function(){},_cleanup:function(){},_beforeCallListeners:function(){},_getEffectiveNodes:function(){return this.domApi.getDistributedNodes()}});d.useShadow&&Polymer.Base.extend(b.DistributedNodesObserver.prototype,{_setup:function(){if(!this._observer){var a=
this.domApi.getOwnerRoot();if(a=a&&a.host){var b=this;this._observer=Polymer.dom(a).observeNodes(function(){b._scheduleNotify()});this._observer._isContentListener=!0;this._hasAttrSelect()&&Polymer.dom(a).observer.enableShadowAttributeTracking()}}},_hasAttrSelect:function(){var a=this.node.getAttribute("select");return a&&a.match(/[[.]+/)},_cleanup:function(){var a=this.domApi.getOwnerRoot();(a=a&&a.host)&&Polymer.dom(a).unobserveNodes(this._observer);this._observer=null}})})();
(function(){function b(a,b){b._distributedNodes.push(a);var f=a._destinationInsertionPoints;f?f.push(b):a._destinationInsertionPoints=[b]}function d(a){for(var b=g.Logical.getChildNodes(a),f=0,h;f<b.length;f++)if(h=b[f],h.localName&&"content"===h.localName)return a.domHost}var a=Polymer.DomApi,g=Polymer.TreeApi;Polymer.Base._addFeature({_prepShady:function(){this._useContent=this._useContent||!!this._template},_setupShady:function(){this.shadyRoot=null;this.__domApi||(this.__domApi=null);this.__dom||
(this.__dom=null);this._ownerShadyRoot||(this._ownerShadyRoot=void 0)},_poolContent:function(){this._useContent&&g.Logical.saveChildNodes(this)},_setupRoot:function(){if(this._useContent&&(this._createLocalRoot(),!this.dataHost)){var a=g.Logical.getChildNodes(this);if(f&&a)for(var b=0;b<a.length;b++)CustomElements.upgrade(a[b])}},_createLocalRoot:function(){this.shadyRoot=this.root;this.shadyRoot._distributionClean=!1;this.shadyRoot._hasDistributed=!1;this.shadyRoot._isShadyRoot=!0;this.shadyRoot._dirtyRoots=
[];var a=this.shadyRoot._insertionPoints=!this._notes||this._notes._hasContent?this.shadyRoot.querySelectorAll("content"):[];g.Logical.saveChildNodes(this.shadyRoot);for(var b=0,f;b<a.length;b++)f=a[b],g.Logical.saveChildNodes(f),g.Logical.saveChildNodes(f.parentNode);this.shadyRoot.host=this},get domHost(){var a=Polymer.dom(this).getOwnerRoot();return a&&a.host},distributeContent:function(a){if(this.shadyRoot){this.shadyRoot._invalidInsertionPoints=this.shadyRoot._invalidInsertionPoints||a;for(a=
this;a&&d(a);)a=a.domHost;Polymer.dom(this)._lazyDistribute(a)}},_distributeContent:function(){this._useContent&&!this.shadyRoot._distributionClean&&(this.shadyRoot._invalidInsertionPoints&&(Polymer.dom(this)._updateInsertionPoints(this),this.shadyRoot._invalidInsertionPoints=!1),this._beginDistribute(),this._distributeDirtyRoots(),this._finishDistribute())},_beginDistribute:function(){this._useContent&&a.hasInsertionPoint(this.shadyRoot)&&(this._resetDistribution(),this._distributePool(this.shadyRoot,
this._collectPool()))},_distributeDirtyRoots:function(){for(var a=this.shadyRoot._dirtyRoots,b=0,f=a.length,h;b<f&&(h=a[b]);b++)h._distributeContent();this.shadyRoot._dirtyRoots=[]},_finishDistribute:function(){if(this._useContent){this.shadyRoot._distributionClean=!0;if(a.hasInsertionPoint(this.shadyRoot)){this._composeTree();for(var b=this.shadyRoot,e=0,f;e<b._insertionPoints.length;e++)f=b._insertionPoints[e],a.hasApi(f)&&Polymer.dom(f).notifyObserver()}else this.shadyRoot._hasDistributed?(b=this._composeNode(this),
this._updateChildNodes(this,b)):(g.Composed.clearChildNodes(this),this.appendChild(this.shadyRoot));this.shadyRoot._hasDistributed||a.hasApi(this)&&Polymer.dom(this).notifyObserver();this.shadyRoot._hasDistributed=!0}},elementMatches:function(b,e){return a.matchesSelector.call(e||this,b)},_resetDistribution:function(){for(var a=g.Logical.getChildNodes(this),b=0;b<a.length;b++){var f=a[b];f._destinationInsertionPoints&&(f._destinationInsertionPoints=void 0);if("content"==f.localName){var h=f._distributedNodes;
if(h)for(var c=0;c<h.length;c++){var l=h[c]._destinationInsertionPoints;l&&l.splice(l.indexOf(f)+1,l.length)}}}a=this.shadyRoot._insertionPoints;for(b=0;b<a.length;b++)a[b]._distributedNodes=[]},_collectPool:function(){for(var a=[],b=g.Logical.getChildNodes(this),f=0;f<b.length;f++){var h=b[f];"content"==h.localName?a.push.apply(a,h._distributedNodes):a.push(h)}return a},_distributePool:function(b,e){b=b._insertionPoints;for(var f=0,h=b.length,c;f<h&&(c=b[f]);f++){this._distributeInsertionPoint(c,
e);var l=g.Logical.getParentNode(c);l&&l.shadyRoot&&a.hasInsertionPoint(l.shadyRoot)&&l.shadyRoot._distributionClean&&(l.shadyRoot._distributionClean=!1,this.shadyRoot._dirtyRoots.push(l))}},_distributeInsertionPoint:function(a,e){for(var f=!1,h=0,c=e.length,l;h<c;h++)(l=e[h])&&this._matchesContentSelect(l,a)&&(b(l,a),e[h]=void 0,f=!0);if(!f)for(e=g.Logical.getChildNodes(a),f=0;f<e.length;f++)b(e[f],a)},_composeTree:function(){this._updateChildNodes(this,this._composeNode(this));for(var a=this.shadyRoot._insertionPoints,
b=0,f=a.length,h,c;b<f&&(h=a[b]);b++)c=g.Logical.getParentNode(h),c._useContent||c===this||c===this.shadyRoot||this._updateChildNodes(c,this._composeNode(c))},_composeNode:function(a){var b=[];a=g.Logical.getChildNodes(a.shadyRoot||a);for(var f=0;f<a.length;f++){var h=a[f];if("content"==h.localName)for(var c=h._distributedNodes,l=0;l<c.length;l++){var d=c[l],p=d._destinationInsertionPoints;p&&p[p.length-1]===h&&b.push(d)}else b.push(h)}return b},_updateChildNodes:function(a,b){for(var f=g.Composed.getChildNodes(a),
h=Polymer.ArraySplice.calculateSplices(b,f),c=0,l=0,d;c<h.length&&(d=h[c]);c++){for(var p=0,q;p<d.removed.length&&(q=d.removed[p]);p++)g.Composed.getParentNode(q)===a&&g.Composed.removeChild(a,q),f.splice(d.index+l,1);l-=d.addedCount}for(c=0;c<h.length&&(d=h[c]);c++)for(l=f[d.index],p=d.index,q;p<d.index+d.addedCount;p++)q=b[p],g.Composed.insertBefore(a,q,l),f.splice(p,0,q)},_matchesContentSelect:function(a,b){b=b.getAttribute("select");return b?(b=b.trim())?a instanceof Element&&/^(:not\()?[*.#[a-zA-Z_|]/.test(b)?
this.elementMatches(b,a):!1:!0:!0},_elementAdd:function(){},_elementRemove:function(){}});var f=window.CustomElements&&!CustomElements.useNative})();Polymer.Settings.useShadow&&Polymer.Base._addFeature({_poolContent:function(){},_beginDistribute:function(){},distributeContent:function(){},_distributeContent:function(){},_finishDistribute:function(){},_createLocalRoot:function(){this.createShadowRoot();this.shadowRoot.appendChild(this.root);this.root=this.shadowRoot}});
Polymer.Async={_currVal:0,_lastVal:0,_callbacks:[],_twiddleContent:0,_twiddle:document.createTextNode(""),run:function(b,d){if(0<d)return~setTimeout(b,d);this._twiddle.textContent=this._twiddleContent++;this._callbacks.push(b);return this._currVal++},cancel:function(b){if(0>b)clearTimeout(~b);else{var d=b-this._lastVal;if(0<=d){if(!this._callbacks[d])throw"invalid async handle: "+b;this._callbacks[d]=null}}},_atEndOfMicrotask:function(){for(var b=this._callbacks.length,d=0;d<b;d++){var a=this._callbacks[d];
if(a)try{a()}catch(g){throw d++,this._callbacks.splice(0,d),this._lastVal+=d,this._twiddle.textContent=this._twiddleContent++,g;}}this._callbacks.splice(0,b);this._lastVal+=b}};(new window.MutationObserver(function(){Polymer.Async._atEndOfMicrotask()})).observe(Polymer.Async._twiddle,{characterData:!0});
Polymer.Debounce=function(){var b=Polymer.Async,d=function(a){this.context=a;var b=this;this.boundComplete=function(){b.complete()}};d.prototype={go:function(a,g){var f;this.finish=function(){b.cancel(f)};f=b.run(this.boundComplete,g);this.callback=a},stop:function(){this.finish&&(this.finish(),this.callback=this.finish=null)},complete:function(){if(this.finish){var a=this.callback;this.stop();a.call(this.context)}}};return function(a,b,f){a?a.stop():a=new d(this);a.go(b,f);return a}}();
Polymer.Base._addFeature({_setupDebouncers:function(){this._debouncers={}},debounce:function(b,d,a){return this._debouncers[b]=Polymer.Debounce.call(this,this._debouncers[b],d,a)},isDebouncerActive:function(b){b=this._debouncers[b];return!(!b||!b.finish)},flushDebouncer:function(b){(b=this._debouncers[b])&&b.complete()},cancelDebouncer:function(b){(b=this._debouncers[b])&&b.stop()}});Polymer.DomModule=document.createElement("dom-module");
Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs();this._prepBehaviors();this._prepConstructor();this._prepTemplate();this._prepShady();this._prepPropertyInfo()},_prepBehavior:function(b){this._addHostAttributes(b.hostAttributes)},_initFeatures:function(){this._registerHost();this._template&&(this._poolContent(),this._beginHosting(),this._stampTemplate(),this._endHosting());this._marshalHostAttributes();this._setupDebouncers();this._marshalBehaviors();this._tryReady()},_marshalBehavior:function(b){}});
Polymer.nar=[];
Polymer.Annotations={parseAnnotations:function(b){var d=[];this._parseNodeAnnotations(b._content||b.content,d,b.hasAttribute("strip-whitespace"));return d},_parseNodeAnnotations:function(b,d,a){return b.nodeType===Node.TEXT_NODE?this._parseTextNodeAnnotation(b,d):this._parseElementAnnotations(b,d,a)},_bindingRegex:function(){return/(\[\[|{{)\s*(?:(!)\s*)?((?:[a-zA-Z_$][\w.:$\-*]*)\s*(?:\(\s*(?:(?:(?:(?:[a-zA-Z_$][\w.:$\-*]*)|(?:[-+]?[0-9]*\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\]|\\.)*')|(?:"(?:[^"\\]|\\.)*"))\s*)(?:,\s*(?:(?:[a-zA-Z_$][\w.:$\-*]*)|(?:[-+]?[0-9]*\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\]|\\.)*')|(?:"(?:[^"\\]|\\.)*"))\s*))*)?)\)\s*)?)(?:]]|}})/g}(),_parseBindings:function(b){for(var d=
this._bindingRegex,a=[],g=0,f;null!==(f=d.exec(b));){f.index>g&&a.push({literal:b.slice(g,f.index)});var g=f[1][0],m=!!f[2];f=f[3].trim();var e,k,h;"{"==g&&0<(h=f.indexOf("::"))&&(k=f.substring(h+2),f=f.substring(0,h),e=!0);a.push({compoundIndex:a.length,value:f,mode:g,negate:m,event:k,customEvent:e});g=d.lastIndex}g&&g<b.length&&(b=b.substring(g))&&a.push({literal:b});if(a.length)return a},_literalFromParts:function(b){for(var d="",a=0;a<b.length;a++)d+=b[a].literal||"";return d},_parseTextNodeAnnotation:function(b,
d){var a=this._parseBindings(b.textContent);if(a)return b.textContent=this._literalFromParts(a)||" ",b={bindings:[{kind:"text",name:"textContent",parts:a,isCompound:1!==a.length}]},d.push(b),b},_parseElementAnnotations:function(b,d,a){var g={bindings:[],events:[]};"content"===b.localName&&(d._hasContent=!0);this._parseChildNodesAnnotations(b,g,d,a);b.attributes&&(this._parseNodeAttributeAnnotations(b,g,d),this.prepElement&&this.prepElement(b));(g.bindings.length||g.events.length||g.id)&&d.push(g);
return g},_parseChildNodesAnnotations:function(b,d,a,g){if(b.firstChild)for(var f=b.firstChild,m=0;f;){var e=f.nextSibling;"template"!==f.localName||f.hasAttribute("preserve-content")||this._parseTemplate(f,m,a,d);if(f.nodeType===Node.TEXT_NODE){for(var k=e;k&&k.nodeType===Node.TEXT_NODE;)f.textContent+=k.textContent,e=k.nextSibling,b.removeChild(k),k=e;g&&!f.textContent.trim()&&(b.removeChild(f),m--)}f.parentNode&&(f=this._parseNodeAnnotations(f,a,g))&&(f.parent=d,f.index=m);f=e;m++}},_parseTemplate:function(b,
d,a,g){var f=document.createDocumentFragment();f._notes=this.parseAnnotations(b);f.appendChild(b.content);a.push({bindings:Polymer.nar,events:Polymer.nar,templateContent:f,parent:g,index:d})},_parseNodeAttributeAnnotations:function(b,d){for(var a=Array.prototype.slice.call(b.attributes),g=a.length-1,f;f=a[g];g--){var m=f.name;f=f.value;var e;"on-"===m.slice(0,3)?(b.removeAttribute(m),d.events.push({name:m.slice(3),value:f})):(e=this._parseNodeAttributeAnnotation(b,m,f))?d.bindings.push(e):"id"===
m&&(d.id=f)}},_parseNodeAttributeAnnotation:function(b,d,a){if(a=this._parseBindings(a)){var g=d,f="property";"$"==d[d.length-1]&&(d=d.slice(0,-1),f="attribute");var m=this._literalFromParts(a);m&&"attribute"==f&&b.setAttribute(d,m);"input"===b.localName&&"value"===g&&b.setAttribute(g,"");b.removeAttribute(g);b=Polymer.CaseMap.dashToCamelCase(d);"property"===f&&(d=b);return{kind:f,name:d,propertyName:b,parts:a,literal:m,isCompound:1!==a.length}}},findAnnotatedNode:function(b,d){var a=d.parent&&Polymer.Annotations.findAnnotatedNode(b,
d.parent);if(a)for(b=a.firstChild,a=0;b;b=b.nextSibling){if(d.index===a++)return b}else return b}};
(function(){function b(a,c){return a.replace(f,function(a,b,e,f){return b+"'"+d(e.replace(/["']/g,""),c)+"'"+f})}function d(a,c){if(a&&e.test(a))return a;c=c.__urlResolver||(c.__urlResolver=c.createElement("a"));c.href=a;return c.href||a}var a,g,f=/(url\()([^)]*)(\))/g,m={"*":["href","src","style","url"],form:["action"]},e=/(^\/)|(^#)|(^[\w-\d]*:)/,k=/\{\{|\[\[/;Polymer.ResolveUrl={resolveCss:b,resolveAttrs:function(a,c){for(var l in m)for(var e=m[l],f=0,g=e.length,t,v,y;f<g&&(t=e[f]);f++)("*"===
l||a.localName===l)&&(y=(v=a.attributes[t])&&v.value)&&0>y.search(k)&&(v.value="style"===t?b(y,c):d(y,c))},resolveUrl:function(b,c){a||(a=document.implementation.createHTMLDocument("temp"),g=a.createElement("base"),a.head.appendChild(g));g.href=c;return d(b,a)}}})();
Polymer.Base._addFeature({_prepAnnotations:function(){if(this._template){var b=this;Polymer.Annotations.prepElement=function(d){b._prepElement(d)};this._template._content&&this._template._content._notes?this._notes=this._template._content._notes:(this._notes=Polymer.Annotations.parseAnnotations(this._template),this._processAnnotations(this._notes));Polymer.Annotations.prepElement=null}else this._notes=[]},_processAnnotations:function(b){for(var d=0;d<b.length;d++){for(var a=b[d],g=0;g<a.bindings.length;g++)for(var f=
a.bindings[g],m=0;m<f.parts.length;m++){var e=f.parts[m];if(!e.literal){var k=this._parseMethod(e.value);k?e.signature=k:e.model=this._modelForPath(e.value)}}if(a.templateContent){this._processAnnotations(a.templateContent._notes);var f=a.templateContent._parentProps=this._discoverTemplateParentProps(a.templateContent._notes),g=[],h;for(h in f)f="_parent_"+h,g.push({index:a.index,kind:"property",name:f,propertyName:f,parts:[{mode:"{",model:h,value:h}]});a.bindings=a.bindings.concat(g)}}},_discoverTemplateParentProps:function(b){for(var d=
{},a=0,g;a<b.length&&(g=b[a]);a++){for(var f=0,m=g.bindings,e;f<m.length&&(e=m[f]);f++)for(var k=0,h=e.parts,c;k<h.length&&(c=h[k]);k++)if(c.signature){for(var l=c.signature.args,n=0;n<l.length;n++){var p=l[n].model;p&&(d[p]=!0)}c.signature.dynamicFn&&(d[c.signature.method]=!0)}else c.model&&(d[c.model]=!0);g.templateContent&&Polymer.Base.mixin(d,g.templateContent._parentProps)}return d},_prepElement:function(b){Polymer.ResolveUrl.resolveAttrs(b,this._template.ownerDocument)},_findAnnotatedNode:Polymer.Annotations.findAnnotatedNode,
_marshalAnnotationReferences:function(){this._template&&(this._marshalIdNodes(),this._marshalAnnotatedNodes(),this._marshalAnnotatedListeners())},_configureAnnotationReferences:function(){for(var b=this._notes,d=this._nodes,a=0;a<b.length;a++){var g=b[a],f=d[a];this._configureTemplateContent(g,f);this._configureCompoundBindings(g,f)}},_configureTemplateContent:function(b,d){b.templateContent&&(d._content=b.templateContent)},_configureCompoundBindings:function(b,d){b=b.bindings;for(var a=0;a<b.length;a++){var g=
b[a];if(g.isCompound){for(var f=d.__compoundStorage__||(d.__compoundStorage__={}),m=g.parts,e=Array(m.length),k=0;k<m.length;k++)e[k]=m[k].literal;m=g.name;f[m]=e;g.literal&&"property"==g.kind&&(d._configValue?d._configValue(m,g.literal):d[m]=g.literal)}}},_marshalIdNodes:function(){this.$={};for(var b=0,d=this._notes.length,a;b<d&&(a=this._notes[b]);b++)a.id&&(this.$[a.id]=this._findAnnotatedNode(this.root,a))},_marshalAnnotatedNodes:function(){if(this._notes&&this._notes.length){for(var b=Array(this._notes.length),
d=0;d<this._notes.length;d++)b[d]=this._findAnnotatedNode(this.root,this._notes[d]);this._nodes=b}},_marshalAnnotatedListeners:function(){for(var b=0,d=this._notes.length,a;b<d&&(a=this._notes[b]);b++)if(a.events&&a.events.length)for(var g=this._findAnnotatedNode(this.root,a),f=0,m=a.events,e;f<m.length&&(e=m[f]);f++)this.listen(g,e.name,e.value)}});
Polymer.Base._addFeature({listeners:{},_listenListeners:function(b){var d,a,g;for(g in b)0>g.indexOf(".")?(d=this,a=g):(a=g.split("."),d=this.$[a[0]],a=a[1]),this.listen(d,a,b[g])},listen:function(b,d,a){var g=this._recallEventHandler(this,d,b,a);g||(g=this._createEventHandler(b,d,a));g._listening||(this._listen(b,d,g),g._listening=!0)},_boundListenerKey:function(b,d){return b+":"+d},_recordEventHandler:function(b,d,a,g,f){var m=b.__boundListeners;m||(m=b.__boundListeners=new WeakMap);b=m.get(a);
b||(b={},m.set(a,b));d=this._boundListenerKey(d,g);b[d]=f},_recallEventHandler:function(b,d,a,g){if(b=b.__boundListeners)if(a=b.get(a))return d=this._boundListenerKey(d,g),a[d]},_createEventHandler:function(b,d,a){var g=this,f=function(b){if(g[a])g[a](b,b.detail);else g._warn(g._logf("_createEventHandler","listener method `"+a+"` not defined"))};f._listening=!1;this._recordEventHandler(g,d,b,a,f);return f},unlisten:function(b,d,a){if(a=this._recallEventHandler(this,d,b,a))this._unlisten(b,d,a),a._listening=
!1},_listen:function(b,d,a){b.addEventListener(d,a)},_unlisten:function(b,d,a){b.removeEventListener(d,a)}});
(function(){function b(c){for(var a=0,b;a<k.length;a++)b=k[a],c?document.addEventListener(b,n,!0):document.removeEventListener(b,n,!0)}function d(){l||(p.mouse.mouseIgnoreJob||b(!0),p.mouse.mouseIgnoreJob=Polymer.Debounce(p.mouse.mouseIgnoreJob,function(){b();p.mouse.target=null;p.mouse.mouseIgnoreJob=null},2500))}function a(a){var b=a.type;return-1===k.indexOf(b)?!1:"mousemove"===b?(b=void 0===a.buttons?1:a.buttons,a instanceof window.MouseEvent&&!c&&(b=h[a.which]||0),!!(b&1)):0===(void 0===a.button?
0:a.button)}function g(c,a,b){c.movefn=a;c.upfn=b;document.addEventListener("mousemove",a);document.addEventListener("mouseup",b)}function f(c){document.removeEventListener("mousemove",c.movefn);document.removeEventListener("mouseup",c.upfn);c.movefn=null;c.upfn=null}var m=Polymer.DomApi.wrap,e="string"===typeof document.head.style.touchAction,k=["mousedown","mousemove","mouseup","click"],h=[0,1,4,2],c;try{c=1===(new MouseEvent("test",{buttons:1})).buttons}catch(v){c=!1}var l=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/),
n=function(c){var a=c.sourceCapabilities;if(!a||a.firesTouchEvents)if(c.__polymerGesturesHandled={skip:!0},"click"===c.type){for(var a=Polymer.dom(c).path,b=0;b<a.length;b++)if(a[b]===p.mouse.target)return;c.preventDefault();c.stopPropagation()}},p={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}},q={gestures:{},recognizers:[],deepTargetFind:function(c,a){for(var b=document.elementFromPoint(c,a),l=b;l&&l.shadowRoot;)(l=l.shadowRoot.elementFromPoint(c,a))&&(b=l);return b},
findOriginalTarget:function(c){return c.path?c.path[0]:c.target},handleNative:function(c){var a,b=c.type,l=m(c.currentTarget).__polymerGestures;if(l&&(l=l[b])){if(!c.__polymerGesturesHandled&&(c.__polymerGesturesHandled={},"touch"===b.slice(0,5))){a=c.changedTouches[0];"touchstart"===b&&1===c.touches.length&&(p.touch.id=a.identifier);if(p.touch.id!==a.identifier)return;e||"touchstart"!==b&&"touchmove"!==b||q.handleTouchAction(c);"touchend"===b&&(p.mouse.target=Polymer.dom(c).rootTarget,d())}a=c.__polymerGesturesHandled;
if(!a.skip){for(var f=q.recognizers,h=0,g;h<f.length;h++)g=f[h],l[g.name]&&!a[g.name]&&g.flow&&-1<g.flow.start.indexOf(c.type)&&g.reset&&g.reset();h=0;for(g;h<f.length;h++)g=f[h],l[g.name]&&!a[g.name]&&(a[g.name]=!0,g[b](c))}}},handleTouchAction:function(c){var a=c.changedTouches[0],b=c.type;if("touchstart"===b)p.touch.x=a.clientX,p.touch.y=a.clientY,p.touch.scrollDecided=!1;else if("touchmove"===b&&!p.touch.scrollDecided){p.touch.scrollDecided=!0;for(var b=Polymer.dom(c).path,l="auto",e=0,f;e<b.length;e++)if(f=
b[e],f.__polymerGesturesTouchAction){l=f.__polymerGesturesTouchAction;break}b=l;l=!1;e=Math.abs(p.touch.x-a.clientX);a=Math.abs(p.touch.y-a.clientY);c.cancelable&&("none"===b?l=!0:"pan-x"===b?l=a>e:"pan-y"===b&&(l=e>a));l?c.preventDefault():q.prevent("track")}},add:function(c,a,b){c=m(c);var e=this.gestures[a],f=e.deps,h=e.name,g=c.__polymerGestures;g||(c.__polymerGestures=g={});for(var d=0,n,p;d<f.length;d++)n=f[d],l&&-1<k.indexOf(n)||((p=g[n])||(g[n]=p={_count:0}),0===p._count&&c.addEventListener(n,
this.handleNative),p[h]=(p[h]||0)+1,p._count=(p._count||0)+1);c.addEventListener(a,b);e.touchAction&&this.setTouchAction(c,e.touchAction)},remove:function(c,a,b){c=m(c);var l=this.gestures[a],e=l.deps,l=l.name,f=c.__polymerGestures;if(f)for(var h=0,g,d;h<e.length;h++)g=e[h],(d=f[g])&&d[l]&&(d[l]=(d[l]||1)-1,d._count=(d._count||1)-1,0===d._count&&c.removeEventListener(g,this.handleNative));c.removeEventListener(a,b)},register:function(c){this.recognizers.push(c);for(var a=0;a<c.emits.length;a++)this.gestures[c.emits[a]]=
c},findRecognizerByEvent:function(c){for(var a=0,b;a<this.recognizers.length;a++){b=this.recognizers[a];for(var l=0,e;l<b.emits.length;l++)if(e=b.emits[l],e===c)return b}return null},setTouchAction:function(c,a){e&&(c.style.touchAction=a);c.__polymerGesturesTouchAction=a},fire:function(c,a,b){Polymer.Base.fire(a,b,{node:c,bubbles:!0,cancelable:!0}).defaultPrevented&&(c=b.preventer||b.sourceEvent)&&c.preventDefault&&c.preventDefault()},prevent:function(c){c=this.findRecognizerByEvent(c);c.info&&(c.info.prevent=
!0)},resetMouseCanceller:function(){p.mouse.mouseIgnoreJob&&p.mouse.mouseIgnoreJob.complete()}};q.register({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset:function(){f(this.info)},mousedown:function(c){if(a(c)){var b=q.findOriginalTarget(c),l=this;g(this.info,function(c){a(c)||(l.fire("up",b,c),f(l.info))},function(c){a(c)&&l.fire("up",b,c);f(l.info)});this.fire("down",
b,c)}},touchstart:function(c){this.fire("down",q.findOriginalTarget(c),c.changedTouches[0],c)},touchend:function(c){this.fire("up",q.findOriginalTarget(c),c.changedTouches[0],c)},fire:function(c,a,b,l){q.fire(a,c,{x:b.clientX,y:b.clientY,sourceEvent:b,preventer:l,prevent:function(c){return q.prevent(c)}})}});q.register({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,
y:0,state:"start",started:!1,moves:[],addMove:function(c){2<this.moves.length&&this.moves.shift();this.moves.push(c)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state="start";this.info.started=!1;this.info.moves=[];this.info.x=0;this.info.y=0;this.info.prevent=!1;f(this.info)},hasMovedEnough:function(c,a){if(this.info.prevent)return!1;if(this.info.started)return!0;a=Math.abs(this.info.y-a);return 5<=Math.abs(this.info.x-c)||5<=a},mousedown:function(c){if(a(c)){var b=q.findOriginalTarget(c),
l=this,e=function(c){var e=c.clientX,h=c.clientY;l.hasMovedEnough(e,h)&&(l.info.state=l.info.started?"mouseup"===c.type?"end":"track":"start","start"===l.info.state&&q.prevent("tap"),l.info.addMove({x:e,y:h}),a(c)||(l.info.state="end",f(l.info)),l.fire(b,c),l.info.started=!0)};g(this.info,e,function(c){l.info.started&&e(c);f(l.info)});this.info.x=c.clientX;this.info.y=c.clientY}},touchstart:function(c){c=c.changedTouches[0];this.info.x=c.clientX;this.info.y=c.clientY},touchmove:function(c){var a=
q.findOriginalTarget(c);c=c.changedTouches[0];var b=c.clientX,l=c.clientY;this.hasMovedEnough(b,l)&&("start"===this.info.state&&q.prevent("tap"),this.info.addMove({x:b,y:l}),this.fire(a,c),this.info.state="track",this.info.started=!0)},touchend:function(c){var a=q.findOriginalTarget(c),b=c.changedTouches[0];this.info.started&&(this.info.state="end",this.info.addMove({x:b.clientX,y:b.clientY}),this.fire(a,b,c))},fire:function(c,a,b){var l=this.info.moves[this.info.moves.length-2],e=this.info.moves[this.info.moves.length-
1],f=e.x-this.info.x,h=e.y-this.info.y,g,d=0;l&&(g=e.x-l.x,d=e.y-l.y);return q.fire(c,"track",{state:this.info.state,x:a.clientX,y:a.clientY,dx:f,dy:h,ddx:g,ddy:d,sourceEvent:a,preventer:b,hover:function(){return q.deepTargetFind(a.clientX,a.clientY)}})}});q.register({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN;this.info.y=NaN;this.info.prevent=
!1},save:function(c){this.info.x=c.clientX;this.info.y=c.clientY},mousedown:function(c){a(c)&&this.save(c)},click:function(c){a(c)&&this.forward(c)},touchstart:function(c){this.save(c.changedTouches[0],c)},touchend:function(c){this.forward(c.changedTouches[0],c)},forward:function(c,a){var b=Math.abs(c.clientX-this.info.x),l=Math.abs(c.clientY-this.info.y),e=q.findOriginalTarget(c);if(!(b=isNaN(b)||isNaN(l)||25>=b&&25>=l))if("click"===c.type)if(0===c.detail)b=!0;else var b=q.findOriginalTarget(c).getBoundingClientRect(),
l=c.pageX,f=c.pageY,b=!(l>=b.left&&l<=b.right&&f>=b.top&&f<=b.bottom);else b=!1;b&&(this.info.prevent||q.fire(e,"tap",{x:c.clientX,y:c.clientY,sourceEvent:c,preventer:a}))}});var t={x:"pan-x",y:"pan-y",none:"none",all:"auto"};Polymer.Base._addFeature({_setupGestures:function(){this.__polymerGestures=null},_listen:function(c,a,b){q.gestures[a]?q.add(c,a,b):c.addEventListener(a,b)},_unlisten:function(c,a,b){q.gestures[a]?q.remove(c,a,b):c.removeEventListener(a,b)},setScrollDirection:function(c,a){q.setTouchAction(a||
this,t[c]||"auto")}});Polymer.Gestures=q})();
(function(){Polymer.Base._addFeature({$$:function(b){return Polymer.dom(this.root).querySelector(b)},toggleClass:function(b,a,g){g=g||this;1==arguments.length&&(a=!g.classList.contains(b));a?Polymer.dom(g).classList.add(b):Polymer.dom(g).classList.remove(b)},toggleAttribute:function(b,a,g){g=g||this;1==arguments.length&&(a=!g.hasAttribute(b));a?Polymer.dom(g).setAttribute(b,""):Polymer.dom(g).removeAttribute(b)},classFollows:function(b,a,g){g&&Polymer.dom(g).classList.remove(b);a&&Polymer.dom(a).classList.add(b)},
attributeFollows:function(b,a,g){g&&Polymer.dom(g).removeAttribute(b);a&&Polymer.dom(a).setAttribute(b,"")},getEffectiveChildNodes:function(){return Polymer.dom(this).getEffectiveChildNodes()},getEffectiveChildren:function(){return Polymer.dom(this).getEffectiveChildNodes().filter(function(b){return b.nodeType===Node.ELEMENT_NODE})},getEffectiveTextContent:function(){for(var b=this.getEffectiveChildNodes(),a=[],g=0,f;f=b[g];g++)f.nodeType!==Node.COMMENT_NODE&&a.push(Polymer.dom(f).textContent);return a.join("")},
queryEffectiveChildren:function(b){return(b=Polymer.dom(this).queryDistributedElements(b))&&b[0]},queryAllEffectiveChildren:function(b){return Polymer.dom(this).queryDistributedElements(b)},getContentChildNodes:function(b){return(b=Polymer.dom(this.root).querySelector(b||"content"))?Polymer.dom(b).getDistributedNodes():[]},getContentChildren:function(b){return this.getContentChildNodes(b).filter(function(a){return a.nodeType===Node.ELEMENT_NODE})},fire:function(b,a,g){g=g||Polymer.nob;var f=g.node||
this;a=null===a||void 0===a?{}:a;var m=g._useCache;g=this._getEvent(b,void 0===g.bubbles?!0:g.bubbles,!!g.cancelable,m);g.detail=a;m&&(this.__eventCache[b]=null);f.dispatchEvent(g);m&&(this.__eventCache[b]=g);return g},__eventCache:{},_getEvent:function(b,a,g,f){(f=f&&this.__eventCache[b])&&f.bubbles==a&&f.cancelable==g||(f=new Event(b,{bubbles:!!a,cancelable:g}));return f},async:function(b,a){var g=this;return Polymer.Async.run(function(){b.call(g)},a)},cancelAsync:function(b){Polymer.Async.cancel(b)},
arrayDelete:function(b,a){if(Array.isArray(b)){if(a=b.indexOf(a),0<=a)return b.splice(a,1)}else if(a=this._get(b).indexOf(a),0<=a)return this.splice(b,a,1)},transform:function(b,a){a=a||this;a.style.webkitTransform=b;a.style.transform=b},translate3d:function(b,a,g,f){this.transform("translate3d("+b+","+a+","+g+")",f||this)},importHref:function(b,a,g,f){var m=document.createElement("link");m.rel="import";m.href=b;b=Polymer.Base.importHref.imported=Polymer.Base.importHref.imported||{};var e=b[m.href],
k=e||m,h=this;if(a){var c=function(b){b.target.__firedLoad=!0;b.target.removeEventListener("load",c);return a.call(h,b)};k.addEventListener("load",c)}if(g){var l=function(c){c.target.__firedError=!0;c.target.removeEventListener("error",l);return g.call(h,c)};k.addEventListener("error",l)}e?(e.__firedLoad&&e.dispatchEvent(new Event("load")),e.__firedError&&e.dispatchEvent(new Event("error"))):(b[m.href]=m,f&&m.setAttribute("async",""),document.head.appendChild(m));return k},create:function(b,a){b=
document.createElement(b);if(a)for(var g in a)b[g]=a[g];return b},isLightDescendant:function(b){return this!==b&&this.contains(b)&&Polymer.dom(this).getOwnerRoot()===Polymer.dom(b).getOwnerRoot()},isLocalDescendant:function(b){return this.root===Polymer.dom(b).getOwnerRoot()}});if(!Polymer.Settings.useNativeCustomElements){var b=Polymer.Base.importHref;Polymer.Base.importHref=function(d,a,g,f){CustomElements.ready=!1;return b.call(this,d,function(b){CustomElements.upgradeDocumentTree(document);CustomElements.ready=
!0;if(a)return a.call(this,b)},g,f)}}})();
Polymer.Bind={prepareModel:function(b){Polymer.Base.mixin(b,this._modelApi)},_modelApi:{_notifyChange:function(b,d,a){a=void 0===a?this[b]:a;d=d||Polymer.CaseMap.camelToDashCase(b)+"-changed";this.fire(d,{value:a},{bubbles:!1,cancelable:!1,_useCache:!0})},_propertySetter:function(b,d,a,g){var f=this.__data__[b];f===d||f!==f&&d!==d||(this.__data__[b]=d,"object"==typeof d&&this._clearPath(b),this._propertyChanged&&this._propertyChanged(b,d,f),a&&this._effectEffects(b,d,a,f,g));return f},__setProperty:function(b,
d,a,g){g=g||this;var f=g._propertyEffects&&g._propertyEffects[b];f?g._propertySetter(b,d,f,a):g[b]!==d&&(g[b]=d)},_effectEffects:function(b,d,a,g,f){d=0;for(var m=a.length,e;d<m&&(e=a[d]);d++)e.fn.call(this,b,this[b],e.effect,g,f)},_clearPath:function(b){for(var d in this.__data__)0===d.indexOf(b+".")&&(this.__data__[d]=void 0)}},ensurePropertyEffects:function(b,d){b._propertyEffects||(b._propertyEffects={});var a=b._propertyEffects[d];a||(a=b._propertyEffects[d]=[]);return a},addPropertyEffect:function(b,
d,a,g){b=this.ensurePropertyEffects(b,d);a={kind:a,effect:g,fn:Polymer.Bind["_"+a+"Effect"]};b.push(a);return a},createBindings:function(b){var d=b._propertyEffects;if(d)for(var a in d){var g=d[a];g.sort(this._sortPropertyEffects);this._createAccessors(b,a,g)}},_sortPropertyEffects:function(){var b={compute:0,annotation:1,annotatedComputation:2,reflect:3,notify:4,observer:5,complexObserver:6,"function":7};return function(d,a){return b[d.kind]-b[a.kind]}}(),_createAccessors:function(b,d,a){var g={get:function(){return this.__data__[d]}},
f=function(b){this._propertySetter(d,b,a)},m=b.getPropertyInfo&&b.getPropertyInfo(d);m&&m.readOnly?m.computed||(b["_set"+this.upper(d)]=f):g.set=f;Object.defineProperty(b,d,g)},upper:function(b){return b[0].toUpperCase()+b.substring(1)},_addAnnotatedListener:function(b,d,a,g,f,m){b._bindListeners||(b._bindListeners=[]);m=this._notedListenerFactory(a,g,this._isStructured(g),m);f=f||Polymer.CaseMap.camelToDashCase(a)+"-changed";b._bindListeners.push({index:d,property:a,path:g,changedFn:m,event:f})},
_isStructured:function(b){return 0<b.indexOf(".")},_isEventBogus:function(b,d){return b.path&&b.path[0]!==d},_notedListenerFactory:function(b,d,a,g){return function(f,m,e){e?this._notifyPath(this._fixPath(d,b,e),m):(m=f[b],g&&(m=!m),a?this.__data__[d]!=m&&this.set(d,m):this[d]=m)}},prepareInstance:function(b){b.__data__=Object.create(null)},setupBindListeners:function(b){for(var d=b._bindListeners,a=0,g=d.length,f;a<g&&(f=d[a]);a++)this._addNotifyListener(b._nodes[f.index],b,f.event,f.changedFn)},
_addNotifyListener:function(b,d,a,g){b.addEventListener(a,function(a){return d._notifyListener(g,a)})}};
Polymer.Base.extend(Polymer.Bind,{_shouldAddListener:function(b){return b.name&&"attribute"!=b.kind&&"text"!=b.kind&&!b.isCompound&&"{"===b.parts[0].mode},_annotationEffect:function(b,d,a){b!=a.value&&(d=this._get(a.value),this.__data__[a.value]=d);this._applyEffectValue(a,d)},_reflectEffect:function(b,d,a){this.reflectPropertyToAttribute(b,a.attribute,d)},_notifyEffect:function(b,d,a,g,f){f||this._notifyChange(b,a.event,d)},_functionEffect:function(b,d,a,g,f){a.call(this,b,d,g,f)},_observerEffect:function(b,
d,a,g){(b=this[a.method])?b.call(this,d,g):this._warn(this._logf("_observerEffect","observer method `"+a.method+"` not defined"))},_complexObserverEffect:function(b,d,a){var g=this[a.method];g?(b=Polymer.Bind._marshalArgs(this.__data__,a,b,d))&&g.apply(this,b):a.dynamicFn||this._warn(this._logf("_complexObserverEffect","observer method `"+a.method+"` not defined"))},_computeEffect:function(b,d,a){var g=this[a.method];if(g){if(b=Polymer.Bind._marshalArgs(this.__data__,a,b,d))g=g.apply(this,b),this.__setProperty(a.name,
g)}else a.dynamicFn||this._warn(this._logf("_computeEffect","compute method `"+a.method+"` not defined"))},_annotatedComputationEffect:function(b,d,a){var g=this._rootDataHost||this,f=g[a.method];if(f){if(b=Polymer.Bind._marshalArgs(this.__data__,a,b,d))g=f.apply(g,b),this._applyEffectValue(a,g)}else a.dynamicFn||g._warn(g._logf("_annotatedComputationEffect","compute method `"+a.method+"` not defined"))},_marshalArgs:function(b,d,a,g){var f=[],m=d.args;d=1<m.length||d.dynamicFn;for(var e=0,k=m.length;e<
k;e++){var h=m[e],c=h.name,l;h.literal?l=h.value:a===c?l=g:(l=b[c],void 0===l&&h.structured&&(l=Polymer.Base._get(c,b)));if(d&&void 0===l)return;h.wildcard?(h=0===a.indexOf(c+"."),f[e]={path:h?a:c,value:h?g:l,base:l}):f[e]=l}return f}});
Polymer.Base._addFeature({_addPropertyEffect:function(b,d,a){b=Polymer.Bind.addPropertyEffect(this,b,d,a);b.pathFn=this["_"+b.kind+"PathEffect"]},_prepEffects:function(){Polymer.Bind.prepareModel(this);this._addAnnotationEffects(this._notes)},_prepBindings:function(){Polymer.Bind.createBindings(this)},_addPropertyEffects:function(b){if(b)for(var d in b){var a=b[d];a.observer&&this._addObserverEffect(d,a.observer);a.computed&&(a.readOnly=!0,this._addComputedEffect(d,a.computed));a.notify&&this._addPropertyEffect(d,
"notify",{event:Polymer.CaseMap.camelToDashCase(d)+"-changed"});if(a.reflectToAttribute){var g=Polymer.CaseMap.camelToDashCase(d);"-"===g[0]?this._warn(this._logf("_addPropertyEffects","Property "+d+" cannot be reflected to attribute "+g+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.')):this._addPropertyEffect(d,"reflect",{attribute:g})}a.readOnly&&Polymer.Bind.ensurePropertyEffects(this,d)}},_addComputedEffect:function(b,d){d=this._parseMethod(d);
for(var a=d.dynamicFn,g=0,f;g<d.args.length&&(f=d.args[g]);g++)this._addPropertyEffect(f.model,"compute",{method:d.method,args:d.args,trigger:f,name:b,dynamicFn:a});a&&this._addPropertyEffect(d.method,"compute",{method:d.method,args:d.args,trigger:null,name:b,dynamicFn:a})},_addObserverEffect:function(b,d){this._addPropertyEffect(b,"observer",{method:d,property:b})},_addComplexObserverEffects:function(b){if(b)for(var d=0,a;d<b.length&&(a=b[d]);d++)this._addComplexObserverEffect(a)},_addComplexObserverEffect:function(b){var d=
this._parseMethod(b);if(!d)throw Error("Malformed observer expression '"+b+"'");b=d.dynamicFn;for(var a=0,g;a<d.args.length&&(g=d.args[a]);a++)this._addPropertyEffect(g.model,"complexObserver",{method:d.method,args:d.args,trigger:g,dynamicFn:b});b&&this._addPropertyEffect(d.method,"complexObserver",{method:d.method,args:d.args,trigger:null,dynamicFn:b})},_addAnnotationEffects:function(b){for(var d=0,a;d<b.length&&(a=b[d]);d++)for(var g=a.bindings,f=0,m;f<g.length&&(m=g[f]);f++)this._addAnnotationEffect(m,
d)},_addAnnotationEffect:function(b,d){Polymer.Bind._shouldAddListener(b)&&Polymer.Bind._addAnnotatedListener(this,d,b.name,b.parts[0].value,b.parts[0].event,b.parts[0].negate);for(var a=0;a<b.parts.length;a++){var g=b.parts[a];g.signature?this._addAnnotatedComputationEffect(b,g,d):g.literal||("attribute"===b.kind&&"-"===b.name[0]?this._warn(this._logf("_addAnnotationEffect","Cannot set attribute "+b.name+' because "-" is not a valid attribute starting character')):this._addPropertyEffect(g.model,
"annotation",{kind:b.kind,index:d,name:b.name,propertyName:b.propertyName,value:g.value,isCompound:b.isCompound,compoundIndex:g.compoundIndex,event:g.event,customEvent:g.customEvent,negate:g.negate}))}},_addAnnotatedComputationEffect:function(b,d,a){var g=d.signature;if(g.static)this.__addAnnotatedComputationEffect("__static__",a,b,d,null);else{for(var f=0,m;f<g.args.length&&(m=g.args[f]);f++)m.literal||this.__addAnnotatedComputationEffect(m.model,a,b,d,m);g.dynamicFn&&this.__addAnnotatedComputationEffect(g.method,
a,b,d,null)}},__addAnnotatedComputationEffect:function(b,d,a,g,f){this._addPropertyEffect(b,"annotatedComputation",{index:d,isCompound:a.isCompound,compoundIndex:g.compoundIndex,kind:a.kind,name:a.name,negate:g.negate,method:g.signature.method,args:g.signature.args,trigger:f,dynamicFn:g.signature.dynamicFn})},_parseMethod:function(b){var d=b.match(/([^\s]+?)\(([\s\S]*)\)/);if(d){b={method:d[1],static:!0};this.getPropertyInfo(b.method)!==Polymer.nob&&(b.static=!1,b.dynamicFn=!0);if(d[2].trim())return d=
d[2].replace(/\\,/g,"&comma;").split(","),this._parseArgs(d,b);b.args=Polymer.nar;return b}},_parseArgs:function(b,d){d.args=b.map(function(a){a=this._parseArg(a);a.literal||(d.static=!1);return a},this);return d},_parseArg:function(b){b=b.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1");var d={name:b},a=b[0];"-"===a&&(a=b[1]);"0"<=a&&"9">=a&&(a="#");switch(a){case "'":case '"':d.value=b.slice(1,-1);d.literal=!0;break;case "#":d.value=Number(b),d.literal=!0}d.literal||(d.model=this._modelForPath(b),
d.structured=0<b.indexOf("."),d.structured&&(d.wildcard=".*"==b.slice(-2),d.wildcard&&(d.name=b.slice(0,-2))));return d},_marshalInstanceEffects:function(){Polymer.Bind.prepareInstance(this);this._bindListeners&&Polymer.Bind.setupBindListeners(this)},_applyEffectValue:function(b,d){var a=this._nodes[b.index],g=b.name;d=this._computeFinalAnnotationValue(a,g,d,b);"attribute"==b.kind?this.serializeValueToAttribute(d,g,a):(b=a._propertyInfo&&a._propertyInfo[g])&&b.readOnly||this.__setProperty(g,d,!1,
a)},_computeFinalAnnotationValue:function(b,d,a,g){g.negate&&(a=!a);if(g.isCompound){var f=b.__compoundStorage__[d];f[g.compoundIndex]=a;a=f.join("")}"attribute"!==g.kind&&("className"===d&&(a=this._scopeElementClass(b,a)),"textContent"===d||"input"==b.localName&&"value"==d)&&(a=void 0==a?"":a);return a},_executeStaticEffects:function(){this._propertyEffects&&this._propertyEffects.__static__&&this._effectEffects("__static__",null,this._propertyEffects.__static__)}});
(function(){var b=Polymer.Settings.usePolyfillProto;Polymer.Base._addFeature({_setupConfigure:function(b){this._config={};this._handlers=[];this._aboveConfig=null;if(b)for(var a in b)void 0!==b[a]&&(this._config[a]=b[a])},_marshalAttributes:function(){this._takeAttributesToModel(this._config)},_attributeChangedImpl:function(b){this._setAttributeToProperty(this._clientsReadied?this:this._config,b)},_configValue:function(b,a){var g=this._propertyInfo[b];g&&g.readOnly||(this._config[b]=a)},_beforeClientsReady:function(){this._configure()},
_configure:function(){this._configureAnnotationReferences();this._configureInstanceProperties();this._aboveConfig=this.mixin({},this._config);for(var b={},a=0;a<this.behaviors.length;a++)this._configureProperties(this.behaviors[a].properties,b);this._configureProperties(this.properties,b);this.mixin(b,this._aboveConfig);this._config=b;this._clients&&this._clients.length&&this._distributeConfig(this._config)},_configureInstanceProperties:function(){for(var d in this._propertyEffects)!b&&this.hasOwnProperty(d)&&
(this._configValue(d,this[d]),delete this[d])},_configureProperties:function(b,a){for(var g in b){var f=b[g];void 0!==f.value&&(f=f.value,"function"==typeof f&&(f=f.call(this,this._config)),a[g]=f)}},_distributeConfig:function(b){var a=this._propertyEffects;if(a)for(var g in b){var f=a[g];if(f)for(var m=0,e=f.length,k;m<e&&(k=f[m]);m++)if("annotation"===k.kind){var h=this._nodes[k.effect.index],c=k.effect.propertyName,l="attribute"==k.effect.kind,n=h._propertyEffects&&h._propertyEffects[c];!h._configValue||
!n&&l||(n=g===k.effect.value?b[g]:this._get(k.effect.value,b),n=this._computeFinalAnnotationValue(h,c,n,k.effect),l&&(n=h.deserialize(this.serialize(n),h._propertyInfo[c].type)),h._configValue(c,n))}}},_afterClientsReady:function(){this._executeStaticEffects();this._applyConfig(this._config,this._aboveConfig);this._flushHandlers()},_applyConfig:function(b,a){for(var g in b)void 0===this[g]&&this.__setProperty(g,b[g],g in a)},_notifyListener:function(b,a){if(!Polymer.Bind._isEventBogus(a,a.target)){var g,
f;a.detail&&(g=a.detail.value,f=a.detail.path);if(this._clientsReadied)return b.call(this,a.target,g,f);this._queueHandler([b,a.target,g,f])}},_queueHandler:function(b){this._handlers.push(b)},_flushHandlers:function(){for(var b=this._handlers,a=0,g=b.length,f;a<g&&(f=b[a]);a++)f[0].call(this,f[1],f[2],f[3]);this._handlers=[]}})})();
(function(){Polymer.Base._addFeature({notifyPath:function(b,d,a){var g={},f=this._get(b,this,g);1===arguments.length&&(d=f);g.path&&this._notifyPath(g.path,d,a)},_notifyPath:function(b,d,a){var g=this._propertySetter(b,d);if(g!==d&&(g===g||d===d))return this._pathEffector(b,d),a||this._notifyPathUp(b,d),!0},_getPathParts:function(b){if(Array.isArray(b)){for(var d=[],a=0;a<b.length;a++)for(var g=b[a].toString().split("."),f=0;f<g.length;f++)d.push(g[f]);return d}return b.toString().split(".")},set:function(b,
d,a){var g=a||this,f=this._getPathParts(b),m,e=f[f.length-1];if(1<f.length){for(b=0;b<f.length-1;b++){var k=f[b];m&&"#"==k[0]?g=Polymer.Collection.get(m).getItem(k):(g=g[k],m&&parseInt(k,10)==k&&(f[b]=Polymer.Collection.get(m).getKey(g)));if(!g)return;m=Array.isArray(g)?g:null}if(m){var k=Polymer.Collection.get(m),h,c;"#"==e[0]?(c=e,h=k.getItem(c),e=m.indexOf(h),k.setItem(c,d)):parseInt(e,10)==e&&(h=g[e],c=k.getKey(h),f[b]=c,k.setItem(c,d))}g[e]=d;a||this._notifyPath(f.join("."),d)}else g[b]=d},get:function(b,
d){return this._get(b,d)},_get:function(b,d,a){d=d||this;b=this._getPathParts(b);for(var g,f=0;f<b.length;f++){if(!d)return;var m=b[f];g&&"#"==m[0]?d=Polymer.Collection.get(g).getItem(m):(d=d[m],a&&g&&parseInt(m,10)==m&&(b[f]=Polymer.Collection.get(g).getKey(d)));g=Array.isArray(d)?d:null}a&&(a.path=b.join("."));return d},_pathEffector:function(b,d){var a=this._modelForPath(b);if(a=this._propertyEffects&&this._propertyEffects[a])for(var g=0,f;g<a.length&&(f=a[g]);g++){var m=f.pathFn;m&&m.call(this,
b,d,f.effect)}this._boundPaths&&this._notifyBoundPaths(b,d)},_annotationPathEffect:function(b,d,a){if(a.value===b||0===a.value.indexOf(b+"."))Polymer.Bind._annotationEffect.call(this,b,d,a);else if(0===b.indexOf(a.value+".")&&!a.negate){var g=this._nodes[a.index];g&&g._notifyPath&&(b=this._fixPath(a.name,a.value,b),g._notifyPath(b,d,!0))}},_complexObserverPathEffect:function(b,d,a){this._pathMatchesEffect(b,a)&&Polymer.Bind._complexObserverEffect.call(this,b,d,a)},_computePathEffect:function(b,d,
a){this._pathMatchesEffect(b,a)&&Polymer.Bind._computeEffect.call(this,b,d,a)},_annotatedComputationPathEffect:function(b,d,a){this._pathMatchesEffect(b,a)&&Polymer.Bind._annotatedComputationEffect.call(this,b,d,a)},_pathMatchesEffect:function(b,d){var a=d.trigger.name;return a==b||0===a.indexOf(b+".")||d.trigger.wildcard&&0===b.indexOf(a+".")},linkPaths:function(b,d){this._boundPaths=this._boundPaths||{};d?this._boundPaths[b]=d:this.unlinkPaths(b)},unlinkPaths:function(b){this._boundPaths&&delete this._boundPaths[b]},
_notifyBoundPaths:function(b,d){for(var a in this._boundPaths){var g=this._boundPaths[a];0==b.indexOf(a+".")?this._notifyPath(this._fixPath(g,a,b),d):0==b.indexOf(g+".")&&this._notifyPath(this._fixPath(a,g,b),d)}},_fixPath:function(b,d,a){return b+a.slice(d.length)},_notifyPathUp:function(b,d){var a=this._modelForPath(b),a=Polymer.CaseMap.camelToDashCase(a)+this._EVENT_CHANGED;this.fire(a,{path:b,value:d},{bubbles:!1,_useCache:!0})},_modelForPath:function(b){var d=b.indexOf(".");return 0>d?b:b.slice(0,
d)},_EVENT_CHANGED:"-changed",notifySplices:function(b,d){var a={};b=this._get(b,this,a);this._notifySplices(b,a.path,d)},_notifySplices:function(b,d,a){a={keySplices:Polymer.Collection.applySplices(b,a),indexSplices:a};var g=d+".splices";this._notifyPath(g,a);this._notifyPath(d+".length",b.length);this.__data__[g]={keySplices:null,indexSplices:null}},_notifySplice:function(b,d,a,g,f){this._notifySplices(b,d,[{index:a,addedCount:g,removed:f,object:b,type:"splice"}])},push:function(b){var d={},a=this._get(b,
this,d),g=Array.prototype.slice.call(arguments,1),f=a.length,m=a.push.apply(a,g);g.length&&this._notifySplice(a,d.path,f,g.length,[]);return m},pop:function(b){var d={},a=this._get(b,this,d),g=!!a.length,f=Array.prototype.slice.call(arguments,1),f=a.pop.apply(a,f);g&&this._notifySplice(a,d.path,a.length,0,[f]);return f},splice:function(b,d){var a={},g=this._get(b,this,a);(d=0>d?g.length-Math.floor(-d):Math.floor(d))||(d=0);var f=Array.prototype.slice.call(arguments,1),m=g.splice.apply(g,f);((f=Math.max(f.length-
2,0))||m.length)&&this._notifySplice(g,a.path,d,f,m);return m},shift:function(b){var d={},a=this._get(b,this,d),g=!!a.length,f=Array.prototype.slice.call(arguments,1),f=a.shift.apply(a,f);g&&this._notifySplice(a,d.path,0,0,[f]);return f},unshift:function(b){var d={},a=this._get(b,this,d),g=Array.prototype.slice.call(arguments,1),f=a.unshift.apply(a,g);g.length&&this._notifySplice(a,d.path,0,g.length,[]);return f},prepareModelNotifyPath:function(b){this.mixin(b,{fire:Polymer.Base.fire,_getEvent:Polymer.Base._getEvent,
__eventCache:Polymer.Base.__eventCache,notifyPath:Polymer.Base.notifyPath,_get:Polymer.Base._get,_EVENT_CHANGED:Polymer.Base._EVENT_CHANGED,_notifyPath:Polymer.Base._notifyPath,_notifyPathUp:Polymer.Base._notifyPathUp,_pathEffector:Polymer.Base._pathEffector,_annotationPathEffect:Polymer.Base._annotationPathEffect,_complexObserverPathEffect:Polymer.Base._complexObserverPathEffect,_annotatedComputationPathEffect:Polymer.Base._annotatedComputationPathEffect,_computePathEffect:Polymer.Base._computePathEffect,
_modelForPath:Polymer.Base._modelForPath,_pathMatchesEffect:Polymer.Base._pathMatchesEffect,_notifyBoundPaths:Polymer.Base._notifyBoundPaths,_getPathParts:Polymer.Base._getPathParts})}})})();Polymer.Base._addFeature({resolveUrl:function(b){var d=Polymer.DomModule.import(this.is),a="";d&&(a=d.getAttribute("assetpath")||"",a=Polymer.ResolveUrl.resolveUrl(a,d.ownerDocument.baseURI));return Polymer.ResolveUrl.resolveUrl(b,a)}});
Polymer.CssParse=function(){return{parse:function(b){b=this._clean(b);return this._parseCss(this._lex(b),b)},_clean:function(b){return b.replace(this._rx.comments,"").replace(this._rx.port,"")},_lex:function(b){for(var d={start:0,end:b.length},a=d,g=0,f=b.length;g<f;g++)switch(b[g]){case this.OPEN_BRACE:a.rules||(a.rules=[]);var m=a,a={start:g+1,parent:m,previous:m.rules[m.rules.length-1]};m.rules.push(a);break;case this.CLOSE_BRACE:a.end=g+1,a=a.parent||d}return d},_parseCss:function(b,d){var a=
d.substring(b.start,b.end-1);b.parsedCssText=b.cssText=a.trim();b.parent&&(a=d.substring(b.previous?b.previous.end:b.parent.start,b.start-1),a=this._expandUnicodeEscapes(a),a=a.replace(this._rx.multipleSpaces," "),a=a.substring(a.lastIndexOf(";")+1),a=b.parsedSelector=b.selector=a.trim(),b.atRule=0===a.indexOf(this.AT_START),b.atRule?0===a.indexOf(this.MEDIA_START)?b.type=this.types.MEDIA_RULE:a.match(this._rx.keyframesRule)&&(b.type=this.types.KEYFRAMES_RULE,b.keyframesName=b.selector.split(this._rx.multipleSpaces).pop()):
0===a.indexOf(this.VAR_START)?b.type=this.types.MIXIN_RULE:b.type=this.types.STYLE_RULE);if(a=b.rules)for(var g=0,f=a.length,m;g<f&&(m=a[g]);g++)this._parseCss(m,d);return b},_expandUnicodeEscapes:function(b){return b.replace(/\\([0-9a-f]{1,6})\s/gi,function(b,a){b=a;for(a=6-b.length;a--;)b="0"+b;return"\\"+b})},stringify:function(b,d,a){a=a||"";var g="";if(b.cssText||b.rules){var f=b.rules;if(f&&!this._hasMixinRules(f))for(var m=0,e=f.length,k;m<e&&(k=f[m]);m++)g=this.stringify(k,d,g);else g=d?b.cssText:
this.removeCustomProps(b.cssText),(g=g.trim())&&(g="  "+g+"\n")}g&&(b.selector&&(a+=b.selector+" "+this.OPEN_BRACE+"\n"),a+=g,b.selector&&(a+=this.CLOSE_BRACE+"\n\n"));return a},_hasMixinRules:function(b){return 0===b[0].selector.indexOf(this.VAR_START)},removeCustomProps:function(b){b=this.removeCustomPropAssignment(b);return this.removeCustomPropApply(b)},removeCustomPropAssignment:function(b){return b.replace(this._rx.customProp,"").replace(this._rx.mixinProp,"")},removeCustomPropApply:function(b){return b.replace(this._rx.mixinApply,
"").replace(this._rx.varApply,"")},types:{STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1E3},OPEN_BRACE:"{",CLOSE_BRACE:"}",_rx:{comments:/\/\*[^*]*\*+([^\/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/,multipleSpaces:/\s+/g},
VAR_START:"--",MEDIA_START:"@media",AT_START:"@"}}();
Polymer.StyleUtil=function(){var b=Polymer.Settings;return{NATIVE_VARIABLES:Polymer.Settings.useNativeCSSProperties,MODULE_STYLES_SELECTOR:"style, link[rel=import][type~=css], template",INCLUDE_ATTR:"include",toCssText:function(b,a){"string"===typeof b&&(b=this.parser.parse(b));a&&this.forEachRule(b,a);return this.parser.stringify(b,this.NATIVE_VARIABLES)},forRulesInStyles:function(b,a,g){if(b)for(var f=0,m=b.length,e;f<m&&(e=b[f]);f++)this.forEachRuleInStyle(e,a,g)},forActiveRulesInStyles:function(b,
a,g){if(b)for(var f=0,m=b.length,e;f<m&&(e=b[f]);f++)this.forEachRuleInStyle(e,a,g,!0)},rulesForStyle:function(b){!b.__cssRules&&b.textContent&&(b.__cssRules=this.parser.parse(b.textContent));return b.__cssRules},isKeyframesSelector:function(b){return b.parent&&b.parent.type===this.ruleTypes.KEYFRAMES_RULE},forEachRuleInStyle:function(b,a,g,f){var m=this.rulesForStyle(b),e,k;a&&(e=function(e){a(e,b)});g&&(k=function(a){g(a,b)});this.forEachRule(m,e,k,f)},forEachRule:function(b,a,g,f){if(b){var m=
!1;if(f&&b.type===this.ruleTypes.MEDIA_RULE){var e=b.selector.match(this.rx.MEDIA_MATCH);e&&(window.matchMedia(e[1]).matches||(m=!0))}b.type===this.ruleTypes.STYLE_RULE?a(b):g&&b.type===this.ruleTypes.KEYFRAMES_RULE?g(b):b.type===this.ruleTypes.MIXIN_RULE&&(m=!0);if((b=b.rules)&&!m)for(var m=0,e=b.length,k;m<e&&(k=b[m]);m++)this.forEachRule(k,a,g,f)}},applyCss:function(b,a,g,f){b=this.createScopeStyle(b,a);return this.applyStyle(b,g,f)},applyStyle:function(b,a,g){a=a||document.head;g=g&&g.nextSibling||
a.firstChild;this.__lastHeadApplyNode=b;return a.insertBefore(b,g)},createScopeStyle:function(b,a){var g=document.createElement("style");a&&g.setAttribute("scope",a);g.textContent=b;return g},__lastHeadApplyNode:null,applyStylePlaceHolder:function(b){b=document.createComment(" Shady DOM styles for "+b+" ");var a=document.head;a.insertBefore(b,(this.__lastHeadApplyNode?this.__lastHeadApplyNode.nextSibling:null)||a.firstChild);return this.__lastHeadApplyNode=b},cssFromModules:function(b,a){b=b.trim().split(" ");
for(var g="",f=0;f<b.length;f++)g+=this.cssFromModule(b[f],a);return g},cssFromModule:function(b,a){var g=Polymer.DomModule.import(b);g&&!g._cssText&&(g._cssText=this.cssFromElement(g));!g&&a&&console.warn("Could not find style data in module named",b);return g&&g._cssText||""},cssFromElement:function(b){for(var a="",g=Polymer.TreeApi.arrayCopy((b.content||b).querySelectorAll(this.MODULE_STYLES_SELECTOR)),f=0,m;f<g.length;f++)if(m=g[f],"template"===m.localName)a+=this.cssFromElement(m);else if("style"===
m.localName){var e=m.getAttribute(this.INCLUDE_ATTR);e&&(a+=this.cssFromModules(e,!0));m=m.__appliedElement||m;m.parentNode.removeChild(m);a+=this.resolveCss(m.textContent,b.ownerDocument)}else m.import&&m.import.body&&(a+=this.resolveCss(m.import.body.textContent,m.import));return a},isTargetedBuild:function(d){return b.useNativeShadow?"shadow"===d:"shady"===d},cssBuildTypeForModule:function(b){if(b=Polymer.DomModule.import(b))return this.getCssBuildType(b)},getCssBuildType:function(b){return b.getAttribute("css-build")},
_findMatchingParen:function(b,a){for(var g=0,f=b.length;a<f;a++)switch(b[a]){case "(":g++;break;case ")":if(0===--g)return a}return-1},processVariableAndFallback:function(b,a){var g=b.indexOf("var(");if(-1===g)return a(b,"","","");var f=this._findMatchingParen(b,g+3),m=b.substring(g+4,f),g=b.substring(0,g);b=this.processVariableAndFallback(b.substring(f+1),a);var e=m.indexOf(",");if(-1===e)return a(g,m.trim(),"",b);f=m.substring(0,e).trim();m=m.substring(e+1).trim();return a(g,f,m,b)},rx:{VAR_ASSIGN:/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:([^;{]*)|{([^}]*)})(?:(?=[;\s}])|$)/gi,
MIXIN_MATCH:/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,VAR_CONSUMED:/(--[\w-]+)\s*([:,;)]|$)/gi,ANIMATION_MATCH:/(animation\s*:)|(animation-name\s*:)/,MEDIA_MATCH:/@media[^(]*(\([^)]*\))/,IS_VAR:/^--/,BRACKETED:/\{[^}]*\}/g,HOST_PREFIX:"(?:^|[^.#[:])",HOST_SUFFIX:"($|[.:[\\s>+~])"},resolveCss:Polymer.ResolveUrl.resolveCss,parser:Polymer.CssParse,ruleTypes:Polymer.CssParse.types}}();
Polymer.StyleTransformer=function(){var b=Polymer.StyleUtil,d=Polymer.Settings,a={dom:function(c,a,b,l){this._transformDom(c,a||"",b,l)},_transformDom:function(c,a,b,l){c.setAttribute&&this.element(c,a,b,l);c=Polymer.dom(c).childNodes;for(var e=0;e<c.length;e++)this._transformDom(c[e],a,b,l)},element:function(c,a,b,l){b?l?c.removeAttribute(g):c.setAttribute(g,a):a&&(c.classList?l?(c.classList.remove(g),c.classList.remove(a)):(c.classList.add(g),c.classList.add(a)):c.getAttribute&&(b=c.getAttribute(z),
l?b&&c.setAttribute(z,b.replace(g,"").replace(a,"")):c.setAttribute(z,(b?b+" ":"")+g+" "+a)))},elementStyles:function(c,a){for(var l=c._styles,e="",f=c.__cssBuild,h=0,g=l.length,m;h<g&&(m=l[h]);h++)var k=b.rulesForStyle(m),e=e+(d.useNativeShadow||"shady"===f?b.toCssText(k,a):this.css(k,c.is,c.extends,a,c._scopeCssViaAttr)+"\n\n");return e.trim()},css:function(c,a,l,e,f){var h=this._calcHostScope(a,l);a=this._calcElementScope(a,f);var g=this;return b.toCssText(c,function(c){c.isScoped||(g.rule(c,a,
h),c.isScoped=!0);e&&e(c,a,h)})},_calcElementScope:function(c,a){return c?a?y+c+E:v+c:""},_calcHostScope:function(c,a){return a?"[is="+c+"]":c},rule:function(c,a,b){this._transformRule(c,this._transformComplexSelector,a,b)},_transformRule:function(c,a,b,l){c.selector=c.transformedSelector=this._transformRuleCss(c,a,b,l)},_transformRuleCss:function(c,a,l,e){var f=c.selector.split(m);if(!b.isKeyframesSelector(c)){c=0;for(var h=f.length,g;c<h&&(g=f[c]);c++)f[c]=a.call(this,g,l,e)}return f.join(m)},_transformComplexSelector:function(c,
a,b){var l=!1,f=!1,g=this;c=c.trim();c=c.replace(G,h+" $1");c=c.replace(e,function(c,e,h){l?h=h.replace(t," "):(c=g._transformCompoundSelector(h,e,a,b),l=l||c.stop,f=f||c.hostContext,e=c.combinator,h=c.value);return e+h});f&&(c=c.replace(p,function(c,a,l,e){return a+l+" "+b+e+m+" "+a+b+l+e}));return c},_transformCompoundSelector:function(c,a,b,l){var e=c.search(t),f=!1;0<=c.indexOf(n)?f=!0:0<=c.indexOf(h)?c=this._transformHostSelector(c,l):0!==e&&(c=b?this._transformSimpleSelector(c,b):c);0<=c.indexOf(q)&&
(a="");var g;0<=e&&(c=c.replace(t," "),g=!0);return{value:c,combinator:a,stop:g,hostContext:f}},_transformSimpleSelector:function(c,a){c=c.split(F);c[0]+=a;return c.join(F)},_transformHostSelector:function(c,a){var b=c.match(l);return(b=b&&b[2].trim()||"")?b[0].match(k)?c.replace(l,function(c,b,l){return a+l}):b.split(k)[0]===a?b:J:c.replace(h,a)},documentRule:function(c){c.selector=c.parsedSelector;this.normalizeRootSelector(c);d.useNativeShadow||this._transformRule(c,this._transformDocumentSelector)},
normalizeRootSelector:function(a){a.selector===c&&(a.selector="html")},_transformDocumentSelector:function(c){return c.match(t)?this._transformComplexSelector(c,f):this._transformSimpleSelector(c.trim(),f)},SCOPE_NAME:"style-scope"},g=a.SCOPE_NAME,f=":not(["+g+"]):not(."+g+")",m=",",e=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=\[])+)/g,k=/[[.:#*]/,h=":host",c=":root",l=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,n=":host-context",p=/(.*)(?::host-context)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))(.*)/,q="::content",t=
/::content|::shadow|\/deep\//,v=".",y="["+g+"~=",E="]",F=":",z="class",G=new RegExp("^("+q+")"),J="should_not_match";return a}();
Polymer.StyleExtends=function(){var b=Polymer.StyleUtil;return{hasExtends:function(b){return!!b.match(this.rx.EXTEND)},transform:function(d){d=b.rulesForStyle(d);var a=this;b.forEachRule(d,function(b){a._mapRuleOntoParent(b);if(b.parent)for(var f;f=a.rx.EXTEND.exec(b.cssText);)(f=a._findExtendor(f[1],b))&&a._extendRule(b,f);b.cssText=b.cssText.replace(a.rx.EXTEND,"")});return b.toCssText(d,function(b){b.selector.match(a.rx.STRIP)&&(b.cssText="")},!0)},_mapRuleOntoParent:function(b){if(b.parent){for(var a=
b.parent.map||(b.parent.map={}),g=b.selector.split(","),f=0,m;f<g.length;f++)m=g[f],a[m.trim()]=b;return a}},_findExtendor:function(b,a){return a.parent&&a.parent.map&&a.parent.map[b]||this._findExtendor(b,a.parent)},_extendRule:function(b,a){b.parent!==a.parent&&this._cloneAndAddRuleToParent(a,b.parent);b.extends=b.extends||[];b.extends.push(a);a.selector=a.selector.replace(this.rx.STRIP,"");a.selector=(a.selector&&a.selector+",\n")+b.selector;a.extends&&a.extends.forEach(function(a){this._extendRule(b,
a)},this)},_cloneAndAddRuleToParent:function(b,a){b=Object.create(b);b.parent=a;b.extends&&(b.extends=b.extends.slice());a.rules.push(b)},rx:{EXTEND:/@extends\(([^)]*)\)\s*?;/gim,STRIP:/%[^,]*$/}}}();
Polymer.ApplyShim=function(){function b(c,a){c=c.trim();q[c]={properties:a,dependants:{}}}function d(c){c=c.trim();return q[c]}function a(c){c=c.split(";");for(var a,b,l={},e=0,f;e<c.length;e++)if(a=c[e])if(f=a.split(":"),1<f.length){b=a=f[0].trim();f=f.slice(1).join(":");var h=p.exec(f);h&&(f=h[1]?t._getInitialValueForProperty(b):"apply-shim-inherit");b=f;l[a]=b}return l}function g(c){var a=t.__currentElementProto,a=a&&a.is,b;for(b in c.dependants)b!==a&&(c.dependants[b].__applyShimInvalid=!0)}function f(c,
l,f,h){f&&k.processVariableAndFallback(f,function(c,a){a&&d(a)&&(h="@apply "+a+";")});if(!h)return c;var m=e(h),n=c.slice(0,c.indexOf("--")),p=m=a(m),q=d(l),H=q&&q.properties;H?(p=Object.create(H),p=Polymer.Base.mixin(p,m)):b(l,p);var t=[],I,A,B=!1;for(I in p)A=m[I],void 0===A&&(A="initial"),!H||I in H||(B=!0),t.push(l+"_-_"+I+": "+A);B&&g(q);q&&(q.properties=p);f&&(n=c+";"+n);return n+t.join("; ")+";"}function m(c,a,b){return"var("+a+",var("+b+"));"}function e(c){for(var l;l=h.exec(c);){var e=l[0],
f=l[1];l=l.index;var g=l+e.indexOf("@apply"),m=l+e.length,e=c.slice(0,g);c=c.slice(m);var g=a(e),f=f.replace(n,""),m=[],k=d(f);k||(b(f,{}),k=d(f));if(k){var p=t.__currentElementProto;p&&(k.dependants[p.is]=p);var p=void 0,q;for(p in k.properties)q=g&&g[p],k=[p,": var(",f,"_-_",p],q&&k.push(",",q),k.push(")"),m.push(k.join(""))}f=m.join("; ");c=[e,f,c].join("");h.lastIndex=l+f.length}return c}var k=Polymer.StyleUtil,h=k.rx.MIXIN_MATCH,c=k.rx.VAR_ASSIGN,l=/var\(\s*(--[^,]*),\s*(--[^)]*)\)/g,n=/;\s*/m,
p=/^\s*(initial)|(inherit)\s*$/,q={},t={_measureElement:null,_map:q,_separator:"_-_",transform:function(c,a){this.__currentElementProto=a;k.forRulesInStyles(c,this._boundTransformRule);a.__applyShimInvalid=!1;this.__currentElementProto=null},transformRule:function(c){c.cssText=this.transformCssText(c.parsedCssText);":root"===c.selector&&(c.selector=":host > *")},transformCssText:function(a){a=a.replace(l,m);a=a.replace(c,f);return e(a)},_getInitialValueForProperty:function(c){this._measureElement||
(this._measureElement=document.createElement("meta"),this._measureElement.style.all="initial",document.head.appendChild(this._measureElement));return window.getComputedStyle(this._measureElement).getPropertyValue(c)}};t._boundTransformRule=t.transformRule.bind(t);return t}();
(function(){var b=Polymer.Base._prepElement,d=Polymer.Settings.useNativeShadow,a=Polymer.StyleUtil,g=Polymer.StyleTransformer,f=Polymer.StyleExtends,m=Polymer.ApplyShim,e=Polymer.Settings;Polymer.Base._addFeature({_prepElement:function(a){this._encapsulateStyle&&"shady"!==this.__cssBuild&&g.element(a,this.is,this._scopeCssViaAttr);b.call(this,a)},_prepStyles:function(){void 0===this._encapsulateStyle&&(this._encapsulateStyle=!d);d||(this._scopeStyle=a.applyStylePlaceHolder(this.is));this.__cssBuild=
a.cssBuildTypeForModule(this.is)},_prepShimStyles:function(){if(this._template){var b=a.isTargetedBuild(this.__cssBuild);e.useNativeCSSProperties&&"shadow"===this.__cssBuild&&b||(this._styles=this._styles||this._collectStyles(),e.useNativeCSSProperties&&!this.__cssBuild&&m.transform(this._styles,this),b=e.useNativeCSSProperties&&b?this._styles.length&&this._styles[0].textContent.trim():g.elementStyles(this),this._prepStyleProperties(),!this._needsStyleProperties()&&b&&a.applyCss(b,this.is,d?this._template.content:
null,this._scopeStyle))}else this._styles=[]},_collectStyles:function(){var b=[],e="",c=this.styleModules;if(c)for(var l=0,g=c.length,d;l<g&&(d=c[l]);l++)e+=a.cssFromModule(d);e+=a.cssFromModule(this.is);c=this._template&&this._template.parentNode;!this._template||c&&c.id.toLowerCase()===this.is||(e+=a.cssFromElement(this._template));e&&(c=document.createElement("style"),c.textContent=e,f.hasExtends(c.textContent)&&f.transform(c),b.push(c));return b},_elementAdd:function(a){this._encapsulateStyle&&
(a.__styleScoped?a.__styleScoped=!1:g.dom(a,this.is,this._scopeCssViaAttr))},_elementRemove:function(a){this._encapsulateStyle&&g.dom(a,this.is,this._scopeCssViaAttr,!0)},scopeSubtree:function(a,b){if(!d){var c=this,l=function(a){if(a.nodeType===Node.ELEMENT_NODE){var b=a.getAttribute("class");a.setAttribute("class",c._scopeElementClass(a,b));a=a.querySelectorAll("*");for(var l=0,e;l<a.length&&(e=a[l]);l++)b=e.getAttribute("class"),e.setAttribute("class",c._scopeElementClass(e,b))}};l(a);if(b)return b=
new MutationObserver(function(c){for(var a=0,b;a<c.length&&(b=c[a]);a++)if(b.addedNodes)for(var e=0;e<b.addedNodes.length;e++)l(b.addedNodes[e])}),b.observe(a,{childList:!0,subtree:!0}),b}}})})();
Polymer.StyleProperties=function(){var b=Polymer.DomApi.matchesSelector,d=Polymer.StyleUtil,a=Polymer.StyleTransformer,g=navigator.userAgent.match("Trident"),f=Polymer.Settings;return{decorateStyles:function(b,e){var f=this,h={},c=[],l=0,g=a._calcHostScope(e.is,e.extends);d.forRulesInStyles(b,function(c,a){f.decorateRule(c);c.index=l++;f.whenHostOrRootRule(e,c,a,function(a){c.parent.type===d.ruleTypes.MEDIA_RULE&&(e.__notStyleScopeCacheable=!0);a.isHost&&(a=a.selector.split(" ").some(function(c){return 0===
c.indexOf(g)&&c.length!==g.length}),e.__notStyleScopeCacheable=e.__notStyleScopeCacheable||a)});f.collectPropertiesInCssText(c.propertyInfo.cssText,h)},function(a){c.push(a)});b._keyframes=c;b=[];for(var p in h)b.push(p);return b},decorateRule:function(a){if(a.propertyInfo)return a.propertyInfo;var b={},f={};this.collectProperties(a,f)&&(b.properties=f,a.rules=null);b.cssText=this.collectCssText(a);return a.propertyInfo=b},collectProperties:function(a,b){var f=a.propertyInfo;if(f){if(f.properties)return Polymer.Base.mixin(b,
f.properties),!0}else{for(var f=this.rx.VAR_ASSIGN,h=a.parsedCssText,c;a=f.exec(h);)c=(a[2]||a[3]).trim(),"inherit"!==c&&(b[a[1].trim()]=c),c=!0;return c}},collectCssText:function(a){return this.collectConsumingCssText(a.parsedCssText)},collectConsumingCssText:function(a){return a.replace(this.rx.BRACKETED,"").replace(this.rx.VAR_ASSIGN,"")},collectPropertiesInCssText:function(a,b){for(var f;f=this.rx.VAR_CONSUMED.exec(a);){var h=f[1];":"!==f[2]&&(b[h]=!0)}},reify:function(a){for(var b=Object.getOwnPropertyNames(a),
f=0,h;f<b.length;f++)h=b[f],a[h]=this.valueForProperty(a[h],a)},valueForProperty:function(a,b){if(a)if(0<=a.indexOf(";"))a=this.valueForProperties(a,b);else{var f=this;a=d.processVariableAndFallback(a,function(a,c,l,g){(c=f.valueForProperty(b[c],b))&&"initial"!==c?"apply-shim-inherit"===c&&(c="inherit"):c=f.valueForProperty(b[l]||l,b)||l;return a+(c||"")+g})}return a&&a.trim()||""},valueForProperties:function(a,b){a=a.split(";");for(var f=0,h,c;f<a.length;f++)if(h=a[f]){this.rx.MIXIN_MATCH.lastIndex=
0;if(c=this.rx.MIXIN_MATCH.exec(h))h=this.valueForProperty(b[c[1]],b);else if(c=h.indexOf(":"),-1!==c){var l=h.substring(c),l=l.trim(),l=this.valueForProperty(l,b)||l;h=h.substring(0,c)+l}a[f]=h&&h.lastIndexOf(";")===h.length-1?h.slice(0,-1):h||""}return a.join(";")},applyProperties:function(a,b){var f="";a.propertyInfo||this.decorateRule(a);a.propertyInfo.cssText&&(f=this.valueForProperties(a.propertyInfo.cssText,b));a.cssText=f},applyKeyframeTransforms:function(a,b){var f=a.cssText,h=a.cssText;
null==a.hasAnimations&&(a.hasAnimations=this.rx.ANIMATION_MATCH.test(f));if(a.hasAnimations)if(null==a.keyframeNamesToTransform){a.keyframeNamesToTransform=[];for(var c in b)h=b[c],h=h(f),f!==h&&(f=h,a.keyframeNamesToTransform.push(c))}else{for(c=0;c<a.keyframeNamesToTransform.length;++c)h=b[a.keyframeNamesToTransform[c]],f=h(f);h=f}a.cssText=h},propertyDataFromStyles:function(a,e){var f={},h=this,c=[];d.forActiveRulesInStyles(a,function(a){a.propertyInfo||h.decorateRule(a);var g=a.transformedSelector||
a.parsedSelector;e&&a.propertyInfo.properties&&g&&b.call(e,g)&&(h.collectProperties(a,f),a=a.index,g=parseInt(a/32),c[g]=(c[g]||0)|1<<a%32)});return{properties:f,key:c}},whenHostOrRootRule:function(b,e,g,h){e.propertyInfo||self.decorateRule(e);if(e.propertyInfo.properties){var c=b.is?a._calcHostScope(b.is,b.extends):"html",l=e.parsedSelector,d=":root"===l,p=0===l.indexOf(":host");g=b.__cssBuild||g.__cssBuild;"shady"===g&&(d=l===c+" > *."+c||-1!==l.indexOf("html"),p=!d&&0===l.indexOf(c));"shadow"===
g&&(d=":host > *"===l||"html"===l,p=p&&!d);if(d||p)l=c,p&&(f.useNativeShadow&&!e.transformedSelector&&(e.transformedSelector=a._transformRuleCss(e,a._transformComplexSelector,b.is,c)),l=e.transformedSelector||e.parsedSelector),h({selector:l,isHost:p,isRoot:d})}},hostAndRootPropertiesForScope:function(a){var e={},f={},h=this;d.forActiveRulesInStyles(a._styles,function(c,l){h.whenHostOrRootRule(a,c,l,function(l){b.call(a._element||a,l.selector)&&(l.isHost?h.collectProperties(c,e):h.collectProperties(c,
f))})});return{rootProps:f,hostProps:e}},transformStyles:function(b,e,g){var h=this,c=a._calcHostScope(b.is,b.extends),l=b.extends?"\\"+c.slice(0,-1)+"\\]":c,d=new RegExp(this.rx.HOST_PREFIX+l+this.rx.HOST_SUFFIX),p=this._elementKeyframeTransforms(b,g);return a.elementStyles(b,function(a){h.applyProperties(a,e);f.useNativeShadow||Polymer.StyleUtil.isKeyframesSelector(a)||!a.cssText||(h.applyKeyframeTransforms(a,p),h._scopeSelector(a,d,c,b._scopeCssViaAttr,g))})},_elementKeyframeTransforms:function(a,
b){a=a._styles._keyframes;var g={};if(!f.useNativeShadow&&a)for(var h=0,c=a[h];h<a.length;c=a[++h])this._scopeKeyframes(c,b),g[c.keyframesName]=this._keyframesRuleTransformer(c);return g},_keyframesRuleTransformer:function(a){return function(b){return b.replace(a.keyframesNameRx,a.transformedKeyframesName)}},_scopeKeyframes:function(a,b){a.keyframesNameRx=new RegExp(a.keyframesName,"g");a.transformedKeyframesName=a.keyframesName+"-"+b;a.transformedSelector=a.transformedSelector||a.selector;a.selector=
a.transformedSelector.replace(a.keyframesName,a.transformedKeyframesName)},_scopeSelector:function(b,e,f,h,c){b.transformedSelector=b.transformedSelector||b.selector;h=h?"["+a.SCOPE_NAME+"~="+c+"]":"."+c;c=b.transformedSelector.split(",");for(var l=0,g=c.length,d;l<g&&(d=c[l]);l++)c[l]=d.match(e)?d.replace(f,h):h+" "+d;b.selector=c.join(",")},applyElementScopeSelector:function(b,e,f,h){var c=h?b.getAttribute(a.SCOPE_NAME):b.getAttribute("class")||"";e=f?c.replace(f,e):(c?c+" ":"")+this.XSCOPE_NAME+
" "+e;c!==e&&(h?b.setAttribute(a.SCOPE_NAME,e):b.setAttribute("class",e))},applyElementStyle:function(a,b,k,h){b=h?h.textContent||"":this.transformStyles(a,b,k);var c=a._customStyle;c&&!f.useNativeShadow&&c!==h&&(c._useCount--,0>=c._useCount&&c.parentNode&&c.parentNode.removeChild(c));f.useNativeShadow?a._customStyle?(a._customStyle.textContent=b,h=a._customStyle):b&&(h=d.applyCss(b,k,a.root,a._scopeStyle)):h?h.parentNode||d.applyStyle(h,null,a._scopeStyle):b&&(h=d.applyCss(b,k,null,a._scopeStyle));
h&&(h._useCount=h._useCount||0,a._customStyle!=h&&h._useCount++,a._customStyle=h);g&&(h.textContent=h.textContent);return h},mixinCustomStyle:function(a,b){var f,h;for(h in b)if((f=b[h])||0===f)a[h]=f},updateNativeStyleProperties:function(a,b){var f=a.__customStyleProperties;if(f)for(var h=0;h<f.length;h++)a.style.removeProperty(f[h]);var f=[],c;for(c in b)null!==b[c]&&(a.style.setProperty(c,b[c]),f.push(c));a.__customStyleProperties=f},rx:d.rx,XSCOPE_NAME:"x-scope"}}();
(function(){Polymer.StyleCache=function(){this.cache={}};Polymer.StyleCache.prototype={MAX:100,store:function(b,d,a,g){d.keyValues=a;d.styles=g;b=this.cache[b]=this.cache[b]||[];b.push(d);b.length>this.MAX&&b.shift()},retrieve:function(b,d,a){if(b=this.cache[b])for(var g=b.length-1,f;0<=g;g--)if(f=b[g],a===f.styles&&this._objectsEqual(d,f.keyValues))return f},clear:function(){this.cache={}},_objectsEqual:function(b,d){var a,g,f;for(f in b)if(a=b[f],g=d[f],"object"===typeof a&&a?!this._objectsStrictlyEqual(a,
g):a!==g)return!1;return Array.isArray(b)?b.length===d.length:!0},_objectsStrictlyEqual:function(b,d){return this._objectsEqual(b,d)&&this._objectsEqual(d,b)}}})();
Polymer.StyleDefaults=function(){var b=Polymer.StyleProperties,d=Polymer.Settings.useNativeCSSProperties;return{_styles:[],_properties:null,customStyle:{},_styleCache:new Polymer.StyleCache,_element:Polymer.DomApi.wrap(document.documentElement),addStyle:function(a){this._styles.push(a);this._properties=null},get _styleProperties(){this._properties||(b.decorateStyles(this._styles,this),this._styles._scopeStyleProperties=null,this._properties=b.hostAndRootPropertiesForScope(this).rootProps,b.mixinCustomStyle(this._properties,
this.customStyle),b.reify(this._properties));return this._properties},hasStyleProperties:function(){return!!this._properties},_needsStyleProperties:function(){},_computeStyleProperties:function(){return this._styleProperties},updateStyles:function(a){this._properties=null;a&&Polymer.Base.mixin(this.customStyle,a);this._styleCache.clear();a=0;for(var g;a<this._styles.length;a++)g=this._styles[a],g=g.__importElement||g,g._apply();d&&b.updateNativeStyleProperties(document.documentElement,this.customStyle)}}}();
(function(){var b=Polymer.Base.serializeValueToAttribute,d=Polymer.StyleProperties,a=Polymer.StyleTransformer,g=Polymer.StyleDefaults,f=Polymer.Settings.useNativeShadow,m=Polymer.Settings.useNativeCSSProperties;Polymer.Base._addFeature({_prepStyleProperties:function(){m||(this._ownStylePropertyNames=this._styles&&this._styles.length?d.decorateStyles(this._styles,this):null)},customStyle:null,getComputedStyleValue:function(c){return!m&&this._styleProperties&&this._styleProperties[c]||getComputedStyle(this).getPropertyValue(c)},
_setupStyleProperties:function(){this.customStyle={};this._customStyle=this._ownStyleProperties=this._scopeSelector=this._styleProperties=this._styleCache=null},_needsStyleProperties:function(){return!(m||!this._ownStylePropertyNames||!this._ownStylePropertyNames.length)},_validateApplyShim:function(){if(this.__applyShimInvalid){Polymer.ApplyShim.transform(this._styles,this.__proto__);var c=a.elementStyles(this),b=f?this._template.content.querySelector("style"):this._scopeStyle&&this._scopeStyle.nextSibling;
b&&(b.textContent=c)}},_beforeAttached:function(){this._scopeSelector&&!this.__stylePropertiesInvalid||!this._needsStyleProperties()||(this.__stylePropertiesInvalid=!1,this._updateStyleProperties())},_findStyleHost:function(){for(var c=this;c=Polymer.dom(c).getOwnerRoot();){if(Polymer.isInstance(c.host))return c.host;c=c.host}return g},_updateStyleProperties:function(){var c,a=this._findStyleHost();a._styleProperties||a._computeStyleProperties();a._styleCache||(a._styleCache=new Polymer.StyleCache);
var b=d.propertyDataFromStyles(a._styles,this),h=!this.__notStyleScopeCacheable;h&&(b.key.customStyle=this.customStyle,c=a._styleCache.retrieve(this.is,b.key,this._styles));var g=!!c;g?this._styleProperties=c._styleProperties:this._computeStyleProperties(b.properties);this._computeOwnStyleProperties();g||(c=e.retrieve(this.is,this._ownStyleProperties,this._styles));var m=!!c&&!g;c=this._applyStyleProperties(c);g||(c=c&&f?c.cloneNode(!0):c,c={style:c,_scopeSelector:this._scopeSelector,_styleProperties:this._styleProperties},
h&&(b.key.customStyle={},this.mixin(b.key.customStyle,this.customStyle),a._styleCache.store(this.is,c,b.key,this._styles)),m||e.store(this.is,Object.create(c),this._ownStyleProperties,this._styles))},_computeStyleProperties:function(c){var a=this._findStyleHost();a._styleProperties||a._computeStyleProperties();var b=Object.create(a._styleProperties),e=d.hostAndRootPropertiesForScope(this);this.mixin(b,e.hostProps);c=c||d.propertyDataFromStyles(a._styles,this).properties;this.mixin(b,c);this.mixin(b,
e.rootProps);d.mixinCustomStyle(b,this.customStyle);d.reify(b);this._styleProperties=b},_computeOwnStyleProperties:function(){for(var c={},a=0,b;a<this._ownStylePropertyNames.length;a++)b=this._ownStylePropertyNames[a],c[b]=this._styleProperties[b];this._ownStyleProperties=c},_scopeCount:0,_applyStyleProperties:function(c){var a=this._scopeSelector;this._scopeSelector=c?c._scopeSelector:this.is+"-"+this.__proto__._scopeCount++;c=d.applyElementStyle(this,this._styleProperties,this._scopeSelector,c&&
c.style);f||d.applyElementScopeSelector(this,this._scopeSelector,a,this._scopeCssViaAttr);return c},serializeValueToAttribute:function(c,a,e){e=e||this;if("class"===a&&!f){var h=e===this?this.domHost||this.dataHost:this;h&&(c=h._scopeElementClass(e,c))}e=this.shadyRoot&&this.shadyRoot._hasDistributed?Polymer.dom(e):e;b.call(this,c,a,e)},_scopeElementClass:function(c,a){f||this._scopeCssViaAttr||(a=(a?a+" ":"")+k+" "+this.is+(c._scopeSelector?" "+h+" "+c._scopeSelector:""));return a},updateStyles:function(c){c&&
this.mixin(this.customStyle,c);m?d.updateNativeStyleProperties(this,this.customStyle):(this.isAttached?this._needsStyleProperties()?this._updateStyleProperties():this._styleProperties=null:this.__stylePropertiesInvalid=!0,this._styleCache&&this._styleCache.clear(),this._updateRootStyles())},_updateRootStyles:function(c){c=c||this.root;c=Polymer.dom(c)._query(function(c){return c.shadyRoot||c.shadowRoot});for(var a=0,b=c.length,e;a<b&&(e=c[a]);a++)e.updateStyles&&e.updateStyles()}});Polymer.updateStyles=
function(c){g.updateStyles(c);Polymer.Base._updateRootStyles(document)};var e=new Polymer.StyleCache;Polymer.customStyleCache=e;var k=a.SCOPE_NAME,h=d.XSCOPE_NAME})();
Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs();this._prepConstructor();this._prepStyles()},_finishRegisterFeatures:function(){this._prepTemplate();this._prepShimStyles();this._prepAnnotations();this._prepEffects();this._prepBehaviors();this._prepPropertyInfo();this._prepBindings();this._prepShady()},_prepBehavior:function(b){this._addPropertyEffects(b.properties);this._addComplexObserverEffects(b.observers);this._addHostAttributes(b.hostAttributes)},_initFeatures:function(){this._setupGestures();
this._setupConfigure();this._setupStyleProperties();this._setupDebouncers();this._setupShady();this._registerHost();this._template&&(this._validateApplyShim(),this._poolContent(),this._beginHosting(),this._stampTemplate(),this._endHosting(),this._marshalAnnotationReferences());this._marshalInstanceEffects();this._marshalBehaviors();this._marshalHostAttributes();this._marshalAttributes();this._tryReady()},_marshalBehavior:function(b){b.listeners&&this._listenListeners(b.listeners)}});
(function(){var b=Polymer.StyleProperties,d=Polymer.StyleUtil,a=Polymer.CssParse,g=Polymer.StyleDefaults,f=Polymer.StyleTransformer,m=Polymer.ApplyShim,e=Polymer.Debounce,k=Polymer.Settings,h;Polymer({is:"custom-style",extends:"style",_template:null,properties:{include:String},ready:function(){this.__appliedElement=this.__appliedElement||this;this.__cssBuild=d.getCssBuildType(this);this.__appliedElement!==this&&(this.__appliedElement.__cssBuild=this.__cssBuild);this._tryApply()},attached:function(){this._tryApply()},
_tryApply:function(){if(!this._appliesToDocument&&this.parentNode&&"dom-module"!==this.parentNode.localName){this._appliesToDocument=!0;var c=this.__appliedElement;k.useNativeCSSProperties||(this.__needsUpdateStyles=g.hasStyleProperties(),g.addStyle(c));if(c.textContent||this.include)this._apply(!0);else{var a=this,b=new MutationObserver(function(){b.disconnect();a._apply(!0)});b.observe(c,{childList:!0})}}},_updateStyles:function(){Polymer.updateStyles()},_apply:function(c){var a=this.__appliedElement;
this.include&&(a.textContent=d.cssFromModules(this.include,!0)+a.textContent);if(a.textContent){var b=this.__cssBuild,e=d.isTargetedBuild(b);if(!k.useNativeCSSProperties||!e){var h=d.rulesForStyle(a);e||d.forEachRule(h,function(c){f.documentRule(c);k.useNativeCSSProperties&&!b&&m.transformRule(c)});if(k.useNativeCSSProperties)a.textContent=d.toCssText(h);else{var g=this,a=function(){g._flushCustomProperties()};c?Polymer.RenderStatus.whenReady(a):a()}}}},_flushCustomProperties:function(){this.__needsUpdateStyles?
(this.__needsUpdateStyles=!1,h=e(h,this._updateStyles)):this._applyCustomProperties()},_applyCustomProperties:function(){var c=this.__appliedElement;this._computeStyleProperties();var l=this._styleProperties,e=d.rulesForStyle(c);e&&(c.textContent=d.toCssText(e,function(c){var e=c.cssText=c.parsedCssText;c.propertyInfo&&c.propertyInfo.cssText&&(e=a.removeCustomPropAssignment(e),c.cssText=b.valueForProperties(e,l))}))}})})();
Polymer.Templatizer={properties:{__hideTemplateChildren__:{observer:"_showHideChildren"}},_instanceProps:Polymer.nob,_parentPropPrefix:"_parent_",templatize:function(b){this._templatized=b;b._content||(b._content=b.content);if(b._content._ctor)this.ctor=b._content._ctor,this._prepParentProperties(this.ctor.prototype,b);else{var d=Object.create(Polymer.Base);this._customPrepAnnotations(d,b);this._prepParentProperties(d,b);d._prepEffects();this._customPrepEffects(d);d._prepBehaviors();d._prepPropertyInfo();
d._prepBindings();d._notifyPathUp=this._notifyPathUpImpl;d._scopeElementClass=this._scopeElementClassImpl;d.listen=this._listenImpl;d._showHideChildren=this._showHideChildrenImpl;d.__setPropertyOrig=this.__setProperty;d.__setProperty=this.__setPropertyImpl;var a=this._constructorImpl,g=function(b,g){a.call(this,b,g)};g.prototype=d;d.constructor=g;this.ctor=b._content._ctor=g}},_getRootDataHost:function(){return this.dataHost&&this.dataHost._rootDataHost||this.dataHost},_showHideChildrenImpl:function(b){for(var d=
this._children,a=0;a<d.length;a++){var g=d[a];!!b!=!!g.__hideTemplateChildren__&&(g.nodeType===Node.TEXT_NODE?b?(g.__polymerTextContent__=g.textContent,g.textContent=""):g.textContent=g.__polymerTextContent__:g.style&&(b?(g.__polymerDisplay__=g.style.display,g.style.display="none"):g.style.display=g.__polymerDisplay__));g.__hideTemplateChildren__=b}},__setPropertyImpl:function(b,d,a,g){g&&g.__hideTemplateChildren__&&"textContent"==b&&(b="__polymerTextContent__");this.__setPropertyOrig(b,d,a,g)},_debounceTemplate:function(b){Polymer.dom.addDebouncer(this.debounce("_debounceTemplate",
b))},_flushTemplates:function(){Polymer.dom.flush()},_customPrepEffects:function(b){var d=b._parentProps,a;for(a in d)b._addPropertyEffect(a,"function",this._createHostPropEffector(a));for(a in this._instanceProps)b._addPropertyEffect(a,"function",this._createInstancePropEffector(a))},_customPrepAnnotations:function(b,d){b._template=d;var a=d._content;if(!a._notes){var g=b._rootDataHost;g&&(Polymer.Annotations.prepElement=function(){g._prepElement()});a._notes=Polymer.Annotations.parseAnnotations(d);
Polymer.Annotations.prepElement=null;this._processAnnotations(a._notes)}b._notes=a._notes;b._parentProps=a._parentProps},_prepParentProperties:function(b,d){var a=this._parentProps=b._parentProps;if(this._forwardParentProp&&a){var g=b._parentPropProto,f;if(!g){for(f in this._instanceProps)delete a[f];g=b._parentPropProto=Object.create(null);d!=this&&(Polymer.Bind.prepareModel(g),Polymer.Base.prepareModelNotifyPath(g));for(f in a)b=this._parentPropPrefix+f,a=[{kind:"function",effect:this._createForwardPropEffector(f),
fn:Polymer.Bind._functionEffect},{kind:"notify",fn:Polymer.Bind._notifyEffect,effect:{event:Polymer.CaseMap.camelToDashCase(b)+"-changed"}}],Polymer.Bind._createAccessors(g,b,a)}var m=this;d!=this&&(Polymer.Bind.prepareInstance(d),d._forwardParentProp=function(a,b){m._forwardParentProp(a,b)});this._extendTemplate(d,g);d._pathEffector=function(a,b,f){return m._pathEffectorImpl(a,b,f)}}},_createForwardPropEffector:function(b){return function(d,a){this._forwardParentProp(b,a)}},_createHostPropEffector:function(b){var d=
this._parentPropPrefix;return function(a,g){this.dataHost._templatized[d+b]=g}},_createInstancePropEffector:function(b){return function(d,a,g,f){f||this.dataHost._forwardInstanceProp(this,b,a)}},_extendTemplate:function(b,d){var a=Object.getOwnPropertyNames(d);d._propertySetter&&(b._propertySetter=d._propertySetter);for(var g=0,f;g<a.length&&(f=a[g]);g++){var m=b[f],e=Object.getOwnPropertyDescriptor(d,f);Object.defineProperty(b,f,e);void 0!==m&&b._propertySetter(f,m)}},_showHideChildren:function(b){},
_forwardInstancePath:function(b,d,a){},_forwardInstanceProp:function(b,d,a){},_notifyPathUpImpl:function(b,d){var a=this.dataHost,g=b.indexOf("."),g=0>g?b:b.slice(0,g);a._forwardInstancePath.call(a,this,b,d);g in a._parentProps&&a._templatized._notifyPath(a._parentPropPrefix+b,d)},_pathEffectorImpl:function(b,d,a){if(this._forwardParentPath&&0===b.indexOf(this._parentPropPrefix)){var g=b.substring(this._parentPropPrefix.length);this._modelForPath(g)in this._parentProps&&this._forwardParentPath(g,
d)}Polymer.Base._pathEffector.call(this._templatized,b,d,a)},_constructorImpl:function(b,d){this._rootDataHost=d._getRootDataHost();this._setupConfigure(b);this._registerHost(d);this._beginHosting();this.root=this.instanceTemplate(this._template);this.root.__noContent=!this._notes._hasContent;this.root.__styleScoped=!0;this._endHosting();this._marshalAnnotatedNodes();this._marshalInstanceEffects();this._marshalAnnotatedListeners();b=[];for(var a=this.root.firstChild;a;a=a.nextSibling)b.push(a),a._templateInstance=
this;this._children=b;d.__hideTemplateChildren__&&this._showHideChildren(!0);this._tryReady()},_listenImpl:function(b,d,a){var g=this,f=this._rootDataHost,m=f._createEventHandler(b,d,a);f._listen(b,d,function(a){a.model=g;m(a)})},_scopeElementClassImpl:function(b,d){var a=this._rootDataHost;return a?a._scopeElementClass(b,d):d},stamp:function(b){b=b||{};if(this._parentProps){var d=this._templatized,a;for(a in this._parentProps)void 0===b[a]&&(b[a]=d[this._parentPropPrefix+a])}return new this.ctor(b,
this)},modelForElement:function(b){for(var d;b;)if(d=b._templateInstance)if(d.dataHost!=this)b=d.dataHost;else return d;else b=b.parentNode}};Polymer({is:"dom-template",extends:"template",_template:null,behaviors:[Polymer.Templatizer],ready:function(){this.templatize(this)}});Polymer._collections=new WeakMap;Polymer.Collection=function(b){Polymer._collections.set(b,this);this.userArray=b;this.store=b.slice();this.initMap()};
Polymer.Collection.prototype={constructor:Polymer.Collection,initMap:function(){for(var b=this.omap=new WeakMap,d=this.pmap={},a=this.store,g=0;g<a.length;g++){var f=a[g];f&&"object"==typeof f?b.set(f,g):d[f]=g}},add:function(b){var d=this.store.push(b)-1;b&&"object"==typeof b?this.omap.set(b,d):this.pmap[b]=d;return"#"+d},removeKey:function(b){if(b=this._parseKey(b))this._removeFromMap(this.store[b]),delete this.store[b]},_removeFromMap:function(b){b&&"object"==typeof b?this.omap.delete(b):delete this.pmap[b]},
remove:function(b){b=this.getKey(b);this.removeKey(b);return b},getKey:function(b){b=b&&"object"==typeof b?this.omap.get(b):this.pmap[b];if(void 0!=b)return"#"+b},getKeys:function(){return Object.keys(this.store).map(function(b){return"#"+b})},_parseKey:function(b){if(b&&"#"==b[0])return b.slice(1)},setItem:function(b,d){if(b=this._parseKey(b)){var a=this.store[b];a&&this._removeFromMap(a);d&&"object"==typeof d?this.omap.set(d,b):this.pmap[d]=b;this.store[b]=d}},getItem:function(b){if(b=this._parseKey(b))return this.store[b]},
getItems:function(){var b=[],d=this.store,a;for(a in d)b.push(d[a]);return b},_applySplices:function(b){for(var d={},a,g=0,f;g<b.length&&(f=b[g]);g++){f.addedKeys=[];for(var m=0;m<f.removed.length;m++)a=this.getKey(f.removed[m]),d[a]=d[a]?null:-1;for(m=0;m<f.addedCount;m++){var e=this.userArray[f.index+m];a=this.getKey(e);a=void 0===a?this.add(e):a;d[a]=d[a]?null:1;f.addedKeys.push(a)}}b=[];g=[];for(a in d)0>d[a]&&(this.removeKey(a),b.push(a)),0<d[a]&&g.push(a);return[{removed:b,added:g}]}};
Polymer.Collection.get=function(b){return Polymer._collections.get(b)||new Polymer.Collection(b)};Polymer.Collection.applySplices=function(b,d){return(b=Polymer._collections.get(b))?b._applySplices(d):null};
Polymer({is:"dom-repeat",extends:"template",_template:null,properties:{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},sort:{type:Function,observer:"_sortChanged"},filter:{type:Function,observer:"_filterChanged"},observe:{type:String,observer:"_observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!0,readOnly:!0},initialCount:{type:Number,observer:"_initializeChunking"},targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:"_computeFrameTime(targetFramerate)"}},
behaviors:[Polymer.Templatizer],observers:["_itemsChanged(items.*)"],created:function(){this._instances=[];this._pool=[];this._limit=Infinity;var b=this;this._boundRenderChunk=function(){b._renderChunk()}},detached:function(){this.__isDetached=!0;for(var b=0;b<this._instances.length;b++)this._detachInstance(b)},attached:function(){if(this.__isDetached){this.__isDetached=!1;for(var b=Polymer.dom(Polymer.dom(this).parentNode),d=0;d<this._instances.length;d++)this._attachInstance(d,b)}},ready:function(){this._instanceProps=
{__key__:!0};this._instanceProps[this.as]=!0;this._instanceProps[this.indexAs]=!0;this.ctor||this.templatize(this)},_sortChanged:function(b){var d=this._getRootDataHost();this._sortFn=b&&("function"==typeof b?b:function(){return d[b].apply(d,arguments)});this._needFullRefresh=!0;this.items&&this._debounceTemplate(this._render)},_filterChanged:function(b){var d=this._getRootDataHost();this._filterFn=b&&("function"==typeof b?b:function(){return d[b].apply(d,arguments)});this._needFullRefresh=!0;this.items&&
this._debounceTemplate(this._render)},_computeFrameTime:function(b){return Math.ceil(1E3/b)},_initializeChunking:function(){this.initialCount&&(this._chunkCount=this._limit=this.initialCount,this._lastChunkTime=performance.now())},_tryRenderChunk:function(){this.items&&this._limit<this.items.length&&this.debounce("renderChunk",this._requestRenderChunk)},_requestRenderChunk:function(){requestAnimationFrame(this._boundRenderChunk)},_renderChunk:function(){var b=performance.now();this._chunkCount=Math.round(this._targetFrameTime/
(b-this._lastChunkTime)*this._chunkCount)||1;this._limit+=this._chunkCount;this._lastChunkTime=b;this._debounceTemplate(this._render)},_observeChanged:function(){this._observePaths=this.observe&&this.observe.replace(".*",".").split(" ")},_itemsChanged:function(b){if("items"==b.path)Array.isArray(this.items)?this.collection=Polymer.Collection.get(this.items):this.items?this._error(this._logf("dom-repeat","expected array for `items`, found",this.items)):this.collection=null,this._keySplices=[],this._indexSplices=
[],this._needFullRefresh=!0,this._initializeChunking(),this._debounceTemplate(this._render);else if("items.splices"==b.path)this._keySplices=this._keySplices.concat(b.value.keySplices),this._indexSplices=this._indexSplices.concat(b.value.indexSplices),this._debounceTemplate(this._render);else{var d=b.path.slice(6);this._forwardItemPath(d,b.value);this._checkObservedPaths(d)}},_checkObservedPaths:function(b){if(this._observePaths){b=b.substring(b.indexOf(".")+1);for(var d=this._observePaths,a=0;a<
d.length;a++)if(0===b.indexOf(d[a])){this._needFullRefresh=!0;this.delay?this.debounce("render",this._render,this.delay):this._debounceTemplate(this._render);break}}},render:function(){this._needFullRefresh=!0;this._debounceTemplate(this._render);this._flushTemplates()},_render:function(){this._needFullRefresh?(this._applyFullRefresh(),this._needFullRefresh=!1):this._keySplices.length&&(this._sortFn?this._applySplicesUserSort(this._keySplices):this._filterFn?this._applyFullRefresh():this._applySplicesArrayOrder(this._indexSplices));
this._keySplices=[];this._indexSplices=[];for(var b=this._keyToInstIdx={},d=this._instances.length-1;0<=d;d--){var a=this._instances[d];a.isPlaceholder&&d<this._limit?a=this._insertInstance(d,a.__key__):!a.isPlaceholder&&d>=this._limit&&(a=this._downgradeInstance(d,a.__key__));b[a.__key__]=d;a.isPlaceholder||a.__setProperty(this.indexAs,d,!0)}this._pool.length=0;this._setRenderedItemCount(this._instances.length);this.fire("dom-change");this._tryRenderChunk()},_applyFullRefresh:function(){var b=this.collection,
d;if(this._sortFn)d=b?b.getKeys():[];else{d=[];var a=this.items;if(a)for(var g=0;g<a.length;g++)d.push(b.getKey(a[g]))}var f=this;this._filterFn&&(d=d.filter(function(a){return f._filterFn(b.getItem(a))}));this._sortFn&&d.sort(function(a,g){return f._sortFn(b.getItem(a),b.getItem(g))});for(g=0;g<d.length;g++){var a=d[g],m=this._instances[g];m?(m.__key__=a,!m.isPlaceholder&&g<this._limit&&m.__setProperty(this.as,b.getItem(a),!0)):g<this._limit?this._insertInstance(g,a):this._insertPlaceholder(g,a)}for(d=
this._instances.length-1;d>=g;d--)this._detachAndRemoveInstance(d)},_numericSort:function(b,d){return b-d},_applySplicesUserSort:function(b){for(var d=this.collection,a={},g,f=0,m;f<b.length&&(m=b[f]);f++){for(var e=0;e<m.removed.length;e++)g=m.removed[e],a[g]=a[g]?null:-1;for(e=0;e<m.added.length;e++)g=m.added[e],a[g]=a[g]?null:1}m=[];b=[];for(g in a)-1===a[g]&&m.push(this._keyToInstIdx[g]),1===a[g]&&b.push(g);if(m.length)for(m.sort(this._numericSort),f=m.length-1;0<=f;f--)a=m[f],void 0!==a&&this._detachAndRemoveInstance(a);
var k=this;if(b.length)for(this._filterFn&&(b=b.filter(function(a){return k._filterFn(d.getItem(a))})),b.sort(function(a,c){return k._sortFn(d.getItem(a),d.getItem(c))}),f=a=0;f<b.length;f++)a=this._insertRowUserSort(a,b[f])},_insertRowUserSort:function(b,d){for(var a=this.collection,g=a.getItem(d),f=this._instances.length-1,m=-1;b<=f;){var e=b+f>>1,k=this._sortFn(a.getItem(this._instances[e].__key__),g);if(0>k)b=e+1;else if(0<k)f=e-1;else{m=e;break}}0>m&&(m=f+1);this._insertPlaceholder(m,d);return m},
_applySplicesArrayOrder:function(b){for(var d=0,a;d<b.length&&(a=b[d]);d++){for(var g=0;g<a.removed.length;g++)this._detachAndRemoveInstance(a.index);for(g=0;g<a.addedKeys.length;g++)this._insertPlaceholder(a.index+g,a.addedKeys[g])}},_detachInstance:function(b){b=this._instances[b];if(!b.isPlaceholder){for(var d=0;d<b._children.length;d++){var a=b._children[d];Polymer.dom(b.root).appendChild(a)}return b}},_attachInstance:function(b,d){b=this._instances[b];b.isPlaceholder||d.insertBefore(b.root,this)},
_detachAndRemoveInstance:function(b){var d=this._detachInstance(b);d&&this._pool.push(d);this._instances.splice(b,1)},_insertPlaceholder:function(b,d){this._instances.splice(b,0,{isPlaceholder:!0,__key__:d})},_stampInstance:function(b,d){var a={__key__:d};a[this.as]=this.collection.getItem(d);a[this.indexAs]=b;return this.stamp(a)},_insertInstance:function(b,d){var a=this._pool.pop();a?(a.__setProperty(this.as,this.collection.getItem(d),!0),a.__setProperty("__key__",d,!0)):a=this._stampInstance(b,
d);d=(d=this._instances[b+1])&&!d.isPlaceholder?d._children[0]:this;var g=Polymer.dom(this).parentNode;Polymer.dom(g).insertBefore(a.root,d);return this._instances[b]=a},_downgradeInstance:function(b,d){var a=this._detachInstance(b);a&&this._pool.push(a);a={isPlaceholder:!0,__key__:d};return this._instances[b]=a},_showHideChildren:function(b){for(var d=0;d<this._instances.length;d++)this._instances[d]._showHideChildren(b)},_forwardInstanceProp:function(b,d,a){d==this.as&&(b=this._sortFn||this._filterFn?
this.items.indexOf(this.collection.getItem(b.__key__)):b[this.indexAs],this.set("items."+b,a))},_forwardInstancePath:function(b,d,a){0===d.indexOf(this.as+".")&&this._notifyPath("items."+b.__key__+"."+d.slice(this.as.length+1),a)},_forwardParentProp:function(b,d){for(var a=this._instances,g=0,f;g<a.length&&(f=a[g]);g++)f.isPlaceholder||f.__setProperty(b,d,!0)},_forwardParentPath:function(b,d){for(var a=this._instances,g=0,f;g<a.length&&(f=a[g]);g++)f.isPlaceholder||f._notifyPath(b,d,!0)},_forwardItemPath:function(b,
d){if(this._keyToInstIdx){var a=b.indexOf("."),g=b.substring(0,0>a?b.length:a);(g=this._instances[this._keyToInstIdx[g]])&&!g.isPlaceholder&&(0<=a?(b=this.as+"."+b.substring(a+1),g._notifyPath(b,d,!0)):g.__setProperty(this.as,d,!0))}},itemForElement:function(b){return(b=this.modelForElement(b))&&b[this.as]},keyForElement:function(b){return(b=this.modelForElement(b))&&b.__key__},indexForElement:function(b){return(b=this.modelForElement(b))&&b[this.indexAs]}});
Polymer({is:"array-selector",_template:null,properties:{items:{type:Array,observer:"clearSelection"},multi:{type:Boolean,value:!1,observer:"clearSelection"},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}},clearSelection:function(){if(Array.isArray(this.selected))for(var b=0;b<this.selected.length;b++)this.unlinkPaths("selected."+b);else this.unlinkPaths("selected"),this.unlinkPaths("selectedItem");if(this.multi){if(!this.selected||this.selected.length)this.selected=
[],this._selectedColl=Polymer.Collection.get(this.selected)}else this._selectedColl=this.selected=null;this.selectedItem=null},isSelected:function(b){return this.multi?void 0!==this._selectedColl.getKey(b):this.selected==b},deselect:function(b){if(this.multi){if(this.isSelected(b)){var d=this._selectedColl.getKey(b);this.arrayDelete("selected",b);this.unlinkPaths("selected."+d)}}else this.selectedItem=this.selected=null,this.unlinkPaths("selected"),this.unlinkPaths("selectedItem")},select:function(b){var d=
Polymer.Collection.get(this.items).getKey(b);this.multi?this.isSelected(b)?this.toggle&&this.deselect(b):(this.push("selected",b),b=this._selectedColl.getKey(b),this.linkPaths("selected."+b,"items."+d)):this.toggle&&b==this.selected?this.deselect():(this.selectedItem=this.selected=b,this.linkPaths("selected","items."+d),this.linkPaths("selectedItem","items."+d))}});
Polymer({is:"dom-if",extends:"template",_template:null,properties:{"if":{type:Boolean,value:!1,observer:"_queueRender"},restamp:{type:Boolean,value:!1,observer:"_queueRender"}},behaviors:[Polymer.Templatizer],_queueRender:function(){this._debounceTemplate(this._render)},detached:function(){this.parentNode&&(this.parentNode.nodeType!=Node.DOCUMENT_FRAGMENT_NODE||Polymer.Settings.hasShadow&&this.parentNode instanceof ShadowRoot)||this._teardownInstance()},attached:function(){this.if&&this.ctor&&this.async(this._ensureInstance)},
render:function(){this._flushTemplates()},_render:function(){this.if?(this.ctor||this.templatize(this),this._ensureInstance(),this._showHideChildren()):this.restamp&&this._teardownInstance();!this.restamp&&this._instance&&this._showHideChildren();this.if!=this._lastIf&&(this.fire("dom-change"),this._lastIf=this.if)},_ensureInstance:function(){var b=Polymer.dom(this).parentNode;if(b)if(b=Polymer.dom(b),this._instance){var d=this._instance._children;if(d&&d.length&&Polymer.dom(this).previousSibling!==
d[d.length-1])for(var a=0,g;a<d.length&&(g=d[a]);a++)b.insertBefore(g,this)}else this._instance=this.stamp(),b.insertBefore(this._instance.root,this)},_teardownInstance:function(){if(this._instance){var b=this._instance._children;if(b&&b.length)for(var d=Polymer.dom(Polymer.dom(b[0]).parentNode),a=0,g;a<b.length&&(g=b[a]);a++)d.removeChild(g);this._instance=null}},_showHideChildren:function(){var b=this.__hideTemplateChildren__||!this.if;this._instance&&this._instance._showHideChildren(b)},_forwardParentProp:function(b,
d){this._instance&&this._instance.__setProperty(b,d,!0)},_forwardParentPath:function(b,d){this._instance&&this._instance._notifyPath(b,d,!0)}});
Polymer({is:"dom-bind",extends:"template",_template:null,created:function(){var b=this;Polymer.RenderStatus.whenReady(function(){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",function(){b._markImportsReady()}):b._markImportsReady()})},_ensureReady:function(){this._readied||this._readySelf()},_markImportsReady:function(){this._importsReady=!0;this._ensureReady()},_registerFeatures:function(){this._prepConstructor()},_insertChildren:function(){Polymer.dom(Polymer.dom(this).parentNode).insertBefore(this.root,
this)},_removeChildren:function(){if(this._children)for(var b=0;b<this._children.length;b++)this.root.appendChild(this._children[b])},_initFeatures:function(){},_scopeElementClass:function(b,d){return this.dataHost?this.dataHost._scopeElementClass(b,d):d},_configureInstanceProperties:function(){},_prepConfigure:function(){var b={},d;for(d in this._propertyEffects)b[d]=this[d];var a=this._setupConfigure;this._setupConfigure=function(){a.call(this,b)}},attached:function(){this._importsReady&&this.render()},
detached:function(){this._removeChildren()},render:function(){this._ensureReady();this._children||(this._template=this,this._prepAnnotations(),this._prepEffects(),this._prepBehaviors(),this._prepConfigure(),this._prepBindings(),this._prepPropertyInfo(),Polymer.Base._initFeatures.call(this),this._children=Polymer.TreeApi.arrayCopyChildNodes(this.root));this._insertChildren();this.fire("dom-change")}});
(function(b,d){d(b.Mustache={})})(this,function(b){function d(c){return"function"===typeof c}function a(c){return c.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function g(c,h){function g(c){"string"===typeof c&&(c=c.split(v,2));if(!l(c)||2!==c.length)throw Error("Invalid tags: "+c);u=new RegExp(a(c[0])+"\\s*");C=new RegExp("\\s*"+a(c[1]));x=new RegExp("\\s*"+a("}"+c[1]))}if(!c)return[];var d=[],k=[],q=[],A=!1,B=!1,u,C,x;g(h||b.tags);c=new e(c);for(var r,w,D;!c.eos();){h=c.pos;if(w=c.scanUntil(u)){D=
0;for(var L=w.length;D<L;++D)if(r=w.charAt(D),n.call(p,r)?B=!0:q.push(k.length),k.push(["text",r,h,h+1]),h+=1,"\n"===r){if(A&&!B)for(;q.length;)delete k[q.pop()];else q=[];B=A=!1}}if(!c.scan(u))break;A=!0;r=c.scan(F)||"name";c.scan(t);"="===r?(w=c.scanUntil(y),c.scan(y),c.scanUntil(C)):"{"===r?(w=c.scanUntil(x),c.scan(E),c.scanUntil(C),r="&"):w=c.scanUntil(C);if(!c.scan(C))throw Error("Unclosed tag at "+c.pos);D=[r,w,h,c.pos];k.push(D);if("#"===r||"^"===r)d.push(D);else if("/"===r){r=d.pop();if(!r)throw Error('Unopened section "'+
w+'" at '+h);if(r[1]!==w)throw Error('Unclosed section "'+r[1]+'" at '+h);}else"name"===r||"{"===r||"&"===r?B=!0:"="===r&&g(w)}if(r=d.pop())throw Error('Unclosed section "'+r[1]+'" at '+c.pos);return m(f(k))}function f(c){for(var a=[],b,l,e=0,f=c.length;e<f;++e)if(b=c[e])"text"===b[0]&&l&&"text"===l[0]?(l[1]+=b[1],l[3]=b[3]):(a.push(b),l=b);return a}function m(c){for(var a=[],b=a,l=[],e,f=0,h=c.length;f<h;++f)switch(e=c[f],e[0]){case "#":case "^":b.push(e);l.push(e);b=e[4]=[];break;case "/":b=l.pop();
b[5]=e[2];b=0<l.length?l[l.length-1][4]:a;break;default:b.push(e)}return a}function e(c){this.tail=this.string=c;this.pos=0}function k(c,a){this.view=c;this.cache={".":this.view};this.parent=a}function h(){this.cache={}}var c=Object.prototype.toString,l=Array.isArray||function(a){return"[object Array]"===c.call(a)},n=RegExp.prototype.test,p=/\S/,q={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},t=/\s*/,v=/\s+/,y=/\s*=/,E=/\s*\}/,F=/#|\^|\/|>|\{|&|=|!/;e.prototype.eos=function(){return""===
this.tail};e.prototype.scan=function(c){c=this.tail.match(c);if(!c||0!==c.index)return"";c=c[0];this.tail=this.tail.substring(c.length);this.pos+=c.length;return c};e.prototype.scanUntil=function(c){c=this.tail.search(c);var a;switch(c){case -1:a=this.tail;this.tail="";break;case 0:a="";break;default:a=this.tail.substring(0,c),this.tail=this.tail.substring(c)}this.pos+=a.length;return a};k.prototype.push=function(c){return new k(c,this)};k.prototype.lookup=function(c){var a=this.cache,b;if(c in a)b=
a[c];else{for(var l=this,e,f,h=!1;l;){if(0<c.indexOf("."))for(b=l.view,e=c.split("."),f=0;null!=b&&f<e.length;)f===e.length-1&&null!=b&&(h="object"===typeof b&&b.hasOwnProperty(e[f])),b=b[e[f++]];else null!=l.view&&"object"===typeof l.view&&(b=l.view[c],h=l.view.hasOwnProperty(c));if(h)break;l=l.parent}a[c]=b}d(b)&&(b=b.call(this.view));return b};h.prototype.clearCache=function(){this.cache={}};h.prototype.parse=function(c,a){var b=this.cache,l=b[c];null==l&&(l=b[c]=g(c,a));return l};h.prototype.render=
function(c,a,b){var l=this.parse(c);a=a instanceof k?a:new k(a);return this.renderTokens(l,a,b,c)};h.prototype.renderTokens=function(c,a,b,l){for(var e="",f,h,g,d=0,m=c.length;d<m;++d)g=void 0,f=c[d],h=f[0],"#"===h?g=this._renderSection(f,a,b,l):"^"===h?g=this._renderInverted(f,a,b,l):">"===h?g=this._renderPartial(f,a,b,l):"&"===h?g=this._unescapedValue(f,a):"name"===h?g=this._escapedValue(f,a):"text"===h&&(g=this._rawValue(f)),void 0!==g&&(e+=g);return e};h.prototype._renderSection=function(c,a,
b,e){function f(c){return h.render(c,a,b)}var h=this,g="",m=a.lookup(c[1]);if(m){if(l(m))for(var k=0,n=m.length;k<n;++k)g+=this.renderTokens(c[4],a.push(m[k]),b,e);else if("object"===typeof m||"string"===typeof m||"number"===typeof m)g+=this.renderTokens(c[4],a.push(m),b,e);else if(d(m)){if("string"!==typeof e)throw Error("Cannot use higher-order sections without the original template");m=m.call(a.view,e.slice(c[3],c[5]),f);null!=m&&(g+=m)}else g+=this.renderTokens(c[4],a,b,e);return g}};h.prototype._renderInverted=
function(c,a,b,e){var f=a.lookup(c[1]);if(!f||l(f)&&0===f.length)return this.renderTokens(c[4],a,b,e)};h.prototype._renderPartial=function(c,a,b){if(b&&(c=d(b)?b(c[1]):b[c[1]],null!=c))return this.renderTokens(this.parse(c),a,b,c)};h.prototype._unescapedValue=function(c,a){c=a.lookup(c[1]);if(null!=c)return c};h.prototype._escapedValue=function(c,a){c=a.lookup(c[1]);if(null!=c)return b.escape(c)};h.prototype._rawValue=function(c){return c[1]};b.name="mustache.js";b.version="2.0.0";b.tags=["{{","}}"];
var z=new h;b.clearCache=function(){return z.clearCache()};b.parse=function(c,a){return z.parse(c,a)};b.render=function(c,a,b){return z.render(c,a,b)};b.to_html=function(c,a,l,e){c=b.render(c,a,l);if(d(e))e(c);else return c};b.escape=function(c){return String(c).replace(/[&<>"'\/]/g,function(c){return q[c]})};b.Scanner=e;b.Context=k;b.Writer=h});var factfinder=factfinder||{};(function(b){b.libs=b.libs||{};b.libs.mustache=Mustache})(factfinder||(factfinder={}));
(function(b,d){d(b.Mustache={})})(this,function(b){function d(c){return"function"===typeof c}function a(c){return c.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function g(c,h){function g(c){"string"===typeof c&&(c=c.split(v,2));if(!l(c)||2!==c.length)throw Error("Invalid tags: "+c);u=new RegExp(a(c[0])+"\\s*");C=new RegExp("\\s*"+a(c[1]));x=new RegExp("\\s*"+a("}"+c[1]))}if(!c)return[];var d=[],k=[],q=[],A=!1,B=!1,u,C,x;g(h||b.tags);c=new e(c);for(var r,w,D;!c.eos();){h=c.pos;if(w=c.scanUntil(u)){D=
0;for(var L=w.length;D<L;++D)if(r=w.charAt(D),n.call(p,r)?B=!0:q.push(k.length),k.push(["text",r,h,h+1]),h+=1,"\n"===r){if(A&&!B)for(;q.length;)delete k[q.pop()];else q=[];B=A=!1}}if(!c.scan(u))break;A=!0;r=c.scan(F)||"name";c.scan(t);"="===r?(w=c.scanUntil(y),c.scan(y),c.scanUntil(C)):"{"===r?(w=c.scanUntil(x),c.scan(E),c.scanUntil(C),r="&"):w=c.scanUntil(C);if(!c.scan(C))throw Error("Unclosed tag at "+c.pos);D=[r,w,h,c.pos];k.push(D);if("#"===r||"^"===r)d.push(D);else if("/"===r){r=d.pop();if(!r)throw Error('Unopened section "'+
w+'" at '+h);if(r[1]!==w)throw Error('Unclosed section "'+r[1]+'" at '+h);}else"name"===r||"{"===r||"&"===r?B=!0:"="===r&&g(w)}if(r=d.pop())throw Error('Unclosed section "'+r[1]+'" at '+c.pos);return m(f(k))}function f(c){for(var a=[],b,l,e=0,f=c.length;e<f;++e)if(b=c[e])"text"===b[0]&&l&&"text"===l[0]?(l[1]+=b[1],l[3]=b[3]):(a.push(b),l=b);return a}function m(c){for(var a=[],b=a,l=[],e,f=0,h=c.length;f<h;++f)switch(e=c[f],e[0]){case "#":case "^":b.push(e);l.push(e);b=e[4]=[];break;case "/":b=l.pop();
b[5]=e[2];b=0<l.length?l[l.length-1][4]:a;break;default:b.push(e)}return a}function e(c){this.tail=this.string=c;this.pos=0}function k(c,a){this.view=c;this.cache={".":this.view};this.parent=a}function h(){this.cache={}}var c=Object.prototype.toString,l=Array.isArray||function(a){return"[object Array]"===c.call(a)},n=RegExp.prototype.test,p=/\S/,q={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},t=/\s*/,v=/\s+/,y=/\s*=/,E=/\s*\}/,F=/#|\^|\/|>|\{|&|=|!/;e.prototype.eos=function(){return""===
this.tail};e.prototype.scan=function(c){c=this.tail.match(c);if(!c||0!==c.index)return"";c=c[0];this.tail=this.tail.substring(c.length);this.pos+=c.length;return c};e.prototype.scanUntil=function(c){c=this.tail.search(c);var a;switch(c){case -1:a=this.tail;this.tail="";break;case 0:a="";break;default:a=this.tail.substring(0,c),this.tail=this.tail.substring(c)}this.pos+=a.length;return a};k.prototype.push=function(c){return new k(c,this)};k.prototype.lookup=function(c){var a=this.cache,b;if(c in a)b=
a[c];else{for(var l=this,e,f,h=!1;l;){if(0<c.indexOf("."))for(b=l.view,e=c.split("."),f=0;null!=b&&f<e.length;)f===e.length-1&&null!=b&&(h="object"===typeof b&&b.hasOwnProperty(e[f])),b=b[e[f++]];else null!=l.view&&"object"===typeof l.view&&(b=l.view[c],h=l.view.hasOwnProperty(c));if(h)break;l=l.parent}a[c]=b}d(b)&&(b=b.call(this.view));return b};h.prototype.clearCache=function(){this.cache={}};h.prototype.parse=function(c,a){var b=this.cache,l=b[c];null==l&&(l=b[c]=g(c,a));return l};h.prototype.render=
function(c,a,b){var l=this.parse(c);a=a instanceof k?a:new k(a);return this.renderTokens(l,a,b,c)};h.prototype.renderTokens=function(c,a,b,l){for(var e="",f,h,g,d=0,m=c.length;d<m;++d)g=void 0,f=c[d],h=f[0],"#"===h?g=this._renderSection(f,a,b,l):"^"===h?g=this._renderInverted(f,a,b,l):">"===h?g=this._renderPartial(f,a,b,l):"&"===h?g=this._unescapedValue(f,a):"name"===h?g=this._escapedValue(f,a):"text"===h&&(g=this._rawValue(f)),void 0!==g&&(e+=g);return e};h.prototype._renderSection=function(c,a,
b,e){function f(c){return h.render(c,a,b)}var h=this,g="",m=a.lookup(c[1]);if(m){if(l(m))for(var k=0,n=m.length;k<n;++k)g+=this.renderTokens(c[4],a.push(m[k]),b,e);else if("object"===typeof m||"string"===typeof m||"number"===typeof m)g+=this.renderTokens(c[4],a.push(m),b,e);else if(d(m)){if("string"!==typeof e)throw Error("Cannot use higher-order sections without the original template");m=m.call(a.view,e.slice(c[3],c[5]),f);null!=m&&(g+=m)}else g+=this.renderTokens(c[4],a,b,e);return g}};h.prototype._renderInverted=
function(c,a,b,e){var f=a.lookup(c[1]);if(!f||l(f)&&0===f.length)return this.renderTokens(c[4],a,b,e)};h.prototype._renderPartial=function(c,a,b){if(b&&(c=d(b)?b(c[1]):b[c[1]],null!=c))return this.renderTokens(this.parse(c),a,b,c)};h.prototype._unescapedValue=function(c,a){c=a.lookup(c[1]);if(null!=c)return c};h.prototype._escapedValue=function(c,a){c=a.lookup(c[1]);if(null!=c)return b.escape(c)};h.prototype._rawValue=function(c){return c[1]};b.name="mustache.js";b.version="2.0.0";b.tags=["{{","}}"];
var z=new h;b.clearCache=function(){return z.clearCache()};b.parse=function(c,a){return z.parse(c,a)};b.render=function(c,a,b){return z.render(c,a,b)};b.to_html=function(c,a,l,e){c=b.render(c,a,l);if(d(e))e(c);else return c};b.escape=function(c){return String(c).replace(/[&<>"'\/]/g,function(c){return q[c]})};b.Scanner=e;b.Context=k;b.Writer=h});factfinder=factfinder||{};(function(b){b.libs=b.libs||{};b.libs.mustache=Mustache})(factfinder||(factfinder={}));
var __extends=this&&this.__extends||function(b,d){function a(){this.constructor=b}for(var g in d)d.hasOwnProperty(g)&&(b[g]=d[g]);b.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)};
(function(b){(function(b){(function(a){a.isDebug=a.isDebug||!0;a.isLog=a.isLog||!0;a.isProduction=a.isProduction||!1;a.log=function(b){a.isLog&&!a.isProduction&&console.log(b)};a.error=function(b){if(!a.isProduction)try{console.error(b)}catch(f){console.log(b)}};a.debug=function(b){if(a.isDebug&&!a.isProduction)try{console.debug(b)}catch(f){console.log(b)}}})(b.Logger||(b.Logger={}))})(b.common||(b.common={}))})(factfinder||(factfinder={}));(function(b){b.isReady=!1})(factfinder||(factfinder={}));
(function(b){(function(d){function a(c){var b;if(null==c||"object"!=typeof c)return c;if(c instanceof Array){b=[];for(var e=0,f=c.length;e<f;e++)b[e]=a(c[e]);return b}if(c instanceof Object){b={};for(e in c)c.hasOwnProperty(e)&&(b[e]=a(c[e]));return b}throw Error("Unable to copy obj! Its type isn't supported.");}function g(c,a){a=a.toUpperCase();if((c=c.parentNode)&&c.nodeName)return c.nodeName===a?c:g(c,a)}function f(c){c||(c=window.location.href);return c.split("?")[1]}function m(c,a){var b={};
if(c){c=c.split("&");for(var e=0;e<c.length;e++){var f=c[e],f=f.split("="),h=f[0],f=!0===a?decodeURIComponent(f[1]):f[1];b[h]?b[h].push(f):b[h]=[f]}}return b}function e(c){var a="",e=!0,f;for(f in c){var a=a+(e?"":"&"),e=!1,h=c[f];if(b.common.isArray(h))for(var g=0;g<h.length;g++)a+=f+"="+h[g],a+=g!==h.length-1?"&":"";else a+=f+"="+h}return"?"+a}function k(c){for(var a in c){var e=c[a];if(b.common.isArray(e)){c[a]=[];for(var f=0;f<e.length;f++){var h=e[f];a.match(/^ff-.*/)||"object"===typeof h||"function"===
typeof h||c[a].push(encodeURIComponent(h))}}else a.match(/^ff-.*/)||"object"===typeof e||"function"===typeof e||(c[a]=[encodeURIComponent(c[a])])}return c}function h(c){for(var a in c)if(b.common.isArray(c[a])){var e=c[a];c[a]=[];for(var f=0;f<e.length;f++)c[a].push(decodeURI(e[f]))}else c[a]=[decodeURI(c[a])];return c}d.elementToString=function(c){if(c&&1===c.nodeType){var a=document.createElement("div");a.appendChild(c);return a.innerHTML}return""};d.stringToElement=function(c){var a=document.createElement("div");
a.innerHTML=c;return 1<a.childElementCount?a.children:a.firstElementChild};d.isArray=function(c){return"[object Array]"===Object.prototype.toString.call(c)};d.transitionEndEventName=function(){var c=document.createElement("div"),a={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},b;for(b in a)if(a.hasOwnProperty(b)&&void 0!==c.style[b])return a[b]};d.setStyleProperty=function(c,a,b){b.style[c]=a};d.concatFunctions=function(c,
a){return function(){if(c)try{c.apply(window,arguments)}catch(e){b.common.Logger.error("could not invoke function fn1 ["+c+"] got error: "+e)}if(a)try{a.apply(window,arguments)}catch(e){b.common.Logger.error("could not invoke function fn2 ["+c+"] got error: "+e)}}};d.addEventListener=function(c,a,e){try{return c.addEventListener?c.addEventListener(a,e):c.attachEvent?c.attachEvent("on"+a,e):c[a]=e,!0}catch(f){return b.common.Logger.error("could not add eventlistener: "+f),!1}};d.whenBrowserReady=function(c){function a(){if("complete"===
document.readyState||"loaded"===document.readyState||"interactive"===document.readyState){if(!0===b.isReady){try{c.call(window)}catch(l){b.common.Logger.error(l)}return!0}document.addEventListener("ffReady",function(){try{c.call(window)}catch(a){b.common.Logger.error(a)}return!0})}return!1}if(!0!==a())var e=setInterval(function(){!0===a()&&window.clearInterval(e)},50)};d.cloneObject=a;d.copyHTMLAttributes=function(c,a){try{var e=c.attributes;for(c=0;c<e.length;c++){var f=e[c];try{"for-group"!==f.name&&
a.setAttribute(f.name,f.value)}catch(h){b.common.Logger.error(h)}}}catch(h){b.common.Logger.error("could not copy attribute: "+h)}};d.isCustomElement=function(c){return 1===c.nodeType?-1<c.tagName.indexOf("-")?!0:!1:!1};d.whichTransitionEvent=function(){var c,a=document.createElement("fakeelement"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd",OTransition:"oTransitionEnd",transition:"transitionend"};for(c in b)if(void 0!==a.style[c])return b[c]};
d.getParentElementByName=g;d.urlStringToDict=function(c){return(c=f(c))?m(c):{}};d.getParameterString=f;d.parameterStringToDict=m;d.dictToParameterString=e;d.encodeUrl=function(c){var a=c.split("?");c=a[0];a=m(a[1]);k(a);a=e(a);return c+a};d.fixedEncodeURIComponent=function(c){return encodeURIComponent(c).replace(/[!'()*]/g,function(c){return"%"+c.charCodeAt(0).toString(16)}).replace(/%20/g,"+")};d.encodeDict=k;d.decodeUrl=function(c){var a=c.split("?");c=a[0];a=m(a[1]);h(a);a=e(a);return c+a};d.decodeDict=
h;d.getKeyByPattern=function(c,a){var b,e=[];for(b in c)c.hasOwnProperty(b)&&a.test(b)&&e.push(b);return e};d.mergeProperties=function(c,a){var b={},e;for(e in a){var f=a[e];void 0!==f&&""!==f&&(b[e]=a[e])}for(var h in c)void 0===b[h]&&(b[h]=c[h]);return b};d.getCurrentEndPathString=function(c){c||(c=window.location.href);-1<c.indexOf("http://")?c=c.replace("http://",""):-1<c.indexOf("https://")&&(c=c.replace("https://",""));c=c.split("/");return 1===c.length?f(c[0]):c[c.length-1]};d.fireCustomEvent=
function(c,a,e,f){var h=document.createEvent("Event");h.initEvent(c,a,e);f=f?f:document;try{f.dispatchEvent(h)}catch(g){b.common.Logger.error(g)}};d.replaceAt=function(c,a,b){var e=b.length;0===b.length&&(e=1);return c.substr(0,a)+b+c.substr(a+e)};d.removeAt=function(c,a,b){if(!(a+b>c.length))return c.substr(0,a)+c.substr(a+b)};d.randomString=function(c){for(var a="",b=0;b<c;b++)a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return a};d.localStorage=
{setItem:function(c,a){window.localStorage.setItem(c,a);b.common.fireCustomEvent("ff-basket-changed",!0,!1,document)},getItem:function(c){return window.localStorage.getItem(c)}}})(b.common||(b.common={}))})(factfinder||(factfinder={}));(function(b){(b.libs||(b.libs={})).mustache=Mustache})(factfinder||(factfinder={}));
(function(b){(function(d){function a(){for(var c="",a=0;30>a;a++)c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789 ".charAt(Math.floor(63*Math.random()));return c}function g(c,a,b,e,l){b=l.split("?")[0].split("/");return btoa(b[b.length-1])in J?""+e._r.setRequestHeader(c,a):""}function f(c){function a(e){"suggest"===c.type?(e.suggestions&&(e=e.suggestions),b.communication.ResultDispatcher.dispatchSuggest(e),b.common.fireCustomEvent("gotSuggest",!0,!0)):-1<c.type.indexOf("recommendation")?
(e.resultRecords&&(e=e.resultRecords),b.communication.ResultDispatcher.dispatchRecommendations(e,c),b.common.fireCustomEvent("gotRecommendation",!0,!0)):"productCampaign"===c.type?(b.communication.ResultDispatcher.dispatchProductCampaigns(e),b.common.fireCustomEvent("gotProductCampaign",!0,!0)):"productDetail"===c.type?(b.communication.ResultDispatcher.dispatchProductDetail(e),b.common.fireCustomEvent("gotProductDetail",!0,!0)):"similarProducts"===c.type?(b.communication.ResultDispatcher.dispatchSimilarProducts(e.records),
b.common.fireCustomEvent("gotSimilarProducts",!0,!0)):(e&&e.searchResult&&(e=e.searchResult),e&&e.fieldRoles&&(b.communication.fieldRoles=e.fieldRoles),b.communication.ResultDispatcher.dispatchResult(e),b.common.isArray(e)||(b.communication.FFCommunicationEventAggregator.currentSearchResult=e),b.common.fireCustomEvent("gotSearchResult",!0,!0))}c.success=c.success?b.common.concatFunctions(a,c.success):a}function m(c){var a=b.communication.globalCommunicationParameter.addParams;if(a){a=a.trim().split(",");
try{for(var e=0;e<a.length;e++){var l=a[e];try{var f=l.split("="),h=f[0].trim(),g=f[1].trim();c[h]=g}catch(d){}}}catch(d){}}if(!0===b.communication.globalCommunicationParameter.keepFilters&&(a=b.communication.FFCommunicationEventAggregator.currentSearchResult)&&(a=a.filters))for(e=0;e<a.length;e++)l=a[e],c["filter"+l.name]=l.valueList[0].value;if(b.communication.globalCommunicationParameter.keepUrlParams&&(a=b.communication.globalCommunicationParameter.keepUrlParams)){a=a.trim().split(",");l=b.common.urlStringToDict();
try{for(e=0;e<a.length;e++){var m=a[e].trim();m&&l&&l[m]&&(c[m]=l[m])}}catch(d){}}!1===b.communication.globalCommunicationParameter.useAsn&&(c.useAsn="false");1==b.communication.globalCommunicationParameter.useFoundWords&&(c.useFoundWords="true");0==b.communication.globalCommunicationParameter.useCampaigns&&(c.useCampaigns="false");1==b.communication.globalCommunicationParameter.generateAdvisorTree&&(c.generateAdvisorTree="true");1==b.communication.globalCommunicationParameter.disableCache&&(c.disableCache=
"true");0==b.communication.globalCommunicationParameter.usePersonalization&&(c.usePersonalization="false");0==b.communication.globalCommunicationParameter.useSemanticEnhancer&&(c.useSemanticEnhancer="false");0==b.communication.globalCommunicationParameter.useAso&&(c.useAso="false");1==b.communication.globalCommunicationParameter.useSeo&&b.communication.Util.handleSeoSearch(c);c.url?(new u(c.url,!0)).s(c.success).f(c.fail).a(c.always).se():(e=r.buildSearchRequestUrl(c),(new u(e,!0)).s(c.success).f(c.fail).a(c.always).se())}
function e(c){if(b.communication.FFCommunicationEventAggregator.currentSearchResult&&b.communication.FFCommunicationEventAggregator.currentSearchResult.groups){for(var a=decodeURIComponent(c.groupName),e=0;e<b.communication.FFCommunicationEventAggregator.currentSearchResult.groups.length;e++){var l=b.communication.FFCommunicationEventAggregator.currentSearchResult.groups[e];if(a==l.name){if(c.removeAll){delete c.removeAll;var f=b.common.parameterStringToDict(b.common.getParameterString());"slider"===
l.filterStyle.toLowerCase()&&l.elements.forEach(function(c){c=b.common.fixedEncodeURIComponent(c.associatedFieldName);delete f["filter"+c]});l.selectedElements.forEach(function(c){c=b.common.fixedEncodeURIComponent(c.associatedFieldName);delete f["filter"+c]});a=r.buildFilterUrl(c,b.common.dictToParameterString(f));(new u(a,!0)).s(c.success).f(c.fail).a(c.always).se();return}for(var h=decodeURIComponent(c.filterName),g=0;g<l.selectedElements.length;g++){var d=l.selectedElements[g];if(d.name==h){a=
r.buildFilterUrl(c,d.searchParams);(new u(a,!0)).s(c.success).f(c.fail).a(c.always).se();return}}for(g=0;g<l.elements.length;g++)if(d=l.elements[g],d.name==h){a=r.buildFilterUrl(c,d.searchParams);(new u(a,!0)).s(c.success).f(c.fail).a(c.always).se();return}}}x.log("filter ["+c.filterName+"] in group ["+a+"] not found.")}else x.log("discard filter event. no result available, you need to search before you can filter the result.")}var k=String.prototype,h=a(),c=a(),l=a();k[l]=function(){return"abcdefghijklmnopqrstuvwxyz"};
var n=function(){return function(){this.disableCache=this.generateAdvisorTree=this.useKeywords=this.idsOnly=this.navigation=this.useCampaigns=this.useFoundWords=this.useASN=this.articleNumberSearch=this.searchField=this.filter=this.sort=this.productsPerPage=this.page=this.channel=this.query=this.sid=this.version=this.always=this.fail=this.success=this.type=this.url=""}}();d.FFEvent=n;var p=function(c){function a(){c.apply(this,arguments);this.selectedMinValue=this.selectedMaxValue=this.filterName=
this.groupName=""}__extends(a,c);return a}(n);d.FilterEvent=p;p=function(c){function a(){c.apply(this,arguments);this.value=""}__extends(a,c);return a}(n);d.BreadCrumbEvent=p;p=function(c){function a(){c.apply(this,arguments);this.value="0"}__extends(a,c);return a}(n);d.ProductsPerPageEvent=p;p=function(c){function a(){c.apply(this,arguments);this.number="0"}__extends(a,c);return a}(n);d.PagingEvent=p;p=function(c){function a(){c.apply(this,arguments)}__extends(a,c);return a}(n);d.ProductCampaignEvent=
p;p=function(c){function a(){c.apply(this,arguments)}__extends(a,c);return a}(n);d.SuggestEvent=p;p=function(c){function a(){c.apply(this,arguments)}__extends(a,c);return a}(n);d.ProductDetailEvent=p;n=function(c){function a(){c.call(this);this.query="*"}__extends(a,c);return a}(n);d.GlobalSearchParameter=n;n=new n;d.globalSearchParameter=n;var q=function(){function c(){}c.query="query";c.channel="channel";c.page="page";c.productsPerPage="productsPerPage";c.sort="sort";c.filter="filter";c.searchField=
"searchField";c.articleNumberSearch="noArticleNumberSearch";c.useASN="useAsn";c.useFoundWords="useFoundWords";c.useCampaigns="useCampaigns";c.navigation="navigation";c.idsOnly="idsOnly";c.useKeywords="useKeywords";c.generateAdvisorTree="generateAdvisorTree";c.disableCache="disableCache";c.sid="sid";return c}(),t=function(){function c(){}c.query="query";c.channel="channel";c.page="page";c.productsPerPage="productsPerPage";c.sort="sort";c.filter="filter";c.searchField="searchField";c.articleNumberSearch=
"noArticleNumberSearch";c.useASN="useAsn";c.useFoundWords="useFoundWords";c.useCampaigns="useCampaigns";c.navigation="navigation";c.idsOnly="idsOnly";c.useKeywords="useKeywords";c.generateAdvisorTree="generateAdvisorTree";c.disableCache="disableCache";c.sid="sid";return c}(),v;(function(c){var a=function(){return function(){this.removeFFPrefix=!0}}();c.RequestBuilderOptions=a;var e=new b.communication.BreadCrumbEvent,l=new b.communication.FilterEvent,a=function(){function c(){this.connParamNames=
["url","sid"]}c.prototype.buildUrlByParamObject=function(c,a,b){return 6.9==b?this._internalBuildUrl(c,a,q):6.11==b?this._internalBuildUrl(c,a,t):this._internalBuildUrl(c,a,q)};c.prototype.buildUrlByString=function(c,a,b,e){return this._internalBuildUrlString(c,a,e)};c.prototype.buildSearchRequestUrl=function(c){c=b.common.mergeProperties(b.communication.globalSearchParameter,c);this.appendAction(c,"Search.ff");return this.buildUrlByParamObject(c,c.url,c.version)};c.prototype.buildProductCampaignUrl=
function(c){c=b.common.mergeProperties(this.getConnParams(b.communication.globalSearchParameter),c);this.appendAction(c,"ProductCampaign.ff");c["do"]="getProductCampaigns";return this.buildUrlByParamObject(c,c.url,c.version)};c.prototype.buildFilterUrl=function(c,a){return this._buildUrlByFFParamString(a,c)};c.prototype.buildBreadCrumbUrl=function(c,a){return this._buildUrlByFFParamString(a,c)};c.prototype.buildProductsPerPageUrl=function(c,a){return this._buildUrlByFFParamString(a,c)};c.prototype.buildPagingUrl=
function(c,a){return this._buildUrlByFFParamString(a,c)};c.prototype.buildRecommendationUrl=function(c){c=b.common.mergeProperties(this.getConnParams(b.communication.globalSearchParameter),c);c["do"]="getRecommendation";this.appendAction(c,"Recommender.ff");return this.buildUrlByParamObject(c,c.url,c.version)};c.prototype.buildSortUrl=function(c,a){return this._buildUrlByFFParamString(a,c)};c.prototype.buildSimilarProductsUrl=function(c){c.maxRecordCount=c.maxResults;delete c.maxResults;c=b.common.mergeProperties(b.communication.globalSearchParameter,
c);this.appendAction(c,"SimilarRecords.ff");return this.buildUrlByParamObject(c,c.url,c.version)};c.prototype.buildSuggestUrl=function(c){c=b.common.mergeProperties(b.communication.globalSearchParameter,c);this.appendAction(c,"Suggest.ff");return this.buildUrlByParamObject(c,c.url,c.version)};c.prototype.buildProductDetailUrl=function(c){c.id||b.common.Logger.debug("No id specified for Product Detail request");c.query=c.id;delete c.id;c.useAsn="false";c.useCampaigns="false";c.isArticleNumber="true";
c=b.common.mergeProperties(b.communication.globalSearchParameter,c);this.appendAction(c,"Search.ff");return this.buildUrlByParamObject(c,c.url,c.version)};c.prototype.appendAction=function(c,a){"/"===c.url[c.url.length-1]?c.url+=a:c.url=c.url+"/"+a};c.prototype.buildTrackingUrl=function(c){return 6.9==(c.version?c.version:c.version=b.communication.globalSearchParameter.version)?this._internalBuildTrackingUrl(c,q):this._internalBuildTrackingUrl(c,t)};c.prototype._buildUrlByFFParamString=function(c,
a){c=b.common.getParameterString(c);c=b.common.parameterStringToDict(c);a=b.common.mergeProperties(c,a);a=b.common.mergeProperties(b.communication.globalSearchParameter,a);this.appendAction(a,"Search.ff");return this.buildUrlByParamObject(a,a.url,a.version)};c.prototype._internalBuildUrl=function(c,a,f){var h="?"===a[a.length-1]?a:a+"?";if(c){1==b.communication.globalCommunicationParameter.useSeo&&-1!=a.indexOf("Search.ff")&&delete c.query;for(var g in f)c[g]&&(b.common.isArray(c[g])?h=this._handleArrayParam(g,
c[g],h):"function"!==typeof c[g]&&"object"!==typeof c[g]&&(h+=f[g]+"="+c[g]+"&"));if(!0===b.communication.globalCommunicationParameter.appendUnknownParameter)for(g in c)g in e||g in l||(b.common.isArray(c[g])?h=this._handleArrayParam(g,c[g],h):"function"!==typeof c[g]&&"object"!==typeof c[g]&&(h+=g+"="+c[g]+"&"));h=h.substring(0,h.length-1)}return h};c.prototype._handleArrayParam=function(c,a,b){for(var e=0;e<a.length;e++){var l=a[e];"function"!==typeof l&&"object"!==typeof l&&(b+=c+"="+l+"&")}return b};
c.prototype._internalBuildTrackingUrl=function(c,a){c=b.common.mergeProperties(this.getConnParams(b.communication.globalSearchParameter),c);this.appendAction(c,"Tracking.ff");return this._internalBuildUrl(c,c.url,a)};c.prototype._internalBuildUrlString=function(c,a,b){b&&b.removeFFPrefix&&(c="/"!==c[0]?"/"+c:c,c="/"+c.replace(/(\/.*?\/)/,""));return("/"===a[a.length-1]?a.substring(0,a.length-1):a)+c};c.prototype.getConnParams=function(c){var a={};if(c)for(var b=0;b<this.connParamNames.length;b++){var e=
this.connParamNames[b];c[e]&&(a[e]=c[e])}return a};return c}();c.FFRequestUrlBuilder=a})(v||(v={}));var y=a(),E=a(),F=a(),z=a(),G=a(),J={U2VhcmNoLmZm:!0,"VHJhY2tpbmcuZmY=":!0};d.sp=J;(function(c){function a(c){c=decodeURIComponent(c);if(-1==c.lastIndexOf("/q"))return null;c=c.split("/");return c[c.length-2]}c.handleSeoSearch=function(c){if(c.seoPath)c.seoPath=decodeURIComponent(c.seoPath);else{var e=c.query,l;if(b.communication.globalCommunicationParameter.keepFilters){l=c.seoPath?decodeURIComponent(c.seoPath):
decodeURIComponent(window.location.pathname).replace(b.communication.globalCommunicationParameter.seoPrefix+"","");var f=a(l);e&&"*"!==e&&0!=e.length?l=f?l.replace("/"+f+"/q","/"+e+"/q"):l+"/"+e+"/q":f&&(l=l.replace("/"+f+"/q",""));c.seoPath=encodeURIComponent(l)}else c["ff-seo-initial"]?(delete c["ff-seo-initial"],c.seoPath||(c.seoPath=encodeURIComponent("/"))):c.seoPath=e&&"*"!==e&&0!=e.length?encodeURIComponent("/"+decodeURIComponent(e)+"/q"):encodeURIComponent("/")}};c.pushParameterToHistory=
function(c,a,e){void 0===e&&(e=!0);var l=!0!==b.communication.globalCommunicationParameter.useUrlParameter&&!0===b.communication.globalCommunicationParameter.useBrowserHistory;if(!(-1<a.indexOf("Suggest.ff")||-1<a.indexOf("Tracking.ff")||!1===b.communication.globalCommunicationParameter.useUrlParameter&&!1===b.communication.globalCommunicationParameter.useBrowserHistory))if(b.communication.globalCommunicationParameter.useSeo&&-1!=a.indexOf("Search.ff"))if(!1===l)e=b.common.getParameterString(c.searchResult.searchParams),
e=b.common.parameterStringToDict(e),a="/",void 0!==e.seoPath&&(a=decodeURIComponent(e.seoPath)),delete e.seoPath,delete e.query,delete e.format,e=b.common.dictToParameterString(e),history.pushState(c,"",window.location.origin+b.communication.globalCommunicationParameter.seoPrefix+a+e);else{var f=b.common.getCurrentEndPathString(),f=f.split("?")[0];history.pushState(c,"",f)}else{f=b.common.getCurrentEndPathString();f=f.split("?")[0];try{if(!1===l){var h=b.common.getParameterString(a);e&&(h||(h=a));
h=h.replace(/&[fF]{1}[oO]{1}[rR]{1}[mM]{1}[aA]{1}[tT]{1}=[jJ]{1}[sS]{1}[oO]{1}[nN]{1}/g,"");history.pushState(c,"",f+"?"+h)}else history.pushState(c,"",f)}catch(g){b.common.Logger.error("Result is too big for history")}}};c.changeRecordPropertyName=function(c,a){if(c)for(var b=0;b<c.length;b++){var e=c[b].record,l;for(l in a){var f=a[l];f!==l&&e[l]&&(e[f]=e[l],delete e[l])}}};c.getQueryFromSearchParams=function(){try{var c=b.communication.FFCommunicationEventAggregator.currentSearchResult.searchParams,
e=b.common.parameterStringToDict(c.split("?")[1]).query;if(!0===b.communication.globalCommunicationParameter.useSeo){var l=b.common.parameterStringToDict(c.split("?")[1]).seoPath,f=a(l);f||e||b.common.Logger.debug("whether seoPath param is set nor query param. Maybe FACT-Finder SEO is not active ");return f?f:e}return b.common.parameterStringToDict(c.split("?")[1]).query}catch(h){return""}};c.addRenameRecordFields=function(c){var a=b.communication.ResultDispatcher.addCallback("productCampaign",function(a){if(a)for(var b=
0;b<a.length;b++){var e=a[b];e.pushedProductsRecords&&this.changeRecordPropertyName(e.pushedProductsRecords,c)}},this),e=b.communication.ResultDispatcher.addCallback("result",function(a){var b=a.records;try{this.changeRecordPropertyName(b,c)}catch(e){console.log(e)}try{if(a.campaigns)for(var l in a.campaigns){var f=a.campaigns[l];f.pushedProductsRecords&&this.changeRecordPropertyName(f.pushedProductsRecords,c)}}catch(e){console.log(e)}if(a.singleWordResults)for(a=a.singleWordResults,b=0;b<a.length;b++)if(l=
a[b],l.previewRecords)try{this.changeRecordPropertyName(l.previewRecords,c)}catch(e){console.log(e)}},this),l=b.communication.ResultDispatcher.addCallback("recommendation",function(a){this.changeRecordPropertyName(a,c)},this),f=b.communication.ResultDispatcher.addCallback("similarProducts",function(a){this.changeRecordPropertyName(a,c)},this);return{productCampaign:a,result:e,recommendation:l,similarProducts:f}};c.removeRenameRecordFields=function(c){for(var a in c)!0!==b.communication.ResultDispatcher.unsubscribe(a,
c[a])&&b.common.Logger.debug("Could not remove renameRecordField callback for topic ["+a+"] with key")};c.trackingHelper={getTrackingProductId:function(c){var a=b.communication;return a.fieldRoles&&a.fieldRoles.trackingProductNumber?c.record[a.fieldRoles.trackingProductNumber]:c.id},getPrice:function(c){var a=b.communication.fieldRoles;return a&&a.price?c.record[a.price]:""},getTitle:function(c){var a=b.communication.fieldRoles;return a&&a.productName?c.record[a.productName]:""},getMasterArticleNumber:function(c){var a=
b.communication.fieldRoles;return a&&a.masterArticleNumber?c.record[a.masterArticleNumber]:""},getUserId:function(){var c=b.communication.globalCommunicationParameter;if(c.userId)return c.userId},getCampaignProductNumber:function(c){var a=b.communication;return a.fieldRoles&&a.fieldRoles.campaignProductNumber?c.record[a.fieldRoles.campaignProductNumber]:c.id}}})(d.Util||(d.Util={}));n=function(){return function(){this.useBrowserHistory=this.useUrlParameter=this.ajax=!0;this.useCache=!1;this.appendUnknownParameter=
!0;this.keepFilters=this.isSessionIdDisabled=!1;this.useAsn=!0;this.useFoundWords=!1;this.useCampaigns=!0;this.disableCache=this.generateAdvisorTree=!1;this.useAso=this.useSemanticEnhancer=this.usePersonalization=!0;this.useSeo=!1;this.seoPrefix=""}}();d.GlobalCommunicationParameter=n;d.globalCommunicationParameter=new n;var K=a(),c=a(),H=a(),M=a(),I=a();k[I]=function(){var c=0,a,b,e;if(0===this.length)return c;a=0;for(e=this.length;a<e;a++)b=this.charCodeAt(a),c=(c<<5)-c+b,c|=0;return c};k[K]=function(){var c=
"";""[E]();for(var a=c.concat(this[y](),this[l](),""[E]()),b=0;b<a.length;b++)c+=a.charAt(Math.floor(Math.random()*a.length));return c};n=function(){return function(){this.currentFFSearchBoxValue=""}}();d.GlobalElementValues=n;n=new n;d.globalElementValues=n;k[F]=function(){return Math.random()};k[z]=function(){return(new Date).getTime()};k[G]=function(){return this[I]()};k[E]=function(){return"0123456789"};(function(c){function a(c,b){var e=f[c];if(e)for(var l=0;l<e.length;l++)try{var h=e[l];h.fn.call(h.ctx,
b)}catch(d){g.error("could not invoke subscriber function ["+e[l].name+"] for topic ["+c+"]. error: "+d)}}function e(c){for(var l=b.common.getKeyByPattern(f,/campaign/),h=0;h<l.length;h++)a(l[h],void 0);for(h=0;h<c.length;h++){l=c[h];try{l.pushedProductsRecords&&0<l.pushedProductsRecords.length&&(a("campaign:pushedProducts",l.pushedProductsRecords),a("campaign:pushedProducts:"+l.name,l.pushedProductsRecords))}catch(g){}a("campaign",l);a("campaign:"+l.name,l);a("campaign:"+l.flavour.toLowerCase(),
l);a("campaign:"+l.flavour.toLowerCase()+":"+l.name,l);var d=l.feedbackTexts;if(d)for(var m=0;m<d.length;m++){var k=d[m];a("campaign:feedbacktext",k);a("campaign:feedbacktext:"+l.name,k);a("campaign:feedbacktext:"+k.label,k)}}}function l(c,a){if(c=h[c])for(var e=0;e<c.length;e++){var f=c[e];try{f.fn.call(f.ctx,a)}catch(g){b.common.Logger.error("could not invoke callback function  "+f+" :"+g)}}}var f={result:[],records:[],asn:[],sorting:[],paging:[],suggest:[],bct:[],sort:[],ppp:[],pagingItems:[],
pushedProducts:[],productDetail:[],campaign:[],productCampaign:[],recommendation:[],similarProducts:[],singleWordSearch:[],"campaign:feedbacktext":[]},h={result:[],records:[],asn:[],sorting:[],paging:[],suggest:[],bct:[],sort:[],ppp:[],pagingItems:[],pushedProducts:[],productDetail:[],campaign:[],productCampaign:[],recommendation:[],similarProducts:[],singleWordSearch:[],"campaign:feedbacktext":[]},g=b.common.Logger;c.subscribe=function(c,a,e){try{var l;if(c instanceof Array)for(var h=0;h<c.length;h++){var d=
c[h];-1<d.indexOf(":")&&((l=f[d])||(f[d]=[]));if(l=f[d]){var m=b.common.randomString(20);l.push({fn:a,ctx:e,key:m});return m}b.common.Logger.debug("topic ["+d+"] is not a valid topic")}else{-1<c.indexOf(":")&&((l=f[c])||(f[c]=[]));if(l=f[c])return m=b.common.randomString(20),l.push({fn:a,ctx:e,key:m}),m;b.common.Logger.debug("topic ["+c+"] is not a valid topic")}}catch(k){g.error("unexpected error. could not subscribe: "+k)}};c.unsubscribe=function(c,a){try{if(c instanceof Array)for(var b=0;b<c.length;b++){var e=
f[c[b]],l;for(l in e)if(e[l].key===a)return e.splice(l,1),!0}else for(l in e=f[c],e)if(e[l].key===a)return e.splice(l,1),!0}catch(h){g.error("unexpected error. could not subscribe: "+h)}return!1};c.dispatchResult=function(c){try{l("result",c)}catch(b){}g.debug("dispatching result");try{a("result",c)}catch(b){}try{l("campaign",c.campaigns)}catch(b){}g.debug("dispatching campaigns");try{e(c.campaigns)}catch(b){}try{l("records",c.records)}catch(b){}g.debug("dispatching records");try{a("records",c.records)}catch(b){}try{l("bct",
c.breadCrumbTrailItems)}catch(b){}g.debug("dispatching bread crumb trail");try{a("bct",c.breadCrumbTrailItems)}catch(b){}try{l("sorting",c.sortsList)}catch(b){}g.debug("dispatching sort items");try{a("sort",c.sortsList)}catch(b){}try{l("ppp",c.resultsPerPageList)}catch(b){}g.debug("dispatching results per page items");try{a("ppp",c.resultsPerPageList)}catch(b){}try{l("paging",c.paging)}catch(b){}g.debug("dispatching paging");try{a("paging",c.paging)}catch(b){}try{l("pagingItems",c.paging.pageLinks)}catch(b){}g.debug("dispatching paging items");
try{a("pagingItems",c.paging.pageLinks)}catch(b){}try{l("asn",c.groups)}catch(b){}g.debug("dispatching asn");try{a("asn",c.groups)}catch(b){}try{l("singleWordSearch",c.singleWordResults)}catch(b){}g.debug("dispatching singleWordSearch");try{a("singleWordSearch",c.singleWordResults)}catch(b){}};c.dispatchProductDetail=function(c){try{l("productDetail",c.records[0])}catch(b){}g.debug("dispatching productDetail");try{a("productDetail",c.records[0])}catch(b){}};c.dispatchProductCampaigns=function(c){try{l("productCampaign",
c)}catch(e){}for(var h=b.common.getKeyByPattern(f,/productCampaign/),g=0;g<h.length;g++)a(h[g],void 0);for(g=0;g<c.length;g++){h=c[g];try{h.pushedProductsRecords&&0<h.pushedProductsRecords.length&&(a("productCampaign:pushedProducts",h.pushedProductsRecords),a("productCampaign:pushedProducts:"+h.name,h.pushedProductsRecords))}catch(e){}a("productCampaign",h);a("productCampaign:"+h.name,h);a("productCampaign:"+h.flavour.toLowerCase(),h);a("productCampaign:"+h.flavour.toLowerCase()+":"+h.name,h);var d=
h.feedbackTexts;if(d)for(var m=0;m<d.length;m++){var k=d[m];a("productCampaign:feedbacktext",k);a("productCampaign:feedbacktext:"+h.name,k);a("productCampaign:feedbacktext:"+k.label,k)}}};c.dispatchCampaigns=e;c.dispatchSuggest=function(c){l("suggest",c);g.debug("dispatching suggest");a("suggest",c)};c.dispatchRecommendations=function(c,b){l("recommendation",c);g.debug("dispatching recommendations");a("recommendation",c);a(b.type,c)};c.dispatchSimilarProducts=function(c){l("similarProducts",c);g.debug("dispatching similarProducts");
a("similarProducts",c)};c.invokeCallbacks=l;c.addCallback=function(c,a,e){var l,f;for(f in h)if(c.toLowerCase()===f.toLowerCase()){l=h[f];break}if(l)return c=b.common.randomString(20),l.push({fn:a,ctx:e,key:c}),c;b.common.Logger.error("Cant add callback for topic ["+c+"]. Topic does not exist.")};c.removeCallback=function(c,a){var e,l;for(l in h)if(c.toLowerCase()===l.toLowerCase()){e=h[l];break}if(e)for(c=0;c<e.length;c++){if(e[c].key===a)return e.splice(c,1),!0}else b.common.Logger.error("Cant add callback for topic ["+
c+"]. Topic does not exist.")}})(d.ResultDispatcher||(d.ResultDispatcher={}));var A=window.btoa(window.location.origin),n=a();localStorage.setItem(A,n);k[y]=function(){return"ABCDEFGHIJKLMNOPQRSTUVWXYZ"};var B=function(){function c(a,b){void 0===b&&(b=!0);!0===b&&this._i(a);this._u=a}c.prototype._i=function(c){var a=new XMLHttpRequest;"withCredentials"in a?a.open("GET",c,!0):"undefined"!=typeof XDomainRequest?(a=new XDomainRequest,a.open("GET",c,!0)):a=null;this._r=a;if(!this._r)throw Error("CORS is not supported");
};c.prototype.f=function(c){this._fC=c;return this};c.prototype.s=function(c){this._sC=c;return this};c.prototype.a=function(c){this._aC=c;return this};c.prototype._iSC=function(c){if(this._sC&&200===c.target.status){try{this._sC(this._r.responseText,c)}catch(a){b.common.Logger.error(a)}if(this._aC)try{this._aC(c)}catch(a){b.common.Logger.error(a)}}else this._iFC(c)};c.prototype._iFC=function(c){if(this._fC)try{this._fC(this._r.responseText,c)}catch(a){b.common.Logger.error(a)}if(this._aC)try{this._aC(this._r.responseText,
c)}catch(a){b.common.Logger.error(a)}};c.prototype.se=function(){void 0!==this._r&&null!==this._r||void 0===this._u||this._i(this._u);this._r.onload=this._iSC.bind(this);this._r.onerror=this._iFC.bind(this);this._r.send()};return c}(),u=function(a){function e(l,f){a.call(this,l,!1);this._isPushParameterToHistory=!1;if(!/[fF]{1}[oO]{1}[rR]{1}[mM]{1}[aA]{1}[tT]{1}=[jJ]{1}[sS]{1}[oO]{1}[nN]{1}/.test(l)){var d=b.common.urlStringToDict(l);d.format="json";l=l.split("?")[0]+b.common.dictToParameterString(d)}this._i(l);
for(var d=[],m=new C,m=l[h](m).split("$"),k=0;3>k;k++){for(var n=10*k,p="",q=n;q<n+10;q++)p+=m[q];d.push(p)}k=l[F]();g(d[0],k,1,this,l);n=l[K]();g(d[1],n,1,this,l);m=l[z]();k=l[M](+k,m,l[G](),n);g(d[2],l[c](k),1,this,l);g(d[1],k[3],1,this,l);g("_ffo",localStorage.getItem(A).substring(0,0)+A,1,this,l);d=m%99;50<=d?(m+="",k=m.slice(2,m.length),m=m[0]+m[1]):(m+="",k=m.slice(m.length-2,m.length),m=m.slice(0,m.length-2));10>d&&(d="0"+d);g("_fft",k+m+d,1,this,l);this._isPushParameterToHistory=f}__extends(e,
a);e.prototype.s=function(c){this._sC=function(a,e){var l;try{l=JSON.parse(a),!0===this._isPushParameterToHistory&&b.communication.Util.pushParameterToHistory(l,this._u,!0)}catch(f){b.common.Logger.error("Could not parse response. Probably authentication failed: "+f);this._iFC(e);return}try{c(l)}catch(f){b.common.Logger.error(f)}return l};return this};return e}(B);k[M]=function(c,a,b,e){e=[[],[],[]];for(var l=2;l<this.length;l++){var f=l;e[0][l-2]=c.toString().charAt(l);e[0][l-2]&&f--;e[1][l-2]=a.toString().charAt(a.toString().length-
2-l);e[1][l-2]&&f--;e[2][l-2]=b.toString().charAt(l);e[2][l-2]&&f--;if(1==f)break}return this[H](e)};var C=function(){function c(){this.LOCALSTORAGE_SID_PARAM_NAME="ff_sid";this.REQUEST_SID_PARAM_NAME="sid";this.SESSION_ID_LENGTH=30}c.prototype.checkSession=function(c){if(!0!==b.communication.globalCommunicationParameter.isSessionIdDisabled){var a=this.readSessionIdFromLocalstorage(),e=this.readSessionIdFromRequestParams();a?this.writeSessionIdToUrl(a):e?localStorage.setItem(this.LOCALSTORAGE_SID_PARAM_NAME,
e):(a=this.readSessionIdFromLocalstorage(!0),this.writeSessionIdToUrl(a));c.sid=this.readSessionIdFromLocalstorage()}};c.prototype.readSessionIdFromLocalstorage=function(c){if(!0!==b.communication.globalCommunicationParameter.isSessionIdDisabled)return localStorage.getItem(this.LOCALSTORAGE_SID_PARAM_NAME)||!0!==c||localStorage.setItem(this.LOCALSTORAGE_SID_PARAM_NAME,b.common.randomString(this.SESSION_ID_LENGTH)),localStorage.getItem(this.LOCALSTORAGE_SID_PARAM_NAME)};c.prototype.writeSessionIdToUrl=
function(c){if(!0!==b.communication.globalCommunicationParameter.isSessionIdDisabled&&!0===b.communication.globalCommunicationParameter.useUrlParameter){var a=c||localStorage.getItem(this.LOCALSTORAGE_SID_PARAM_NAME)||this.readSessionIdFromLocalstorage(!0);c=b.common.urlStringToDict();c[this.REQUEST_SID_PARAM_NAME]=a;a=b.communication.FFCommunicationEventAggregator.currentSearchResult;c=b.common.dictToParameterString(c);try{history.replaceState(a,void 0,c)}catch(e){b.common.Logger.log("Result is too big for history")}}};
c.prototype.readSessionIdFromRequestParams=function(c){var a=b.common.urlStringToDict()[this.REQUEST_SID_PARAM_NAME];a||!0!==c||this.writeSessionIdToUrl();return a};return c}(),n=function(){function c(){this.requestBuilder=new v.FFRequestUrlBuilder;this.sessionManager=new C;this.neededClickInfo="id sid query pos origPos page origPageSize".split(" ");this.neededCartInfo=["id","sid","count"];this.neededCheckoutInfo=["id","sid","count"];this.neededRecoInfo=["id","sid","mainId"];this.neededLoginInfo=
["id","sid"]}c.prototype.click=function(c){this.sessionManager.checkSession(c);!0===this.checkNeededParamsAvailable(this.neededClickInfo,c)&&(c.event="click",this._sendRequest(c))};c.prototype.cart=function(c){this.sessionManager.checkSession(c);!0===this.checkNeededParamsAvailable(this.neededCartInfo,c)&&(c.event="cart",this._sendRequest(c))};c.prototype.checkout=function(c){this.sessionManager.checkSession(c);!0===this.checkNeededParamsAvailable(this.neededCheckoutInfo,c)&&(c.event="checkout",this._sendRequest(c))};
c.prototype.login=function(c){this.sessionManager.checkSession(c);!0===this.checkNeededParamsAvailable(this.neededLoginInfo,c)&&(c.event="login",this._sendRequest(c))};c.prototype.recommendationClick=function(c){this.sessionManager.checkSession(c);!0===this.checkNeededParamsAvailable(this.neededRecoInfo,c)&&(c.event="recommendationClick",this._sendRequest(c))};c.prototype.feedback=function(c){};c.prototype.checkNeededParamsAvailable=function(c,a){for(var b=0;b<c.length;b++)if(!a.hasOwnProperty(c[b]))return!1;
return!0};c.prototype._sendRequest=function(c){if(!c.channel){var a=b.common.getParameterString();a&&(a=b.common.parameterStringToDict(a),a.channel&&(c.channel=a.channel,b.communication.globalSearchParameter.channel=c.channel));c.channel||(c.channel=b.communication.globalSearchParameter.channel)}if(a=b.communication.globalCommunicationParameter.addTrackingParams)try{for(var e=a.trim().split(","),a=0;a<e.length;a++){var l=e[a];try{var f=l.split("="),h=f[0].trim(),g=f[1].trim();c[h]=g}catch(d){}}}catch(d){}e=
this.requestBuilder.buildTrackingUrl(c);(new B(e)).s(c.success).f(c.fail).a(c.a).se()};return c}();d.Tracking12=n;k[c]=function(c){return c[0].concat(c[1]).concat(c[2])};var x=b.common.Logger,r=new v.FFRequestUrlBuilder,n=function(){function c(){}c.prototype.addFFEvent=function(c){if(c.type)if("search"===c.type)f(c),m(c);else if("filter"===c.type)f(c),e(c);else if("bct"===c.type)a:if(f(c),b.communication.FFCommunicationEventAggregator.currentSearchResult&&b.communication.FFCommunicationEventAggregator.currentSearchResult.breadCrumbTrailItems){for(var a=
0;a<b.communication.FFCommunicationEventAggregator.currentSearchResult.breadCrumbTrailItems.length;a++){var l=b.communication.FFCommunicationEventAggregator.currentSearchResult.breadCrumbTrailItems[a];if(decodeURIComponent(c.value)===l.value){a=r.buildBreadCrumbUrl(c,l.searchParams);(new u(a,!0)).s(c.success).f(c.fail).a(c.a).se();break a}}x.log("no bread crumb trail item found for value: "+c.value)}else x.log("discard breadCrumbTrail event. no result available, you need to search before you can use the bct.");
else if("suggest"===c.type)f(c),c.url?(new u(c.url,!1)).s(c.success).f(c.fail).a(c.a).se():(a=r.buildSuggestUrl(c),(new u(a,!1)).s(c.success).f(c.fail).a(c.a).se());else if("suggestItem"===c.type)f(c),a=r.buildUrlByString(c["ff-suggestParams"],b.communication.globalSearchParameter.url,b.communication.globalSearchParameter.version,{removeFFPrefix:!0}),delete c["ff-suggestParams"],c.type="search",c.url=a,m(c);else if("sort"===c.type)a:if(f(c),b.communication.FFCommunicationEventAggregator.currentSearchResult&&
b.communication.FFCommunicationEventAggregator.currentSearchResult.sortsList){for(a=0;a<b.communication.FFCommunicationEventAggregator.currentSearchResult.sortsList.length;a++)if(l=b.communication.FFCommunicationEventAggregator.currentSearchResult.sortsList[a],decodeURIComponent(c.value)===l.description){a=r.buildSortUrl(c,l.searchParams);(new u(a,!0)).s(c.success).f(c.fail).a(c.a).se();break a}x.log("no sort item found for value: "+c.value)}else x.log("discard sort event. no result available, you need to search before you can sort the result.");
else if("ppp"===c.type)a:if(f(c),b.communication.FFCommunicationEventAggregator.currentSearchResult&&b.communication.FFCommunicationEventAggregator.currentSearchResult.resultsPerPageList){for(a=0;a<b.communication.FFCommunicationEventAggregator.currentSearchResult.resultsPerPageList.length;a++)if(l=b.communication.FFCommunicationEventAggregator.currentSearchResult.resultsPerPageList[a],c.value===l.value+""){a=r.buildProductsPerPageUrl(c,l.searchParams);(new u(a,!0)).s(c.success).f(c.fail).a(c.always).se();
break a}x.log("no products per page item found for value: "+c.value)}else x.log("discard products per page event. no result available, you need to search before you can use products per page.");else if("paging"===c.type)a:if(f(c),b.communication.FFCommunicationEventAggregator.currentSearchResult&&b.communication.FFCommunicationEventAggregator.currentSearchResult.paging)if(b.communication.FFCommunicationEventAggregator.currentSearchResult.paging.firstLink&&c.number===b.communication.FFCommunicationEventAggregator.currentSearchResult.paging.firstLink.number+
"")a=b.communication.FFCommunicationEventAggregator.currentSearchResult.paging.firstLink,a=r.buildPagingUrl(c,a.searchParams),(new u(a,!0)).s(c.success).f(c.fail).a(c.always).se();else if(b.communication.FFCommunicationEventAggregator.currentSearchResult.paging.lastLink&&c.number===b.communication.FFCommunicationEventAggregator.currentSearchResult.paging.lastLink.number+"")a=b.communication.FFCommunicationEventAggregator.currentSearchResult.paging.lastLink,a=r.buildPagingUrl(c,a.searchParams),(new u(a,
!0)).s(c.success).f(c.fail).a(c.always).se();else if(b.communication.FFCommunicationEventAggregator.currentSearchResult.paging.previousLink&&c.number===b.communication.FFCommunicationEventAggregator.currentSearchResult.paging.previousLink.number+"")a=b.communication.FFCommunicationEventAggregator.currentSearchResult.paging.previousLink,a=r.buildPagingUrl(c,a.searchParams),(new u(a,!0)).s(c.success).f(c.fail).a(c.always).se();else if(b.communication.FFCommunicationEventAggregator.currentSearchResult.paging.nextLink&&
c.number===b.communication.FFCommunicationEventAggregator.currentSearchResult.paging.nextLink.number+"")a=b.communication.FFCommunicationEventAggregator.currentSearchResult.paging.nextLink,a=r.buildPagingUrl(c,a.searchParams),(new u(a,!0)).s(c.success).f(c.fail).a(c.always).se();else{for(l=0;l<b.communication.FFCommunicationEventAggregator.currentSearchResult.paging.pageLinks.length;l++)if(a=b.communication.FFCommunicationEventAggregator.currentSearchResult.paging.pageLinks[l],c.number===a.number+
""){a=r.buildPagingUrl(c,a.searchParams);(new u(a,!0)).s(c.success).f(c.fail).a(c.always).se();break a}x.log("no paging item found for value: "+c.number)}else x.log("discard paging event. no result available, you need to search before you can filter the result.");else-1<c.type.indexOf("recommendation")?(f(c),a=r.buildRecommendationUrl(c),(new u(a,!1)).s(c.success).f(c.fail).a(c.a).se()):"productCampaign"===c.type?(f(c),a=r.buildProductCampaignUrl(c),(new u(a,!1)).s(c.success).f(c.fail).a(c.always).se()):
"productDetail"===c.type?(f(c),c.url?(new u(c.url,!1)).s(c.success).f(c.fail).a(c.always).se():(a=r.buildProductDetailUrl(c),(new u(a,!1)).s(c.success).f(c.fail).a(c.always).se())):"similarProducts"===c.type?(f(c),a=r.buildSimilarProductsUrl(c),(new u(a,!1)).s(c.success).f(c.fail).a(c.a).se()):"advisor"===c.type?(f(c),a=r.buildUrlByString(c.answer.params,b.communication.globalSearchParameter.url,b.communication.globalSearchParameter.version,{removeFFPrefix:!0}),delete c.answer,c.type="search",c.url=
a,m(c)):x.log("event could not be dispatched. no valid type specified - type ["+c.type+"]");else x.log("event could not be dispatched. no type specified")};return c}();d.FFCommunicationHandler=n;n=function(c){function a(){c.apply(this,arguments)}__extends(a,c);return a}(b.communication.FFCommunicationHandler);d.FF611CommunicationHandler=n;k[h]=function(c){var a={};c.checkSession(a);c=[];for(var b=0;b<a.sid.length;b++)c.push(a.sid.charCodeAt(b).toString(16));return c.join("$")};n=function(c){function a(){c.apply(this,
arguments)}__extends(a,c);return a}(b.communication.FFCommunicationHandler);d.FF70CommunicationHandler=n;n=function(c){function a(){c.apply(this,arguments)}__extends(a,c);return a}(b.communication.FFCommunicationHandler);d.FF71CommunicationHandler=n;k[H]=function(c){for(var a=this[K](),b=[],e=0;3>e;e++){var l="";c[e].forEach(function(c){for(var b=0;6>b;b++)l+=a.charAt(+c+10*b)});b.push(l)}b.push(a);return b};(function(c){var a=new b.communication.FF611CommunicationHandler,e=new b.communication.FF70CommunicationHandler,
l=new b.communication.FF71CommunicationHandler,f=b.common.Logger,h=new C,g=[];document.addEventListener("ffReady",function(){b.communication.ResultDispatcher.subscribe("result",function(a){c.currentSearchResult=a},this)});c.addFFEvent=function(c){if(!c.version)try{c.version=parseFloat(b.communication.globalSearchParameter.version)}catch(d){this.logger.error(d)}if(!c.channel){var m=b.common.getParameterString();m&&(m=b.common.parameterStringToDict(m),m.channel&&(c.channel=m.channel,b.communication.globalSearchParameter.channel=
c.channel));c.channel||(c.channel=b.communication.globalSearchParameter.channel)}for(m=0;m<g.length;m++){var k=g[m];c.f=c.fail?b.common.concatFunctions(c.fail,k.fn):k.fn}h.checkSession(c);b.common.encodeDict(c);for(var n in c){m=c[n];try{m&&m[0]&&1===m.length&&(c[n]=m[0])}catch(d){}}6.9==c.version||c[0]&&6.9==c[0]?(f.debug("dispatch event to FF6.9 component."),a.addFFEvent(c)):6.11==c.version||c[0]&&6.11==c[0]?(f.debug("dispatch event to FF6.11 component."),a.addFFEvent(c)):7==c.version||c[0]&&7==
c[0]?(f.debug("dispatch event to FF7.0 component."),e.addFFEvent(c)):(7.1==c.version||c[0]&&7.1==c[0]?f.debug("dispatch event to FF7.1 component."):7.2==c.version||c[0]&&7.2==c[0]?f.debug("dispatch event to FF7.2 component."):f.debug("default to 7.2 component."),l.addFFEvent(c))};c.removeFailCallback=function(c){for(var a=0;a<b.length;a++)if(b[a].key===c){var b;b.splice(a,1);return!0}return!1};c.addFailCallback=function(c){if(c){var a=b.common.randomString(20);g.push({fn:c,key:a});return a}b.common.Logger.debug("addFailCallback: fn is undefined")};
c.getCurrentResult=function(a){return c.currentSearchResult}})(d.FFCommunicationEventAggregator||(d.FFCommunicationEventAggregator={}))})(b.communication||(b.communication={}))})(factfinder||(factfinder={}));
(function(b){(function(d){var a=function(){return function(){this.returnAsString=this.append=!0}}();d.RendererOptions=a;a=function(){function a(){this.renderer=b.libs.mustache}a.prototype.render=function(a,b,e,g){if(a.childNodes){var h=document.createElement("div");h.appendChild(a);a=h.innerHTML}try{var c=this.renderer.render(a,b)}catch(d){return console.error?console.error("could not render template: "+a,d):console.log("could not render template: "+a,d),""}if(e&&e.childNodes)for(a=document.createElement("div"),
a.innerHTML=c,b=0;b<a.childNodes.length;b++)if(h=a.childNodes[b],!g||g&&1==g.append)e.appendChild(h);else{var l=e.firstChild;l&&e.insertBefore(h,l)}return g&&!1===g.returnAsString?(e=document.createElement("div"),e.innerHTML=c,e.isWrapper=!0,e.firstElementChild):c};return a}();d.TemplateRenderer=a})(b.html||(b.html={}))})(factfinder||(factfinder={}));
(function(b){(function(d){var a=function(){function a(){this.templateRenderer=new b.html.TemplateRenderer}a.prototype.processAsnElement=function(a,g,e,d,h){e={group:e,element:g};var c;a instanceof Array?c=g.selected?a[0]:a[1]:a instanceof HTMLElement?c=a:a instanceof Object?c=g.selected?a.selected:a.unselected:b.common.Logger.error("Could not read templates. Parameter[templates] needs to be an array OR an object with selected/unselected properties.");return this.templateRenderer.render(c,e,d,h)};
a.prototype.processDetailedLinks=function(a,b,e,g){e||(e=document.createElement("div"),e.isWrapper=!0);for(var h=0;h<b.detailedLinks&&h<b.elements.length;h++)this.processAsnElement(a,b.elements[h],b,e,g);return e};a.prototype.processHiddenLinks=function(a,b,e,g){e||(e=document.createElement("div"),e.isWrapper=!0);for(var h=b.detailedLinks;h<b.elements.length;h++)this.processAsnElement(a,b.elements[h],b,e,g);return e};return a}();d.AsnRenderer=a})(b.html||(b.html={}))})(factfinder||(factfinder={}));
(function(b){b.isReady=!0;b.common.fireCustomEvent("ffReady",!0,!1,document)})(factfinder||(factfinder={}));var DYN_WEB=DYN_WEB||{};
DYN_WEB.Event=function(b){function d(a){if(!a.clientX)try{a.clientX=a.touches[0].clientX}catch(b){}if(!a.clientY)try{a.clientY=a.touches[0].clientY}catch(b){}return a}b.add=document.addEventListener?function(a,b,f,d){a.addEventListener(b,f,d||!1)}:function(a,b,f){a.attachEvent("on"+b,f)};b.remove=document.removeEventListener?function(a,b,f,d){a.removeEventListener(b,f,d||!1)}:function(a,b,f){a.detachEvent("on"+b,f)};b.DOMit=function(a){d(a);a=a?a:window.event;a.target||(a.target=a.srcElement);a.preventDefault||
(a.preventDefault=function(){return a.returnValue=!1});a.stopPropagation||(a.stopPropagation=function(){a.cancelBubble=!0});return a};b.getTarget=function(a){a=b.DOMit(a);a=a.target;1!==a.nodeType&&(a=a.parentNode);return a};b.domReady=function(){function a(a){if(!f&&("readystatechange"!==a.type||"complete"===document.readyState)){a=0;for(var e=b.length;a<e;a++)b[a].call(document);f=!0;b=[]}}var b=[],f=!1;document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!1),document.addEventListener("readystatechange",
a,!1),window.addEventListener("load",a,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",a),window.attachEvent("onload",a));return function(a){f?a.call(document):b.push(a)}}();return b}(DYN_WEB.Event||{});
DYN_WEB.Viewport={_docEl:null,getDocEl:function(){var b,d=document;this._docEl||(b=d.compatMode,this._docEl="CSS1Compat"===b?d.documentElement:d.body);return this._docEl},getWidth:function(){var b=this.getDocEl().clientWidth;window.innerWidth&&b>window.innerWidth&&(b=window.innerWidth);return b},getHeight:function(){var b=this.getDocEl().clientHeight;window.innerHeight&&b>window.innerHeight&&(b=window.innerHeight);return b},getScrollX:function(){return"number"===typeof window.pageXOffset?window.pageXOffset:
this.getDocEl().scrollLeft},getScrollY:function(){return"number"===typeof window.pageYOffset?window.pageYOffset:this.getDocEl().scrollTop},getAll:function(){return{width:this.getWidth(),height:this.getHeight(),scrollX:this.getScrollX(),scrollY:this.getScrollY()}}};
DYN_WEB.Util=function(b){b.$=function(b,a){if(a)return a.root?Polymer.dom(a.root).querySelector(b):a.querySelector(b);if(b.nodeType)return b;if(""!==b)return window.ShadowDOMPolyfill||Element.prototype.createShadowRoot?document.querySelector("body /deep/ #"+b):document.getElementById(b)};b.intersectContainer=function(d,a){var g=parseInt(d.style.left.replace("px",""),10);d=parseInt(d.style.left.replace("px",""))+d.offsetWidth;var f=parseInt(a.style.left.replace("px",""),10);a=parseInt(a.style.left.replace("px",
""),10)+a.offsetWidth;return b.intersectValues(g,d,f,a)};b.intersectValues=function(b,a,g,f){return b<=f&&a>=g||b>=f&&a<=g};b.getCurrentStyle=function(b,a){var g="",f;window.getComputedStyle?g=window.getComputedStyle(b,null)[a]:b.currentStyle&&(g=b.currentStyle[a],!/^\d+(px)?$/i.test(g)&&/^\d/.test(g)&&(a=b.style.left,f=b.runtimeStyle.left,b.runtimeStyle.left=b.currentStyle.left,b.style.left=g||0,g=b.style.pixelLeft+"px",b.style.left=a,b.runtimeStyle.left=f));return g};b.contained=function(b,a){if(!b)return!1;
for(;b=b.parentNode;)if(b===a)return!0;return!1};b.hash=function(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)};return b}(DYN_WEB.Util||{});
DYN_WEB.Draggable=function(){function b(f,g,e,k){var h;"string"===typeof f?h=d.$(f):"nodeType"in f?h=f:console.log("Cant process identifierer "+f);if(!h)throw Error("new DYN_WEB.Draggable: No element with the specified id found.");this.id=f;var c=parseInt(d.getCurrentStyle(h,"left"),10),l=parseInt(d.getCurrentStyle(h,"top"),10);e&&(this.minX="number"===typeof e.minX?e.minX:void 0,this.maxX="number"===typeof e.maxX?e.maxX:void 0,this.minY="number"===typeof e.minY?e.minY:void 0,this.maxY="number"===
typeof e.maxY?e.maxY:void 0,this.on_drag_start="function"===typeof e.on_drag_start?e.on_drag_start:this.on_drag_start,this.on_drag="function"===typeof e.on_drag?e.on_drag:this.on_drag,this.on_drag_end="function"===typeof e.on_drag_end?e.on_drag_end:this.on_drag_end);k?(c=this.maxX,this.slider2=d.$(f)):(c=isNaN(c)?0:c,this.slider1=d.$(f));l=isNaN(l)?0:l;b.shiftTo(h,c,l);if(g){e=g.nodeType?g:d.$(g);if(!e)throw Error("new DYN_WEB.Draggable: No element with the specified handleId found.");if(!d.contained(e,
h))throw Error("new DYN_WEB.Draggable: No element with id "+g+" found inside "+f+".");}else e=h;a.add(e,"mousedown",b.start.bind(this));a.add(e,"touchstart",b.start.bind(this))}var d=DYN_WEB.Util,a=DYN_WEB.Event,g=DYN_WEB.Viewport;b.prototype={on_drag_start:function(){},on_drag:function(){},on_drag_end:function(){}};b.zOrder=1E3;b.start=function(f){var d,e,k,h;e=0;f=a.DOMit(f);k=a.getTarget(f);do{if(k.id===this.slider1.id){d=this.slider1;break}else if(k.id===this.slider2.id){d=this.slider2;break}e++}while(10>
e&&(k=k.parentNode));if(!d)throw Error("Unable to find Draggable element onmousedown.");d.style.zIndex=b.zOrder++;e=f.clientX+g.getScrollX();k=f.clientY+g.getScrollY();h=parseInt(d.style.left,10)||0;d=parseInt(d.style.top,10)||0;this.dx=e-h;this.dy=k-d;this.downX=e;this.downY=k;this.on_drag_start(h,d);this.drag=b.drag.bind(this);this.end=b.end.bind(this);a.add(document,"mousemove",this.drag);a.add(document,"touchmove",this.drag);a.add(document,"mouseup",this.end);a.add(document,"touchend",this.end);
f.preventDefault();f.stopPropagation()};b.drag=function(f){f=a.DOMit(f);var d=this.id,e=f.clientX+g.getScrollX()-this.dx,k=f.clientY+g.getScrollY()-this.dy,e="undefined"!==typeof this.minX?Math.max(this.minX,e):e,e="undefined"!==typeof this.maxX?Math.min(this.maxX,e):e,k="undefined"!==typeof this.minY?Math.max(this.minY,k):k,k="undefined"!==typeof this.maxY?Math.min(this.maxY,k):k;if("string"===typeof this.id?this.id===this.slider1.id:this.id.id===this.slider1.id)this.maxX=parseInt(this.slider2.style.left.replace("px",
""),10),this.minX=0;else if("string"===typeof this.id?this.id===this.slider2.id:this.id.id===this.slider2.id)this.minX=parseInt(this.slider1.style.left.replace("px",""),10),this.maxX=DYN_WEB.origMaxX;b.shiftTo(d,e,k);this.on_drag(e,k);f.preventDefault()};b.end=function(){var b=this.id,g;a.remove(document,"mousemove",this.drag);a.remove(document,"touchmove",this.drag);a.remove(document,"mouseup",this.end);a.remove(document,"touchend",this.end);b&&(g=parseInt(b.style.left,10),b=parseInt(b.style.top,
10),this.on_drag_end(g,b))};b.setup=function(){for(var a,g=0,e=arguments.length;g<e;g++)a=arguments[g],"string"===typeof a?new b(a):new b(a.id,a.handleId,a)};b.shiftTo=function(a,b,e){a.style.left=parseInt(b,10)+"px";a.style.top=parseInt(e,10)+"px"};return b}();
DYN_WEB.Slider=function(){function b(a,g,e,d,h){this.id=a;this.trackId=g;this.axis=e;"string"!==typeof this.id?b.col[this.id.id]=this:b.col[this.id]=this;this.init(d)}var d=DYN_WEB.Util,a=DYN_WEB.Event,g=DYN_WEB.Draggable;b.col={};b.prototype={slideDur:50,init:function(b){var m=d.$(this.id),e=d.$(this.trackId),k=parseInt(d.getCurrentStyle(m,"left"),10),h=parseInt(d.getCurrentStyle(m,"top"),10),c=this,k=isNaN(k)?0:k,h=isNaN(h)?0:h;"v"===this.axis?(h=e.offsetHeight-m.offsetHeight-2*e.clientTop,k={minX:k,
maxX:k,minY:0,maxY:h}):(k=e.offsetWidth-m.offsetWidth-2*e.clientLeft,k={minX:0,maxX:k,minY:h,maxY:h});this.barWd=m.offsetWidth;this.barHt=m.offsetHeight;this.Dragbar=b?new g(this.id,"",k,!0):new g(this.id,"",k);this.minX=this.Dragbar.minX;this.maxX=this.Dragbar.maxX;DYN_WEB.origMaxX=this.maxX;this.minY=this.Dragbar.minY;this.maxY=this.Dragbar.maxY;this.Dragbar.on_drag_start=function(a,b){c.on_move_start(a,b)};this.Dragbar.on_drag=function(a,b){c.on_move(a,b)};this.Dragbar.on_drag_end=function(a,b){c.on_move_end(a,
b)};a.add(e,"mousedown",function(a){c.prepSlide(a,c.id)});a.add(e,"touchstart",function(a){c.prepSlide(a,c.id)})},prepSlide:function(f,g){f=a.DOMit(f);var e;e="string"!==typeof g?b.col[g.id]:b.col[g];g=e.bar=d.$(g);e.clearTimer();f.offX="number"===typeof f.offsetX?f.offsetX:f.layerX;f.offY="number"===typeof f.offsetY?f.offsetY:f.layerY;e.startX=parseInt(g.style.left,10);e.startY=parseInt(g.style.top,10);"v"===e.axis?(e.destX=e.startX,e.destY=f.offY<e.startY?f.offY:f.offY-e.barHt,e.destY=Math.min(Math.max(e.destY,
e.minY),e.maxY)):(e.destX=f.offX<e.startX?f.offX:f.offX-e.barWd,e.destX=Math.min(Math.max(e.destX,e.minX),e.maxX),e.destY=e.startY);e.distX=e.destX-e.startX;e.distY=e.destY-e.startY;e.per=Math.PI/(2*e.slideDur);e.slideStartTime=(new Date).getTime();e.on_move_start(e.startX,e.startY);e.timerId=setInterval(function(){e.doSlide()},10)},doSlide:function(){},shiftTo:function(a,b){!this.bar||isNaN(a)||isNaN(b)||(this.bar.style.left=Math.round(a)+"px",this.bar.style.top=Math.round(b)+"px")},clearTimer:function(){clearInterval(this.timerId);
this.timerId=0},on_move_start:function(a,b){},on_move:function(a,b){},on_move_end:function(a,b){}};return b}();
(function(b){(function(b){(function(a){var b=Polymer,b=b.Gestures;a.bind=function(a,d,e){return(a=(e?e:Polymer.dom(this)).querySelector(a))?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindElement=function(a,d){return a?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindAll=function(a,d,e){if(a=(e?e:Polymer.dom(this)).querySelectorAll(a)){for(e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",d);return!0}return!1};a.bindElements=function(a,d){if(a){for(var e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",
d);return!0}return!1};a.unbind=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelector(a);b.remove(a,"tap",d)};a.unbindAll=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelectorAll(a);for(e=0;e<a.length;e++)b.remove(a[e],"tap",d)}})(b.bindActionBehavior||(b.bindActionBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){function b(a){var c=a&&a.nodeName?a:a.currentTarget;try{c.__transitionActive__=!1,c.removeEventListener("transitionend",b),"0px"!==c.style.height?(f(c,!1),c.style.height="",c.style.overflow="",setTimeout(function(){f(c,!0)})):f(c,!0)}catch(e){console.log(e)}finally{if(c&&c.__collapseCallback__){var l=c.__collapseCallback__;delete c.__collapseCallback__;setTimeout(function(){try{l()}catch(c){console.log(c)}},16)}}}function f(a,c){a.style["transition-duration"]=
!0===c?"":"0ms"}function d(a){a=a.getBoundingClientRect();for(var c in a)if(0!==a[c])return!0;return!1}function e(a){return a.getBoundingClientRect().height+"px"}function k(a,c,l,k){!0!==a.__transitionActive__&&(a.__transitionActive__=!0,k&&(a.__collapseCallback__=k),k=window.getComputedStyle(a),c=(k=k["transition-duration"]||k.transitionDuration)&&"0"!==k.replace(/\D/g,"")&&c,f(a,!1),c&&d(a)&&(k=e(a),"auto"===l&&(a.style.height="",l=e(a)),a.style.height=k,a.offsetHeight=a.offsetHeight,f(a,c),a.addEventListener("transitionend",
b)),"0px"===l?(a.style.overflow="hidden",a.removeAttribute("opened")):a.setAttribute("opened",""),a.style.height=l,c&&d(a)||(a.offsetHeight=a.offsetHeight,b(a)))}a._hide=function(a,c,b){void 0===c&&(c=!0);try{k(a,c,"0px",b)}catch(e){console.log(e)}};a._show=function(a,c,b){void 0===c&&(c=!0);try{k(a,c,"auto",b)}catch(e){console.log(e)}};a._toggle=function(a,c,b){void 0===c&&(c=!0);var f=e(a).replace(/\D/g,""),g=a.hasAttribute("opened");0<parseFloat(f)&&!1===g?this._hide(a,c,b):!1===g?this._show(a,
c,b):this._hide(a,c,b)}})(b.collapseElementsBehavior||(b.collapseElementsBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){a.properties={toggleFunctionName:{type:String},immediate:{type:Boolean},attributeName:{type:String},stateOneValue:{type:String},stateTwoValue:{type:String}};a.created=function(){var a=this;if(this[this.toggleFunctionName]){var b=this[this.toggleFunctionName];this.toggleFunctionName=function(){b.apply(arguments);a.toggleAttribute()}}if(!this.stateOneValue){var d=this.style[this.attributeName];this.stateOneValue=d?d:""}this.immediate&&this.toggleAttribute()};a.toggleAttribute=
function(){this.style[this.attributeName]=this.style[this.attributeName]===this.stateOneValue?this.stateTwoValue:this.stateOneValue};a.activateStateTwo=function(){this.style[this.attributeName]=this.stateTwoValue};a.activateStateOne=function(){this.style[this.attributeName]=this.stateOneValue}})(b.cssAttributeToggleBehavior||(b.cssAttributeToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,value:!0},productImageIdentifier:{type:String,value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"}};a.behaviors=[b.elements.bindActionBehavior];a.bindImage=function(a){this.searchLightDOM&&this._bindImage(Polymer.dom(this),a);this.searchShadowDOM&&this._bindImage(Polymer.dom(this.root))};a._bindImage=function(a,b){a=a.querySelectorAll(this.productImageIdentifier);
for(var d=0;d<a.length;d++){var e=a[d];if(!e.onerror){var k=e.attributes.getNamedItem("data-image-onerror");if(k){var h=k.nodeValue;h&&(e.onerror=function(){e.onerror=null;e.setAttribute("src",h)})}}e.setAttribute("src",b)}}})(d.imageBindingBehavior||(d.imageBindingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){b=b.elements||(b.elements={});b.imageTestBehavior=[b.bindActionBehavior,b.imageBindingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={templateString:{type:String},model:{type:Object,observer:"_modelObserver"},stampImmediate:{type:Boolean,value:!1}};a._renderer=new b.html.TemplateRenderer;a.ready=function(){this.updateTemplate();this.stampImmediate&&this.stamp()};a.stamp=function(){var a=this._renderer.render(this.templateString,this.model);Polymer.dom(this).innerHTML=a};a.updateTemplate=function(a){this.templateString=a?a:Polymer.dom(this).innerHTML};a._modelObserver=function(a,
b){this.stamp()}})(d.lightDOMTemplateBehavior||(d.lightDOMTemplateBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.__hashCodeGen=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)}return a()+a()+a()+a()};a.debugMessage=function(a){this.__hashCode||(this.__hashCode=this.__hashCodeGen(),b.common.Logger.debug(""));b.common.Logger.debug("DEBUG ["+this.tagName+" "+this.__hashCode+"] "+a)};a.created=function(){this.debugMessage("created callback invoked")};a.attached=function(){this.debugMessage("attached callback invoked")};a.detached=
function(){this.debugMessage("detached callback invoked")};a.ready=function(){this.debugMessage("ready callback invoked")}})(d.logLifeCycleCallbacksBehavior||(d.logLifeCycleCallbacksBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){var a=function(){function a(b,g){this.elementTemplate=b.node||b;-1<this.elementTemplate.nodeName.indexOf("-")&&CustomElements&&!0!==this.elementTemplate.__upgraded__&&!this.elementTemplate.clone&&(CustomElements.upgradeAll(this.elementTemplate),this.elementTemplate.__upgraded__=!0);this.type=b.type;this.parent=b.parentNode||g;this.previousSibling=b.previousSibling;this.nextSibling=b.nextSibling;try{Polymer.dom(Polymer.dom(this.elementTemplate).parentNode).removeChild(this.elementTemplate)}catch(e){}}
a.prototype.insert=function(a,b,e){var g=void 0!==a&&(void 0!==a.parentElement||Polymer.dom(a).parentNode);if(!a)try{a=this.elementTemplate.clone()}catch(h){throw this.elementTemplate+" does not implement clone()"+h;}g||(this.nextSibling?Polymer.dom(this.parent).insertBefore(a,this.nextSibling):Polymer.dom(this.parent).appendChild(a));Polymer.dom(this.parent).flush();try{b&&setTimeout(function(){b(a,e)})}catch(h){console.log(h)}};a.prototype.insertAll=function(a,b,e,g){for(var h=a.length>b.length?
a.length:b.length,c=0;c<h;c++)this.insert(a[c],e,b[c]);setTimeout(function(){try{g&&g()}catch(c){console.log(c)}})};return a}();b.InsertElementHelper=a})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.debounce("opacity",function(){this.style.opacity=1},100)}})(b.opacityToggleBehavior||(b.opacityToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function g(a){if(a=a.attributes.getNamedItem("data-redirect")){a=a.nodeValue;if(void 0!==a&&0<a.length)return a;if(this.recordData)return this.recordData.record.Deeplink;b.common.Logger.debug("no record data available for data-redirect action")}}function f(a){var b="_blank";if(a=a.attributes.getNamedItem("data-redirect-target"))a=a.nodeValue,void 0!==a&&0<a.length&&(b=a);return b}a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,
value:!0},productImageIdentifier:{type:"String",value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"},redirectIdentifier:{type:"String",value:"[data-redirect]"},redirectTargetIdentifier:{type:"String",value:"[data-redirect-target]"},recommendationIdentifier:{type:"String",value:"data-recommendation"},bindImmediate:{type:Boolean,value:!1}};a.behaviors=[b.elements.bindActionBehavior];var d=new b.communication.Tracking12;a.ready=function(){this.bindImmediate&&
(this.bindProductActions(),this.bindProductImage())};a.bindProductActions=function(){this._bindProductRedirect()};a.bindProductImage=function(){this.searchLightDOM&&this._bindProductImage(Polymer.dom(this));this.searchShadowDOM&&this._bindProductImage(Polymer.dom(this.root))};a._bindProductImage=function(a){a=a.querySelectorAll(this.productImageIdentifier);for(var f=0;f<a.length;f++){var h=a[f];if(!h.onerror){var c=h.attributes.getNamedItem("data-image-onerror");if(c){var l=c.nodeValue;l&&(h.onerror=
function(){h.onerror=null;h.setAttribute("src",l)})}}(c=h.getAttribute("data-image"))?void 0!==c&&0!==c.length&&h.setAttribute("src",c):(c=b.communication,h.setAttribute("src",this.recordData.record[c.fieldRoles?c.fieldRoles.imageUrl:""]||this.recordData.record.ImageUrl))}};a._bindProductRedirect=function(){this.searchLightDOM&&this.bindRedirect(Polymer.dom(this));this.searchShadowDOM&&this.bindRedirect(Polymer.dom(this.root))};a.bindRedirect=function(a){if(a){a=a.querySelectorAll(this.redirectIdentifier);
for(var b=0;b<a.length;b++){var f=a[b],c=Polymer.dom(f).querySelectorAll("[data-track]");if(0<c.length)for(var l=0;l<c.length;l++)c[l].attributes.removeNamedItem("data-track");this.bindElement(f,this._handleTrackingAndRedirect)}}};a._handleRedirect=function(a){var b=a.currentTarget;a=g(b);b=f(b);a&&this.redirect(a,b)};a._handleTrackingAndRedirect=function(a){a.stopPropagation();a=a.currentTarget;var b=this,h=g(a),c=f(a);h&&(a=this.getTrackingData(b),"_self"!==c?(!0===this.isRecommendation?this._trackRecommendationClick(this):
this._trackProductClick(this),this.redirect(h,c)):(a.always=function(){b.redirect(h,c)},d.click(a)))};a.getRedirectLocation=g;a.getRedirectTarget=f;a.getTrackingData=function(a){var f=b.communication.FFCommunicationEventAggregator.currentSearchResult,h;a:{for(h=0;h<f.resultsPerPageList.length;h++){var c=f.resultsPerPageList[h];if(1==c.selected){h=c.value;break a}}h=void 0}c=a.recordData.position||a.recordData.record.__ORIG_POSITION__;f={query:b.communication.Util.getQueryFromSearchParams(),page:f.paging.currentPage,
id:b.communication.Util.trackingHelper.getTrackingProductId(a.recordData),pos:c,origPos:a.recordData.record.__ORIG_POSITION__||c,pageSize:h,origPageSize:f.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(f,a.recordData);this.appendCampaign(f,a.recordData);this.appendInstoreAds(f,a.recordData);this.appendTitle(f,a.recordData);this.appendUserId(f);return f};a.redirect=function(a,b){window.open(a,b)}})(d.recordBindingBehavior||(d.recordBindingBehavior={}))})(b.elements||
(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}})(b.removeUnresolvedAttributeBehavior||(b.removeUnresolvedAttributeBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.clickSelector="[data-track='']";a.productClickSelector='[data-track="productClick"]';a.recommendationClickSelector='[data-track="recommendationClick"]';a.checkoutClickSelector='[data-track="checkoutClick"]';a.cartClickSelector='[data-track="cartClick"]';var g=new b.communication.Tracking12,f=b.communication.Util.trackingHelper.getTrackingProductId,d=b.communication.Util.trackingHelper.getPrice,e=b.communication.Util.trackingHelper.getMasterArticleNumber,k=
b.communication.Util.trackingHelper.getUserId,h=b.communication.Util.trackingHelper.getTitle;a.appendCount=function(c,a){c.count=a.count?a.count:1};a.appendInstoreAds=function(c,a){a.record.__FFInstoreAds__&&"true"===a.record.__FFInstoreAds__&&(c.instoreAds="true")};a.appendCampaign=function(c,a){a.record.__FFCampaign__&&(c.campaign=a.record.__FFCampaign__)};a.appendUserId=function(c){var a=k();a&&(c.userId=a)};a.appendTitle=function(c,a){(a=h(a))&&(c.title=a)};a.appendMasterArticleNumber=function(c,
a){(a=e(a))&&(c.masterId=a)};a.getRecordElement=function(c,a){return a?{recordData:a}:c.tagName&&"ff-record"===c.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(c),"ff-record")};a.bindClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);!0===this.isRecommendation?this.bindAll(a.clickSelector,function(a){c._trackRecommendationClick(c)},b):this.bindAll(a.clickSelector,function(a){c._trackProductClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),!0===
this.isRecommendation?this.bindAll(a.clickSelector,function(a){c._trackRecommendationClick(c)},b):this.bindAll(a.clickSelector,function(a){c._trackProductClick(c)},b))};a.bindProductClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.productClickSelector,function(a){c._trackProductClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.productClickSelector,function(a){c._trackProductClick(c)},b))};a.bindRecommendationClick=function(c){c=c||this;
if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.recommendationClickSelector,function(a){c._trackRecommendationClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.recommendationClickSelector,function(a){c._trackRecommendationClick(c)},b))};a.bindCheckoutClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.checkoutClickSelector,function(a){c._trackCheckoutClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.checkoutClickSelector,
function(a){c._trackCheckoutClick(c)},b))};a.bindCartClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.cartClickSelector,function(a){c._trackCartClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.cartClickSelector,function(a){c._trackCartClick(c)},b))};a._trackRecommendationClick=function(c,a,h){a=a?{recordData:a}:c.tagName&&"ff-record"===c.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(c),"ff-record");"ff-recommendation"!==
c.tagName.toLowerCase()&&(c=Polymer.dom(c),c=b.common.getParentElementByName(c,"ff-recommendation"));if(a){var d={type:"recommendationClick"};d.mainId=c.recordId;d.id=e(a.recordData)||f(a.recordData);this.appendMasterArticleNumber(d,a.recordData);this.appendUserId(d);h&&(d.always=h);g.recommendationClick(d)}};a._trackCheckoutClick=function(c,a,e){if(a=this.getRecordElement(c,a)){var h={id:f(a.recordData),price:d(a.recordData),query:a.recordData.record.__FFCartQuery__||b.communication.Util.getQueryFromSearchParams()};
this.appendMasterArticleNumber(h,a.recordData);this.appendCount(h,c);this.appendCampaign(h,a.recordData);this.appendInstoreAds(h,a.recordData);this.appendUserId(h);e&&(h.always=e);g.checkout(h)}else console.log("no record element found. tracking not possible.")};a._trackCartClick=function(c,a,e){a=this.getRecordElement(c,a);var h={id:f(a.recordData),price:d(a.recordData),query:b.communication.Util.getQueryFromSearchParams()};this.appendMasterArticleNumber(h,a.recordData);this.appendCount(h,c);this.appendCampaign(h,
a.recordData);this.appendInstoreAds(h,a.recordData);this.appendUserId(h);e&&(h.always=e);g.cart(h)};a._trackProductClick=function(c,a,e){c=this.getRecordElement(c,a);a=b.communication.FFCommunicationEventAggregator.currentSearchResult;var h;a:{for(h=0;h<a.resultsPerPageList.length;h++){var d=a.resultsPerPageList[h];if(1==d.selected){h=d.value;break a}}h=void 0}d=c.recordData.position||c.recordData.record.__ORIG_POSITION__;a={query:b.communication.Util.getQueryFromSearchParams(),page:a.paging.currentPage,
id:f(c.recordData),pos:d,origPos:c.recordData.record.__ORIG_POSITION__||d,pageSize:h,origPageSize:a.resultsPerPageList[0].value,simi:c.recordData.searchSimilarity};this.appendMasterArticleNumber(a,c.recordData);this.appendCampaign(a,c.recordData);this.appendInstoreAds(a,c.recordData);this.appendTitle(a,c.recordData);this.appendUserId(a);e&&(a.always=e);g.click(a)}})(d.trackingBehavior||(d.trackingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){b=b.elements||(b.elements={});b.trackingBindingBehavior=[b.bindActionBehavior,b.trackingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){var b=Polymer,b=b.Gestures;a.bind=function(a,d,e){return(a=(e?e:Polymer.dom(this)).querySelector(a))?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindElement=function(a,d){return a?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindAll=function(a,d,e){if(a=(e?e:Polymer.dom(this)).querySelectorAll(a)){for(e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",d);return!0}return!1};a.bindElements=function(a,d){if(a){for(var e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",
d);return!0}return!1};a.unbind=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelector(a);b.remove(a,"tap",d)};a.unbindAll=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelectorAll(a);for(e=0;e<a.length;e++)b.remove(a[e],"tap",d)}})(b.bindActionBehavior||(b.bindActionBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){function b(a){var c=a&&a.nodeName?a:a.currentTarget;try{c.__transitionActive__=!1,c.removeEventListener("transitionend",b),"0px"!==c.style.height?(f(c,!1),c.style.height="",c.style.overflow="",setTimeout(function(){f(c,!0)})):f(c,!0)}catch(e){console.log(e)}finally{if(c&&c.__collapseCallback__){var l=c.__collapseCallback__;delete c.__collapseCallback__;setTimeout(function(){try{l()}catch(c){console.log(c)}},16)}}}function f(a,c){a.style["transition-duration"]=
!0===c?"":"0ms"}function d(a){a=a.getBoundingClientRect();for(var c in a)if(0!==a[c])return!0;return!1}function e(a){return a.getBoundingClientRect().height+"px"}function k(a,c,l,k){!0!==a.__transitionActive__&&(a.__transitionActive__=!0,k&&(a.__collapseCallback__=k),k=window.getComputedStyle(a),c=(k=k["transition-duration"]||k.transitionDuration)&&"0"!==k.replace(/\D/g,"")&&c,f(a,!1),c&&d(a)&&(k=e(a),"auto"===l&&(a.style.height="",l=e(a)),a.style.height=k,a.offsetHeight=a.offsetHeight,f(a,c),a.addEventListener("transitionend",
b)),"0px"===l?(a.style.overflow="hidden",a.removeAttribute("opened")):a.setAttribute("opened",""),a.style.height=l,c&&d(a)||(a.offsetHeight=a.offsetHeight,b(a)))}a._hide=function(a,c,b){void 0===c&&(c=!0);try{k(a,c,"0px",b)}catch(e){console.log(e)}};a._show=function(a,c,b){void 0===c&&(c=!0);try{k(a,c,"auto",b)}catch(e){console.log(e)}};a._toggle=function(a,c,b){void 0===c&&(c=!0);var f=e(a).replace(/\D/g,""),g=a.hasAttribute("opened");0<parseFloat(f)&&!1===g?this._hide(a,c,b):!1===g?this._show(a,
c,b):this._hide(a,c,b)}})(b.collapseElementsBehavior||(b.collapseElementsBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){a.properties={toggleFunctionName:{type:String},immediate:{type:Boolean},attributeName:{type:String},stateOneValue:{type:String},stateTwoValue:{type:String}};a.created=function(){var a=this;if(this[this.toggleFunctionName]){var b=this[this.toggleFunctionName];this.toggleFunctionName=function(){b.apply(arguments);a.toggleAttribute()}}if(!this.stateOneValue){var d=this.style[this.attributeName];this.stateOneValue=d?d:""}this.immediate&&this.toggleAttribute()};a.toggleAttribute=
function(){this.style[this.attributeName]=this.style[this.attributeName]===this.stateOneValue?this.stateTwoValue:this.stateOneValue};a.activateStateTwo=function(){this.style[this.attributeName]=this.stateTwoValue};a.activateStateOne=function(){this.style[this.attributeName]=this.stateOneValue}})(b.cssAttributeToggleBehavior||(b.cssAttributeToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,value:!0},productImageIdentifier:{type:String,value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"}};a.behaviors=[b.elements.bindActionBehavior];a.bindImage=function(a){this.searchLightDOM&&this._bindImage(Polymer.dom(this),a);this.searchShadowDOM&&this._bindImage(Polymer.dom(this.root))};a._bindImage=function(a,b){a=a.querySelectorAll(this.productImageIdentifier);
for(var d=0;d<a.length;d++){var e=a[d];if(!e.onerror){var k=e.attributes.getNamedItem("data-image-onerror");if(k){var h=k.nodeValue;h&&(e.onerror=function(){e.onerror=null;e.setAttribute("src",h)})}}e.setAttribute("src",b)}}})(d.imageBindingBehavior||(d.imageBindingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){b=b.elements||(b.elements={});b.imageTestBehavior=[b.bindActionBehavior,b.imageBindingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={templateString:{type:String},model:{type:Object,observer:"_modelObserver"},stampImmediate:{type:Boolean,value:!1}};a._renderer=new b.html.TemplateRenderer;a.ready=function(){this.updateTemplate();this.stampImmediate&&this.stamp()};a.stamp=function(){var a=this._renderer.render(this.templateString,this.model);Polymer.dom(this).innerHTML=a};a.updateTemplate=function(a){this.templateString=a?a:Polymer.dom(this).innerHTML};a._modelObserver=function(a,
b){this.stamp()}})(d.lightDOMTemplateBehavior||(d.lightDOMTemplateBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.__hashCodeGen=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)}return a()+a()+a()+a()};a.debugMessage=function(a){this.__hashCode||(this.__hashCode=this.__hashCodeGen(),b.common.Logger.debug(""));b.common.Logger.debug("DEBUG ["+this.tagName+" "+this.__hashCode+"] "+a)};a.created=function(){this.debugMessage("created callback invoked")};a.attached=function(){this.debugMessage("attached callback invoked")};a.detached=
function(){this.debugMessage("detached callback invoked")};a.ready=function(){this.debugMessage("ready callback invoked")}})(d.logLifeCycleCallbacksBehavior||(d.logLifeCycleCallbacksBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){var a=function(){function a(b,g){this.elementTemplate=b.node||b;-1<this.elementTemplate.nodeName.indexOf("-")&&CustomElements&&!0!==this.elementTemplate.__upgraded__&&!this.elementTemplate.clone&&(CustomElements.upgradeAll(this.elementTemplate),this.elementTemplate.__upgraded__=!0);this.type=b.type;this.parent=b.parentNode||g;this.previousSibling=b.previousSibling;this.nextSibling=b.nextSibling;try{Polymer.dom(Polymer.dom(this.elementTemplate).parentNode).removeChild(this.elementTemplate)}catch(e){}}
a.prototype.insert=function(a,b,e){var g=void 0!==a&&(void 0!==a.parentElement||Polymer.dom(a).parentNode);if(!a)try{a=this.elementTemplate.clone()}catch(h){throw this.elementTemplate+" does not implement clone()"+h;}g||(this.nextSibling?Polymer.dom(this.parent).insertBefore(a,this.nextSibling):Polymer.dom(this.parent).appendChild(a));Polymer.dom(this.parent).flush();try{b&&setTimeout(function(){b(a,e)})}catch(h){console.log(h)}};a.prototype.insertAll=function(a,b,e,g){for(var h=a.length>b.length?
a.length:b.length,c=0;c<h;c++)this.insert(a[c],e,b[c]);setTimeout(function(){try{g&&g()}catch(c){console.log(c)}})};return a}();b.InsertElementHelper=a})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.debounce("opacity",function(){this.style.opacity=1},100)}})(b.opacityToggleBehavior||(b.opacityToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function g(a){if(a=a.attributes.getNamedItem("data-redirect")){a=a.nodeValue;if(void 0!==a&&0<a.length)return a;if(this.recordData)return this.recordData.record.Deeplink;b.common.Logger.debug("no record data available for data-redirect action")}}function f(a){var b="_blank";if(a=a.attributes.getNamedItem("data-redirect-target"))a=a.nodeValue,void 0!==a&&0<a.length&&(b=a);return b}a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,
value:!0},productImageIdentifier:{type:"String",value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"},redirectIdentifier:{type:"String",value:"[data-redirect]"},redirectTargetIdentifier:{type:"String",value:"[data-redirect-target]"},recommendationIdentifier:{type:"String",value:"data-recommendation"},bindImmediate:{type:Boolean,value:!1}};a.behaviors=[b.elements.bindActionBehavior];var d=new b.communication.Tracking12;a.ready=function(){this.bindImmediate&&
(this.bindProductActions(),this.bindProductImage())};a.bindProductActions=function(){this._bindProductRedirect()};a.bindProductImage=function(){this.searchLightDOM&&this._bindProductImage(Polymer.dom(this));this.searchShadowDOM&&this._bindProductImage(Polymer.dom(this.root))};a._bindProductImage=function(a){a=a.querySelectorAll(this.productImageIdentifier);for(var f=0;f<a.length;f++){var h=a[f];if(!h.onerror){var c=h.attributes.getNamedItem("data-image-onerror");if(c){var l=c.nodeValue;l&&(h.onerror=
function(){h.onerror=null;h.setAttribute("src",l)})}}(c=h.getAttribute("data-image"))?void 0!==c&&0!==c.length&&h.setAttribute("src",c):(c=b.communication,h.setAttribute("src",this.recordData.record[c.fieldRoles?c.fieldRoles.imageUrl:""]||this.recordData.record.ImageUrl))}};a._bindProductRedirect=function(){this.searchLightDOM&&this.bindRedirect(Polymer.dom(this));this.searchShadowDOM&&this.bindRedirect(Polymer.dom(this.root))};a.bindRedirect=function(a){if(a){a=a.querySelectorAll(this.redirectIdentifier);
for(var b=0;b<a.length;b++){var f=a[b],c=Polymer.dom(f).querySelectorAll("[data-track]");if(0<c.length)for(var l=0;l<c.length;l++)c[l].attributes.removeNamedItem("data-track");this.bindElement(f,this._handleTrackingAndRedirect)}}};a._handleRedirect=function(a){var b=a.currentTarget;a=g(b);b=f(b);a&&this.redirect(a,b)};a._handleTrackingAndRedirect=function(a){a.stopPropagation();a=a.currentTarget;var b=this,h=g(a),c=f(a);h&&(a=this.getTrackingData(b),"_self"!==c?(!0===this.isRecommendation?this._trackRecommendationClick(this):
this._trackProductClick(this),this.redirect(h,c)):(a.always=function(){b.redirect(h,c)},d.click(a)))};a.getRedirectLocation=g;a.getRedirectTarget=f;a.getTrackingData=function(a){var f=b.communication.FFCommunicationEventAggregator.currentSearchResult,h;a:{for(h=0;h<f.resultsPerPageList.length;h++){var c=f.resultsPerPageList[h];if(1==c.selected){h=c.value;break a}}h=void 0}c=a.recordData.position||a.recordData.record.__ORIG_POSITION__;f={query:b.communication.Util.getQueryFromSearchParams(),page:f.paging.currentPage,
id:b.communication.Util.trackingHelper.getTrackingProductId(a.recordData),pos:c,origPos:a.recordData.record.__ORIG_POSITION__||c,pageSize:h,origPageSize:f.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(f,a.recordData);this.appendCampaign(f,a.recordData);this.appendInstoreAds(f,a.recordData);this.appendTitle(f,a.recordData);this.appendUserId(f);return f};a.redirect=function(a,b){window.open(a,b)}})(d.recordBindingBehavior||(d.recordBindingBehavior={}))})(b.elements||
(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}})(b.removeUnresolvedAttributeBehavior||(b.removeUnresolvedAttributeBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.clickSelector="[data-track='']";a.productClickSelector='[data-track="productClick"]';a.recommendationClickSelector='[data-track="recommendationClick"]';a.checkoutClickSelector='[data-track="checkoutClick"]';a.cartClickSelector='[data-track="cartClick"]';var g=new b.communication.Tracking12,f=b.communication.Util.trackingHelper.getTrackingProductId,d=b.communication.Util.trackingHelper.getPrice,e=b.communication.Util.trackingHelper.getMasterArticleNumber,k=
b.communication.Util.trackingHelper.getUserId,h=b.communication.Util.trackingHelper.getTitle;a.appendCount=function(c,a){c.count=a.count?a.count:1};a.appendInstoreAds=function(c,a){a.record.__FFInstoreAds__&&"true"===a.record.__FFInstoreAds__&&(c.instoreAds="true")};a.appendCampaign=function(c,a){a.record.__FFCampaign__&&(c.campaign=a.record.__FFCampaign__)};a.appendUserId=function(c){var a=k();a&&(c.userId=a)};a.appendTitle=function(c,a){(a=h(a))&&(c.title=a)};a.appendMasterArticleNumber=function(c,
a){(a=e(a))&&(c.masterId=a)};a.getRecordElement=function(c,a){return a?{recordData:a}:c.tagName&&"ff-record"===c.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(c),"ff-record")};a.bindClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);!0===this.isRecommendation?this.bindAll(a.clickSelector,function(a){c._trackRecommendationClick(c)},b):this.bindAll(a.clickSelector,function(a){c._trackProductClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),!0===
this.isRecommendation?this.bindAll(a.clickSelector,function(a){c._trackRecommendationClick(c)},b):this.bindAll(a.clickSelector,function(a){c._trackProductClick(c)},b))};a.bindProductClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.productClickSelector,function(a){c._trackProductClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.productClickSelector,function(a){c._trackProductClick(c)},b))};a.bindRecommendationClick=function(c){c=c||this;
if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.recommendationClickSelector,function(a){c._trackRecommendationClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.recommendationClickSelector,function(a){c._trackRecommendationClick(c)},b))};a.bindCheckoutClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.checkoutClickSelector,function(a){c._trackCheckoutClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.checkoutClickSelector,
function(a){c._trackCheckoutClick(c)},b))};a.bindCartClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.cartClickSelector,function(a){c._trackCartClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.cartClickSelector,function(a){c._trackCartClick(c)},b))};a._trackRecommendationClick=function(c,a,h){a=a?{recordData:a}:c.tagName&&"ff-record"===c.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(c),"ff-record");"ff-recommendation"!==
c.tagName.toLowerCase()&&(c=Polymer.dom(c),c=b.common.getParentElementByName(c,"ff-recommendation"));if(a){var d={type:"recommendationClick"};d.mainId=c.recordId;d.id=e(a.recordData)||f(a.recordData);this.appendMasterArticleNumber(d,a.recordData);this.appendUserId(d);h&&(d.always=h);g.recommendationClick(d)}};a._trackCheckoutClick=function(c,a,e){if(a=this.getRecordElement(c,a)){var h={id:f(a.recordData),price:d(a.recordData),query:a.recordData.record.__FFCartQuery__||b.communication.Util.getQueryFromSearchParams()};
this.appendMasterArticleNumber(h,a.recordData);this.appendCount(h,c);this.appendCampaign(h,a.recordData);this.appendInstoreAds(h,a.recordData);this.appendUserId(h);e&&(h.always=e);g.checkout(h)}else console.log("no record element found. tracking not possible.")};a._trackCartClick=function(c,a,e){a=this.getRecordElement(c,a);var h={id:f(a.recordData),price:d(a.recordData),query:b.communication.Util.getQueryFromSearchParams()};this.appendMasterArticleNumber(h,a.recordData);this.appendCount(h,c);this.appendCampaign(h,
a.recordData);this.appendInstoreAds(h,a.recordData);this.appendUserId(h);e&&(h.always=e);g.cart(h)};a._trackProductClick=function(c,a,e){c=this.getRecordElement(c,a);a=b.communication.FFCommunicationEventAggregator.currentSearchResult;var h;a:{for(h=0;h<a.resultsPerPageList.length;h++){var d=a.resultsPerPageList[h];if(1==d.selected){h=d.value;break a}}h=void 0}d=c.recordData.position||c.recordData.record.__ORIG_POSITION__;a={query:b.communication.Util.getQueryFromSearchParams(),page:a.paging.currentPage,
id:f(c.recordData),pos:d,origPos:c.recordData.record.__ORIG_POSITION__||d,pageSize:h,origPageSize:a.resultsPerPageList[0].value,simi:c.recordData.searchSimilarity};this.appendMasterArticleNumber(a,c.recordData);this.appendCampaign(a,c.recordData);this.appendInstoreAds(a,c.recordData);this.appendTitle(a,c.recordData);this.appendUserId(a);e&&(a.always=e);g.click(a)}})(d.trackingBehavior||(d.trackingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){b=b.elements||(b.elements={});b.trackingBindingBehavior=[b.bindActionBehavior,b.trackingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){var b=Polymer,b=b.Gestures;a.bind=function(a,d,e){return(a=(e?e:Polymer.dom(this)).querySelector(a))?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindElement=function(a,d){return a?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindAll=function(a,d,e){if(a=(e?e:Polymer.dom(this)).querySelectorAll(a)){for(e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",d);return!0}return!1};a.bindElements=function(a,d){if(a){for(var e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",
d);return!0}return!1};a.unbind=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelector(a);b.remove(a,"tap",d)};a.unbindAll=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelectorAll(a);for(e=0;e<a.length;e++)b.remove(a[e],"tap",d)}})(b.bindActionBehavior||(b.bindActionBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){function b(a){var c=a&&a.nodeName?a:a.currentTarget;try{c.__transitionActive__=!1,c.removeEventListener("transitionend",b),"0px"!==c.style.height?(f(c,!1),c.style.height="",c.style.overflow="",setTimeout(function(){f(c,!0)})):f(c,!0)}catch(e){console.log(e)}finally{if(c&&c.__collapseCallback__){var l=c.__collapseCallback__;delete c.__collapseCallback__;setTimeout(function(){try{l()}catch(c){console.log(c)}},16)}}}function f(a,c){a.style["transition-duration"]=
!0===c?"":"0ms"}function d(a){a=a.getBoundingClientRect();for(var c in a)if(0!==a[c])return!0;return!1}function e(a){return a.getBoundingClientRect().height+"px"}function k(a,c,l,k){!0!==a.__transitionActive__&&(a.__transitionActive__=!0,k&&(a.__collapseCallback__=k),k=window.getComputedStyle(a),c=(k=k["transition-duration"]||k.transitionDuration)&&"0"!==k.replace(/\D/g,"")&&c,f(a,!1),c&&d(a)&&(k=e(a),"auto"===l&&(a.style.height="",l=e(a)),a.style.height=k,a.offsetHeight=a.offsetHeight,f(a,c),a.addEventListener("transitionend",
b)),"0px"===l?(a.style.overflow="hidden",a.removeAttribute("opened")):a.setAttribute("opened",""),a.style.height=l,c&&d(a)||(a.offsetHeight=a.offsetHeight,b(a)))}a._hide=function(a,c,b){void 0===c&&(c=!0);try{k(a,c,"0px",b)}catch(e){console.log(e)}};a._show=function(a,c,b){void 0===c&&(c=!0);try{k(a,c,"auto",b)}catch(e){console.log(e)}};a._toggle=function(a,c,b){void 0===c&&(c=!0);var f=e(a).replace(/\D/g,""),g=a.hasAttribute("opened");0<parseFloat(f)&&!1===g?this._hide(a,c,b):!1===g?this._show(a,
c,b):this._hide(a,c,b)}})(b.collapseElementsBehavior||(b.collapseElementsBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){a.properties={toggleFunctionName:{type:String},immediate:{type:Boolean},attributeName:{type:String},stateOneValue:{type:String},stateTwoValue:{type:String}};a.created=function(){var a=this;if(this[this.toggleFunctionName]){var b=this[this.toggleFunctionName];this.toggleFunctionName=function(){b.apply(arguments);a.toggleAttribute()}}if(!this.stateOneValue){var d=this.style[this.attributeName];this.stateOneValue=d?d:""}this.immediate&&this.toggleAttribute()};a.toggleAttribute=
function(){this.style[this.attributeName]=this.style[this.attributeName]===this.stateOneValue?this.stateTwoValue:this.stateOneValue};a.activateStateTwo=function(){this.style[this.attributeName]=this.stateTwoValue};a.activateStateOne=function(){this.style[this.attributeName]=this.stateOneValue}})(b.cssAttributeToggleBehavior||(b.cssAttributeToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,value:!0},productImageIdentifier:{type:String,value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"}};a.behaviors=[b.elements.bindActionBehavior];a.bindImage=function(a){this.searchLightDOM&&this._bindImage(Polymer.dom(this),a);this.searchShadowDOM&&this._bindImage(Polymer.dom(this.root))};a._bindImage=function(a,b){a=a.querySelectorAll(this.productImageIdentifier);
for(var d=0;d<a.length;d++){var e=a[d];if(!e.onerror){var k=e.attributes.getNamedItem("data-image-onerror");if(k){var h=k.nodeValue;h&&(e.onerror=function(){e.onerror=null;e.setAttribute("src",h)})}}e.setAttribute("src",b)}}})(d.imageBindingBehavior||(d.imageBindingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){b=b.elements||(b.elements={});b.imageTestBehavior=[b.bindActionBehavior,b.imageBindingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={templateString:{type:String},model:{type:Object,observer:"_modelObserver"},stampImmediate:{type:Boolean,value:!1}};a._renderer=new b.html.TemplateRenderer;a.ready=function(){this.updateTemplate();this.stampImmediate&&this.stamp()};a.stamp=function(){var a=this._renderer.render(this.templateString,this.model);Polymer.dom(this).innerHTML=a};a.updateTemplate=function(a){this.templateString=a?a:Polymer.dom(this).innerHTML};a._modelObserver=function(a,
b){this.stamp()}})(d.lightDOMTemplateBehavior||(d.lightDOMTemplateBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.__hashCodeGen=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)}return a()+a()+a()+a()};a.debugMessage=function(a){this.__hashCode||(this.__hashCode=this.__hashCodeGen(),b.common.Logger.debug(""));b.common.Logger.debug("DEBUG ["+this.tagName+" "+this.__hashCode+"] "+a)};a.created=function(){this.debugMessage("created callback invoked")};a.attached=function(){this.debugMessage("attached callback invoked")};a.detached=
function(){this.debugMessage("detached callback invoked")};a.ready=function(){this.debugMessage("ready callback invoked")}})(d.logLifeCycleCallbacksBehavior||(d.logLifeCycleCallbacksBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){var a=function(){function a(b,g){this.elementTemplate=b.node||b;-1<this.elementTemplate.nodeName.indexOf("-")&&CustomElements&&!0!==this.elementTemplate.__upgraded__&&!this.elementTemplate.clone&&(CustomElements.upgradeAll(this.elementTemplate),this.elementTemplate.__upgraded__=!0);this.type=b.type;this.parent=b.parentNode||g;this.previousSibling=b.previousSibling;this.nextSibling=b.nextSibling;try{Polymer.dom(Polymer.dom(this.elementTemplate).parentNode).removeChild(this.elementTemplate)}catch(e){}}
a.prototype.insert=function(a,b,e){var g=void 0!==a&&(void 0!==a.parentElement||Polymer.dom(a).parentNode);if(!a)try{a=this.elementTemplate.clone()}catch(h){throw this.elementTemplate+" does not implement clone()"+h;}g||(this.nextSibling?Polymer.dom(this.parent).insertBefore(a,this.nextSibling):Polymer.dom(this.parent).appendChild(a));Polymer.dom(this.parent).flush();try{b&&setTimeout(function(){b(a,e)})}catch(h){console.log(h)}};a.prototype.insertAll=function(a,b,e,g){for(var h=a.length>b.length?
a.length:b.length,c=0;c<h;c++)this.insert(a[c],e,b[c]);setTimeout(function(){try{g&&g()}catch(c){console.log(c)}})};return a}();b.InsertElementHelper=a})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.debounce("opacity",function(){this.style.opacity=1},100)}})(b.opacityToggleBehavior||(b.opacityToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function g(a){if(a=a.attributes.getNamedItem("data-redirect")){a=a.nodeValue;if(void 0!==a&&0<a.length)return a;if(this.recordData)return this.recordData.record.Deeplink;b.common.Logger.debug("no record data available for data-redirect action")}}function f(a){var b="_blank";if(a=a.attributes.getNamedItem("data-redirect-target"))a=a.nodeValue,void 0!==a&&0<a.length&&(b=a);return b}a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,
value:!0},productImageIdentifier:{type:"String",value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"},redirectIdentifier:{type:"String",value:"[data-redirect]"},redirectTargetIdentifier:{type:"String",value:"[data-redirect-target]"},recommendationIdentifier:{type:"String",value:"data-recommendation"},bindImmediate:{type:Boolean,value:!1}};a.behaviors=[b.elements.bindActionBehavior];var d=new b.communication.Tracking12;a.ready=function(){this.bindImmediate&&
(this.bindProductActions(),this.bindProductImage())};a.bindProductActions=function(){this._bindProductRedirect()};a.bindProductImage=function(){this.searchLightDOM&&this._bindProductImage(Polymer.dom(this));this.searchShadowDOM&&this._bindProductImage(Polymer.dom(this.root))};a._bindProductImage=function(a){a=a.querySelectorAll(this.productImageIdentifier);for(var f=0;f<a.length;f++){var h=a[f];if(!h.onerror){var c=h.attributes.getNamedItem("data-image-onerror");if(c){var l=c.nodeValue;l&&(h.onerror=
function(){h.onerror=null;h.setAttribute("src",l)})}}(c=h.getAttribute("data-image"))?void 0!==c&&0!==c.length&&h.setAttribute("src",c):(c=b.communication,h.setAttribute("src",this.recordData.record[c.fieldRoles?c.fieldRoles.imageUrl:""]||this.recordData.record.ImageUrl))}};a._bindProductRedirect=function(){this.searchLightDOM&&this.bindRedirect(Polymer.dom(this));this.searchShadowDOM&&this.bindRedirect(Polymer.dom(this.root))};a.bindRedirect=function(a){if(a){a=a.querySelectorAll(this.redirectIdentifier);
for(var b=0;b<a.length;b++){var f=a[b],c=Polymer.dom(f).querySelectorAll("[data-track]");if(0<c.length)for(var l=0;l<c.length;l++)c[l].attributes.removeNamedItem("data-track");this.bindElement(f,this._handleTrackingAndRedirect)}}};a._handleRedirect=function(a){var b=a.currentTarget;a=g(b);b=f(b);a&&this.redirect(a,b)};a._handleTrackingAndRedirect=function(a){a.stopPropagation();a=a.currentTarget;var b=this,h=g(a),c=f(a);h&&(a=this.getTrackingData(b),"_self"!==c?(!0===this.isRecommendation?this._trackRecommendationClick(this):
this._trackProductClick(this),this.redirect(h,c)):(a.always=function(){b.redirect(h,c)},d.click(a)))};a.getRedirectLocation=g;a.getRedirectTarget=f;a.getTrackingData=function(a){var f=b.communication.FFCommunicationEventAggregator.currentSearchResult,h;a:{for(h=0;h<f.resultsPerPageList.length;h++){var c=f.resultsPerPageList[h];if(1==c.selected){h=c.value;break a}}h=void 0}c=a.recordData.position||a.recordData.record.__ORIG_POSITION__;f={query:b.communication.Util.getQueryFromSearchParams(),page:f.paging.currentPage,
id:b.communication.Util.trackingHelper.getTrackingProductId(a.recordData),pos:c,origPos:a.recordData.record.__ORIG_POSITION__||c,pageSize:h,origPageSize:f.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(f,a.recordData);this.appendCampaign(f,a.recordData);this.appendInstoreAds(f,a.recordData);this.appendTitle(f,a.recordData);this.appendUserId(f);return f};a.redirect=function(a,b){window.open(a,b)}})(d.recordBindingBehavior||(d.recordBindingBehavior={}))})(b.elements||
(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}})(b.removeUnresolvedAttributeBehavior||(b.removeUnresolvedAttributeBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.clickSelector="[data-track='']";a.productClickSelector='[data-track="productClick"]';a.recommendationClickSelector='[data-track="recommendationClick"]';a.checkoutClickSelector='[data-track="checkoutClick"]';a.cartClickSelector='[data-track="cartClick"]';var g=new b.communication.Tracking12,f=b.communication.Util.trackingHelper.getTrackingProductId,d=b.communication.Util.trackingHelper.getPrice,e=b.communication.Util.trackingHelper.getMasterArticleNumber,k=
b.communication.Util.trackingHelper.getUserId,h=b.communication.Util.trackingHelper.getTitle;a.appendCount=function(c,a){c.count=a.count?a.count:1};a.appendInstoreAds=function(c,a){a.record.__FFInstoreAds__&&"true"===a.record.__FFInstoreAds__&&(c.instoreAds="true")};a.appendCampaign=function(c,a){a.record.__FFCampaign__&&(c.campaign=a.record.__FFCampaign__)};a.appendUserId=function(c){var a=k();a&&(c.userId=a)};a.appendTitle=function(c,a){(a=h(a))&&(c.title=a)};a.appendMasterArticleNumber=function(c,
a){(a=e(a))&&(c.masterId=a)};a.getRecordElement=function(c,a){return a?{recordData:a}:c.tagName&&"ff-record"===c.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(c),"ff-record")};a.bindClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);!0===this.isRecommendation?this.bindAll(a.clickSelector,function(a){c._trackRecommendationClick(c)},b):this.bindAll(a.clickSelector,function(a){c._trackProductClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),!0===
this.isRecommendation?this.bindAll(a.clickSelector,function(a){c._trackRecommendationClick(c)},b):this.bindAll(a.clickSelector,function(a){c._trackProductClick(c)},b))};a.bindProductClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.productClickSelector,function(a){c._trackProductClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.productClickSelector,function(a){c._trackProductClick(c)},b))};a.bindRecommendationClick=function(c){c=c||this;
if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.recommendationClickSelector,function(a){c._trackRecommendationClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.recommendationClickSelector,function(a){c._trackRecommendationClick(c)},b))};a.bindCheckoutClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.checkoutClickSelector,function(a){c._trackCheckoutClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.checkoutClickSelector,
function(a){c._trackCheckoutClick(c)},b))};a.bindCartClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.cartClickSelector,function(a){c._trackCartClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.cartClickSelector,function(a){c._trackCartClick(c)},b))};a._trackRecommendationClick=function(c,a,h){a=a?{recordData:a}:c.tagName&&"ff-record"===c.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(c),"ff-record");"ff-recommendation"!==
c.tagName.toLowerCase()&&(c=Polymer.dom(c),c=b.common.getParentElementByName(c,"ff-recommendation"));if(a){var d={type:"recommendationClick"};d.mainId=c.recordId;d.id=e(a.recordData)||f(a.recordData);this.appendMasterArticleNumber(d,a.recordData);this.appendUserId(d);h&&(d.always=h);g.recommendationClick(d)}};a._trackCheckoutClick=function(c,a,e){if(a=this.getRecordElement(c,a)){var h={id:f(a.recordData),price:d(a.recordData),query:a.recordData.record.__FFCartQuery__||b.communication.Util.getQueryFromSearchParams()};
this.appendMasterArticleNumber(h,a.recordData);this.appendCount(h,c);this.appendCampaign(h,a.recordData);this.appendInstoreAds(h,a.recordData);this.appendUserId(h);e&&(h.always=e);g.checkout(h)}else console.log("no record element found. tracking not possible.")};a._trackCartClick=function(c,a,e){a=this.getRecordElement(c,a);var h={id:f(a.recordData),price:d(a.recordData),query:b.communication.Util.getQueryFromSearchParams()};this.appendMasterArticleNumber(h,a.recordData);this.appendCount(h,c);this.appendCampaign(h,
a.recordData);this.appendInstoreAds(h,a.recordData);this.appendUserId(h);e&&(h.always=e);g.cart(h)};a._trackProductClick=function(c,a,e){c=this.getRecordElement(c,a);a=b.communication.FFCommunicationEventAggregator.currentSearchResult;var h;a:{for(h=0;h<a.resultsPerPageList.length;h++){var d=a.resultsPerPageList[h];if(1==d.selected){h=d.value;break a}}h=void 0}d=c.recordData.position||c.recordData.record.__ORIG_POSITION__;a={query:b.communication.Util.getQueryFromSearchParams(),page:a.paging.currentPage,
id:f(c.recordData),pos:d,origPos:c.recordData.record.__ORIG_POSITION__||d,pageSize:h,origPageSize:a.resultsPerPageList[0].value,simi:c.recordData.searchSimilarity};this.appendMasterArticleNumber(a,c.recordData);this.appendCampaign(a,c.recordData);this.appendInstoreAds(a,c.recordData);this.appendTitle(a,c.recordData);this.appendUserId(a);e&&(a.always=e);g.click(a)}})(d.trackingBehavior||(d.trackingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){b=b.elements||(b.elements={});b.trackingBindingBehavior=[b.bindActionBehavior,b.trackingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){var b=Polymer,b=b.Gestures;a.bind=function(a,d,e){return(a=(e?e:Polymer.dom(this)).querySelector(a))?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindElement=function(a,d){return a?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindAll=function(a,d,e){if(a=(e?e:Polymer.dom(this)).querySelectorAll(a)){for(e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",d);return!0}return!1};a.bindElements=function(a,d){if(a){for(var e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",
d);return!0}return!1};a.unbind=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelector(a);b.remove(a,"tap",d)};a.unbindAll=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelectorAll(a);for(e=0;e<a.length;e++)b.remove(a[e],"tap",d)}})(b.bindActionBehavior||(b.bindActionBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){function b(a){var c=a&&a.nodeName?a:a.currentTarget;try{c.__transitionActive__=!1,c.removeEventListener("transitionend",b),"0px"!==c.style.height?(f(c,!1),c.style.height="",c.style.overflow="",setTimeout(function(){f(c,!0)})):f(c,!0)}catch(e){console.log(e)}finally{if(c&&c.__collapseCallback__){var l=c.__collapseCallback__;delete c.__collapseCallback__;setTimeout(function(){try{l()}catch(c){console.log(c)}},16)}}}function f(a,c){a.style["transition-duration"]=
!0===c?"":"0ms"}function d(a){a=a.getBoundingClientRect();for(var c in a)if(0!==a[c])return!0;return!1}function e(a){return a.getBoundingClientRect().height+"px"}function k(a,c,l,k){!0!==a.__transitionActive__&&(a.__transitionActive__=!0,k&&(a.__collapseCallback__=k),k=window.getComputedStyle(a),c=(k=k["transition-duration"]||k.transitionDuration)&&"0"!==k.replace(/\D/g,"")&&c,f(a,!1),c&&d(a)&&(k=e(a),"auto"===l&&(a.style.height="",l=e(a)),a.style.height=k,a.offsetHeight=a.offsetHeight,f(a,c),a.addEventListener("transitionend",
b)),"0px"===l?(a.style.overflow="hidden",a.removeAttribute("opened")):a.setAttribute("opened",""),a.style.height=l,c&&d(a)||(a.offsetHeight=a.offsetHeight,b(a)))}a._hide=function(a,c,b){void 0===c&&(c=!0);try{k(a,c,"0px",b)}catch(e){console.log(e)}};a._show=function(a,c,b){void 0===c&&(c=!0);try{k(a,c,"auto",b)}catch(e){console.log(e)}};a._toggle=function(a,c,b){void 0===c&&(c=!0);var f=e(a).replace(/\D/g,""),g=a.hasAttribute("opened");0<parseFloat(f)&&!1===g?this._hide(a,c,b):!1===g?this._show(a,
c,b):this._hide(a,c,b)}})(b.collapseElementsBehavior||(b.collapseElementsBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){a.properties={toggleFunctionName:{type:String},immediate:{type:Boolean},attributeName:{type:String},stateOneValue:{type:String},stateTwoValue:{type:String}};a.created=function(){var a=this;if(this[this.toggleFunctionName]){var b=this[this.toggleFunctionName];this.toggleFunctionName=function(){b.apply(arguments);a.toggleAttribute()}}if(!this.stateOneValue){var d=this.style[this.attributeName];this.stateOneValue=d?d:""}this.immediate&&this.toggleAttribute()};a.toggleAttribute=
function(){this.style[this.attributeName]=this.style[this.attributeName]===this.stateOneValue?this.stateTwoValue:this.stateOneValue};a.activateStateTwo=function(){this.style[this.attributeName]=this.stateTwoValue};a.activateStateOne=function(){this.style[this.attributeName]=this.stateOneValue}})(b.cssAttributeToggleBehavior||(b.cssAttributeToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,value:!0},productImageIdentifier:{type:String,value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"}};a.behaviors=[b.elements.bindActionBehavior];a.bindImage=function(a){this.searchLightDOM&&this._bindImage(Polymer.dom(this),a);this.searchShadowDOM&&this._bindImage(Polymer.dom(this.root))};a._bindImage=function(a,b){a=a.querySelectorAll(this.productImageIdentifier);
for(var d=0;d<a.length;d++){var e=a[d];if(!e.onerror){var k=e.attributes.getNamedItem("data-image-onerror");if(k){var h=k.nodeValue;h&&(e.onerror=function(){e.onerror=null;e.setAttribute("src",h)})}}e.setAttribute("src",b)}}})(d.imageBindingBehavior||(d.imageBindingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){b=b.elements||(b.elements={});b.imageTestBehavior=[b.bindActionBehavior,b.imageBindingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={templateString:{type:String},model:{type:Object,observer:"_modelObserver"},stampImmediate:{type:Boolean,value:!1}};a._renderer=new b.html.TemplateRenderer;a.ready=function(){this.updateTemplate();this.stampImmediate&&this.stamp()};a.stamp=function(){var a=this._renderer.render(this.templateString,this.model);Polymer.dom(this).innerHTML=a};a.updateTemplate=function(a){this.templateString=a?a:Polymer.dom(this).innerHTML};a._modelObserver=function(a,
b){this.stamp()}})(d.lightDOMTemplateBehavior||(d.lightDOMTemplateBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.__hashCodeGen=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)}return a()+a()+a()+a()};a.debugMessage=function(a){this.__hashCode||(this.__hashCode=this.__hashCodeGen(),b.common.Logger.debug(""));b.common.Logger.debug("DEBUG ["+this.tagName+" "+this.__hashCode+"] "+a)};a.created=function(){this.debugMessage("created callback invoked")};a.attached=function(){this.debugMessage("attached callback invoked")};a.detached=
function(){this.debugMessage("detached callback invoked")};a.ready=function(){this.debugMessage("ready callback invoked")}})(d.logLifeCycleCallbacksBehavior||(d.logLifeCycleCallbacksBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){var a=function(){function a(b,g){this.elementTemplate=b.node||b;-1<this.elementTemplate.nodeName.indexOf("-")&&CustomElements&&!0!==this.elementTemplate.__upgraded__&&!this.elementTemplate.clone&&(CustomElements.upgradeAll(this.elementTemplate),this.elementTemplate.__upgraded__=!0);this.type=b.type;this.parent=b.parentNode||g;this.previousSibling=b.previousSibling;this.nextSibling=b.nextSibling;try{Polymer.dom(Polymer.dom(this.elementTemplate).parentNode).removeChild(this.elementTemplate)}catch(e){}}
a.prototype.insert=function(a,b,e){var g=void 0!==a&&(void 0!==a.parentElement||Polymer.dom(a).parentNode);if(!a)try{a=this.elementTemplate.clone()}catch(h){throw this.elementTemplate+" does not implement clone()"+h;}g||(this.nextSibling?Polymer.dom(this.parent).insertBefore(a,this.nextSibling):Polymer.dom(this.parent).appendChild(a));Polymer.dom(this.parent).flush();try{b&&setTimeout(function(){b(a,e)})}catch(h){console.log(h)}};a.prototype.insertAll=function(a,b,e,g){for(var h=a.length>b.length?
a.length:b.length,c=0;c<h;c++)this.insert(a[c],e,b[c]);setTimeout(function(){try{g&&g()}catch(a){console.log(a)}})};return a}();b.InsertElementHelper=a})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.debounce("opacity",function(){this.style.opacity=1},100)}})(b.opacityToggleBehavior||(b.opacityToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function g(a){if(a=a.attributes.getNamedItem("data-redirect")){a=a.nodeValue;if(void 0!==a&&0<a.length)return a;if(this.recordData)return this.recordData.record.Deeplink;b.common.Logger.debug("no record data available for data-redirect action")}}function f(a){var b="_blank";if(a=a.attributes.getNamedItem("data-redirect-target"))a=a.nodeValue,void 0!==a&&0<a.length&&(b=a);return b}a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,
value:!0},productImageIdentifier:{type:"String",value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"},redirectIdentifier:{type:"String",value:"[data-redirect]"},redirectTargetIdentifier:{type:"String",value:"[data-redirect-target]"},recommendationIdentifier:{type:"String",value:"data-recommendation"},bindImmediate:{type:Boolean,value:!1}};a.behaviors=[b.elements.bindActionBehavior];var d=new b.communication.Tracking12;a.ready=function(){this.bindImmediate&&
(this.bindProductActions(),this.bindProductImage())};a.bindProductActions=function(){this._bindProductRedirect()};a.bindProductImage=function(){this.searchLightDOM&&this._bindProductImage(Polymer.dom(this));this.searchShadowDOM&&this._bindProductImage(Polymer.dom(this.root))};a._bindProductImage=function(a){a=a.querySelectorAll(this.productImageIdentifier);for(var f=0;f<a.length;f++){var h=a[f];if(!h.onerror){var c=h.attributes.getNamedItem("data-image-onerror");if(c){var l=c.nodeValue;l&&(h.onerror=
function(){h.onerror=null;h.setAttribute("src",l)})}}(c=h.getAttribute("data-image"))?void 0!==c&&0!==c.length&&h.setAttribute("src",c):(c=b.communication,h.setAttribute("src",this.recordData.record[c.fieldRoles?c.fieldRoles.imageUrl:""]||this.recordData.record.ImageUrl))}};a._bindProductRedirect=function(){this.searchLightDOM&&this.bindRedirect(Polymer.dom(this));this.searchShadowDOM&&this.bindRedirect(Polymer.dom(this.root))};a.bindRedirect=function(a){if(a){a=a.querySelectorAll(this.redirectIdentifier);
for(var b=0;b<a.length;b++){var f=a[b],c=Polymer.dom(f).querySelectorAll("[data-track]");if(0<c.length)for(var l=0;l<c.length;l++)c[l].attributes.removeNamedItem("data-track");this.bindElement(f,this._handleTrackingAndRedirect)}}};a._handleRedirect=function(a){var b=a.currentTarget;a=g(b);b=f(b);a&&this.redirect(a,b)};a._handleTrackingAndRedirect=function(a){a.stopPropagation();a=a.currentTarget;var b=this,h=g(a),c=f(a);h&&(a=this.getTrackingData(b),"_self"!==c?(!0===this.isRecommendation?this._trackRecommendationClick(this):
this._trackProductClick(this),this.redirect(h,c)):(a.always=function(){b.redirect(h,c)},d.click(a)))};a.getRedirectLocation=g;a.getRedirectTarget=f;a.getTrackingData=function(a){var f=b.communication.FFCommunicationEventAggregator.currentSearchResult,h;a:{for(h=0;h<f.resultsPerPageList.length;h++){var c=f.resultsPerPageList[h];if(1==c.selected){h=c.value;break a}}h=void 0}c=a.recordData.position||a.recordData.record.__ORIG_POSITION__;f={query:b.communication.Util.getQueryFromSearchParams(),page:f.paging.currentPage,
id:b.communication.Util.trackingHelper.getTrackingProductId(a.recordData),pos:c,origPos:a.recordData.record.__ORIG_POSITION__||c,pageSize:h,origPageSize:f.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(f,a.recordData);this.appendCampaign(f,a.recordData);this.appendInstoreAds(f,a.recordData);this.appendTitle(f,a.recordData);this.appendUserId(f);return f};a.redirect=function(a,b){window.open(a,b)}})(d.recordBindingBehavior||(d.recordBindingBehavior={}))})(b.elements||
(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}})(b.removeUnresolvedAttributeBehavior||(b.removeUnresolvedAttributeBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.clickSelector="[data-track='']";a.productClickSelector='[data-track="productClick"]';a.recommendationClickSelector='[data-track="recommendationClick"]';a.checkoutClickSelector='[data-track="checkoutClick"]';a.cartClickSelector='[data-track="cartClick"]';var g=new b.communication.Tracking12,f=b.communication.Util.trackingHelper.getTrackingProductId,d=b.communication.Util.trackingHelper.getPrice,e=b.communication.Util.trackingHelper.getMasterArticleNumber,k=
b.communication.Util.trackingHelper.getUserId,h=b.communication.Util.trackingHelper.getTitle;a.appendCount=function(a,b){a.count=b.count?b.count:1};a.appendInstoreAds=function(a,b){b.record.__FFInstoreAds__&&"true"===b.record.__FFInstoreAds__&&(a.instoreAds="true")};a.appendCampaign=function(a,b){b.record.__FFCampaign__&&(a.campaign=b.record.__FFCampaign__)};a.appendUserId=function(a){var b=k();b&&(a.userId=b)};a.appendTitle=function(a,b){(b=h(b))&&(a.title=b)};a.appendMasterArticleNumber=function(a,
b){(b=e(b))&&(a.masterId=b)};a.getRecordElement=function(a,e){return e?{recordData:e}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record")};a.bindClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);!0===this.isRecommendation?this.bindAll(a.clickSelector,function(a){c._trackRecommendationClick(c)},b):this.bindAll(a.clickSelector,function(a){c._trackProductClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),!0===
this.isRecommendation?this.bindAll(a.clickSelector,function(a){c._trackRecommendationClick(c)},b):this.bindAll(a.clickSelector,function(a){c._trackProductClick(c)},b))};a.bindProductClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.productClickSelector,function(a){c._trackProductClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.productClickSelector,function(a){c._trackProductClick(c)},b))};a.bindRecommendationClick=function(c){c=c||this;
if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.recommendationClickSelector,function(a){c._trackRecommendationClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.recommendationClickSelector,function(a){c._trackRecommendationClick(c)},b))};a.bindCheckoutClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.checkoutClickSelector,function(a){c._trackCheckoutClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.checkoutClickSelector,
function(a){c._trackCheckoutClick(c)},b))};a.bindCartClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.cartClickSelector,function(a){c._trackCartClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.cartClickSelector,function(a){c._trackCartClick(c)},b))};a._trackRecommendationClick=function(a,l,h){l=l?{recordData:l}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record");"ff-recommendation"!==
a.tagName.toLowerCase()&&(a=Polymer.dom(a),a=b.common.getParentElementByName(a,"ff-recommendation"));if(l){var d={type:"recommendationClick"};d.mainId=a.recordId;d.id=e(l.recordData)||f(l.recordData);this.appendMasterArticleNumber(d,l.recordData);this.appendUserId(d);h&&(d.always=h);g.recommendationClick(d)}};a._trackCheckoutClick=function(a,e,h){if(e=this.getRecordElement(a,e)){var k={id:f(e.recordData),price:d(e.recordData),query:e.recordData.record.__FFCartQuery__||b.communication.Util.getQueryFromSearchParams()};
this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);g.checkout(k)}else console.log("no record element found. tracking not possible.")};a._trackCartClick=function(a,e,h){e=this.getRecordElement(a,e);var k={id:f(e.recordData),price:d(e.recordData),query:b.communication.Util.getQueryFromSearchParams()};this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,
e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);g.cart(k)};a._trackProductClick=function(a,e,h){a=this.getRecordElement(a,e);e=b.communication.FFCommunicationEventAggregator.currentSearchResult;var d;a:{for(d=0;d<e.resultsPerPageList.length;d++){var m=e.resultsPerPageList[d];if(1==m.selected){d=m.value;break a}}d=void 0}m=a.recordData.position||a.recordData.record.__ORIG_POSITION__;e={query:b.communication.Util.getQueryFromSearchParams(),page:e.paging.currentPage,
id:f(a.recordData),pos:m,origPos:a.recordData.record.__ORIG_POSITION__||m,pageSize:d,origPageSize:e.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(e,a.recordData);this.appendCampaign(e,a.recordData);this.appendInstoreAds(e,a.recordData);this.appendTitle(e,a.recordData);this.appendUserId(e);h&&(e.always=h);g.click(e)}})(d.trackingBehavior||(d.trackingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){b=b.elements||(b.elements={});b.trackingBindingBehavior=[b.bindActionBehavior,b.trackingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){var b=Polymer,b=b.Gestures;a.bind=function(a,d,e){return(a=(e?e:Polymer.dom(this)).querySelector(a))?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindElement=function(a,d){return a?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindAll=function(a,d,e){if(a=(e?e:Polymer.dom(this)).querySelectorAll(a)){for(e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",d);return!0}return!1};a.bindElements=function(a,d){if(a){for(var e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",
d);return!0}return!1};a.unbind=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelector(a);b.remove(a,"tap",d)};a.unbindAll=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelectorAll(a);for(e=0;e<a.length;e++)b.remove(a[e],"tap",d)}})(b.bindActionBehavior||(b.bindActionBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){function b(a){var c=a&&a.nodeName?a:a.currentTarget;try{c.__transitionActive__=!1,c.removeEventListener("transitionend",b),"0px"!==c.style.height?(f(c,!1),c.style.height="",c.style.overflow="",setTimeout(function(){f(c,!0)})):f(c,!0)}catch(e){console.log(e)}finally{if(c&&c.__collapseCallback__){var l=c.__collapseCallback__;delete c.__collapseCallback__;setTimeout(function(){try{l()}catch(a){console.log(a)}},16)}}}function f(a,c){a.style["transition-duration"]=
!0===c?"":"0ms"}function d(a){a=a.getBoundingClientRect();for(var c in a)if(0!==a[c])return!0;return!1}function e(a){return a.getBoundingClientRect().height+"px"}function k(a,c,l,k){!0!==a.__transitionActive__&&(a.__transitionActive__=!0,k&&(a.__collapseCallback__=k),k=window.getComputedStyle(a),c=(k=k["transition-duration"]||k.transitionDuration)&&"0"!==k.replace(/\D/g,"")&&c,f(a,!1),c&&d(a)&&(k=e(a),"auto"===l&&(a.style.height="",l=e(a)),a.style.height=k,a.offsetHeight=a.offsetHeight,f(a,c),a.addEventListener("transitionend",
b)),"0px"===l?(a.style.overflow="hidden",a.removeAttribute("opened")):a.setAttribute("opened",""),a.style.height=l,c&&d(a)||(a.offsetHeight=a.offsetHeight,b(a)))}a._hide=function(a,c,b){void 0===c&&(c=!0);try{k(a,c,"0px",b)}catch(e){console.log(e)}};a._show=function(a,c,b){void 0===c&&(c=!0);try{k(a,c,"auto",b)}catch(e){console.log(e)}};a._toggle=function(a,c,b){void 0===c&&(c=!0);var f=e(a).replace(/\D/g,""),g=a.hasAttribute("opened");0<parseFloat(f)&&!1===g?this._hide(a,c,b):!1===g?this._show(a,
c,b):this._hide(a,c,b)}})(b.collapseElementsBehavior||(b.collapseElementsBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){a.properties={toggleFunctionName:{type:String},immediate:{type:Boolean},attributeName:{type:String},stateOneValue:{type:String},stateTwoValue:{type:String}};a.created=function(){var a=this;if(this[this.toggleFunctionName]){var b=this[this.toggleFunctionName];this.toggleFunctionName=function(){b.apply(arguments);a.toggleAttribute()}}if(!this.stateOneValue){var d=this.style[this.attributeName];this.stateOneValue=d?d:""}this.immediate&&this.toggleAttribute()};a.toggleAttribute=
function(){this.style[this.attributeName]=this.style[this.attributeName]===this.stateOneValue?this.stateTwoValue:this.stateOneValue};a.activateStateTwo=function(){this.style[this.attributeName]=this.stateTwoValue};a.activateStateOne=function(){this.style[this.attributeName]=this.stateOneValue}})(b.cssAttributeToggleBehavior||(b.cssAttributeToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,value:!0},productImageIdentifier:{type:String,value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"}};a.behaviors=[b.elements.bindActionBehavior];a.bindImage=function(a){this.searchLightDOM&&this._bindImage(Polymer.dom(this),a);this.searchShadowDOM&&this._bindImage(Polymer.dom(this.root))};a._bindImage=function(a,b){a=a.querySelectorAll(this.productImageIdentifier);
for(var d=0;d<a.length;d++){var e=a[d];if(!e.onerror){var k=e.attributes.getNamedItem("data-image-onerror");if(k){var h=k.nodeValue;h&&(e.onerror=function(){e.onerror=null;e.setAttribute("src",h)})}}e.setAttribute("src",b)}}})(d.imageBindingBehavior||(d.imageBindingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){b=b.elements||(b.elements={});b.imageTestBehavior=[b.bindActionBehavior,b.imageBindingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={templateString:{type:String},model:{type:Object,observer:"_modelObserver"},stampImmediate:{type:Boolean,value:!1}};a._renderer=new b.html.TemplateRenderer;a.ready=function(){this.updateTemplate();this.stampImmediate&&this.stamp()};a.stamp=function(){var a=this._renderer.render(this.templateString,this.model);Polymer.dom(this).innerHTML=a};a.updateTemplate=function(a){this.templateString=a?a:Polymer.dom(this).innerHTML};a._modelObserver=function(a,
b){this.stamp()}})(d.lightDOMTemplateBehavior||(d.lightDOMTemplateBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.__hashCodeGen=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)}return a()+a()+a()+a()};a.debugMessage=function(a){this.__hashCode||(this.__hashCode=this.__hashCodeGen(),b.common.Logger.debug(""));b.common.Logger.debug("DEBUG ["+this.tagName+" "+this.__hashCode+"] "+a)};a.created=function(){this.debugMessage("created callback invoked")};a.attached=function(){this.debugMessage("attached callback invoked")};a.detached=
function(){this.debugMessage("detached callback invoked")};a.ready=function(){this.debugMessage("ready callback invoked")}})(d.logLifeCycleCallbacksBehavior||(d.logLifeCycleCallbacksBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){var a=function(){function a(b,g){this.elementTemplate=b.node||b;-1<this.elementTemplate.nodeName.indexOf("-")&&CustomElements&&!0!==this.elementTemplate.__upgraded__&&!this.elementTemplate.clone&&(CustomElements.upgradeAll(this.elementTemplate),this.elementTemplate.__upgraded__=!0);this.type=b.type;this.parent=b.parentNode||g;this.previousSibling=b.previousSibling;this.nextSibling=b.nextSibling;try{Polymer.dom(Polymer.dom(this.elementTemplate).parentNode).removeChild(this.elementTemplate)}catch(e){}}
a.prototype.insert=function(a,b,e){var g=void 0!==a&&(void 0!==a.parentElement||Polymer.dom(a).parentNode);if(!a)try{a=this.elementTemplate.clone()}catch(h){throw this.elementTemplate+" does not implement clone()"+h;}g||(this.nextSibling?Polymer.dom(this.parent).insertBefore(a,this.nextSibling):Polymer.dom(this.parent).appendChild(a));Polymer.dom(this.parent).flush();try{b&&setTimeout(function(){b(a,e)})}catch(h){console.log(h)}};a.prototype.insertAll=function(a,b,e,g){for(var h=a.length>b.length?
a.length:b.length,c=0;c<h;c++)this.insert(a[c],e,b[c]);setTimeout(function(){try{g&&g()}catch(a){console.log(a)}})};return a}();b.InsertElementHelper=a})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.debounce("opacity",function(){this.style.opacity=1},100)}})(b.opacityToggleBehavior||(b.opacityToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function g(a){if(a=a.attributes.getNamedItem("data-redirect")){a=a.nodeValue;if(void 0!==a&&0<a.length)return a;if(this.recordData)return this.recordData.record.Deeplink;b.common.Logger.debug("no record data available for data-redirect action")}}function f(a){var b="_blank";if(a=a.attributes.getNamedItem("data-redirect-target"))a=a.nodeValue,void 0!==a&&0<a.length&&(b=a);return b}a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,
value:!0},productImageIdentifier:{type:"String",value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"},redirectIdentifier:{type:"String",value:"[data-redirect]"},redirectTargetIdentifier:{type:"String",value:"[data-redirect-target]"},recommendationIdentifier:{type:"String",value:"data-recommendation"},bindImmediate:{type:Boolean,value:!1}};a.behaviors=[b.elements.bindActionBehavior];var d=new b.communication.Tracking12;a.ready=function(){this.bindImmediate&&
(this.bindProductActions(),this.bindProductImage())};a.bindProductActions=function(){this._bindProductRedirect()};a.bindProductImage=function(){this.searchLightDOM&&this._bindProductImage(Polymer.dom(this));this.searchShadowDOM&&this._bindProductImage(Polymer.dom(this.root))};a._bindProductImage=function(a){a=a.querySelectorAll(this.productImageIdentifier);for(var f=0;f<a.length;f++){var h=a[f];if(!h.onerror){var c=h.attributes.getNamedItem("data-image-onerror");if(c){var l=c.nodeValue;l&&(h.onerror=
function(){h.onerror=null;h.setAttribute("src",l)})}}(c=h.getAttribute("data-image"))?void 0!==c&&0!==c.length&&h.setAttribute("src",c):(c=b.communication,h.setAttribute("src",this.recordData.record[c.fieldRoles?c.fieldRoles.imageUrl:""]||this.recordData.record.ImageUrl))}};a._bindProductRedirect=function(){this.searchLightDOM&&this.bindRedirect(Polymer.dom(this));this.searchShadowDOM&&this.bindRedirect(Polymer.dom(this.root))};a.bindRedirect=function(a){if(a){a=a.querySelectorAll(this.redirectIdentifier);
for(var b=0;b<a.length;b++){var f=a[b],c=Polymer.dom(f).querySelectorAll("[data-track]");if(0<c.length)for(var l=0;l<c.length;l++)c[l].attributes.removeNamedItem("data-track");this.bindElement(f,this._handleTrackingAndRedirect)}}};a._handleRedirect=function(a){var b=a.currentTarget;a=g(b);b=f(b);a&&this.redirect(a,b)};a._handleTrackingAndRedirect=function(a){a.stopPropagation();a=a.currentTarget;var b=this,h=g(a),c=f(a);h&&(a=this.getTrackingData(b),"_self"!==c?(!0===this.isRecommendation?this._trackRecommendationClick(this):
this._trackProductClick(this),this.redirect(h,c)):(a.always=function(){b.redirect(h,c)},d.click(a)))};a.getRedirectLocation=g;a.getRedirectTarget=f;a.getTrackingData=function(a){var f=b.communication.FFCommunicationEventAggregator.currentSearchResult,h;a:{for(h=0;h<f.resultsPerPageList.length;h++){var c=f.resultsPerPageList[h];if(1==c.selected){h=c.value;break a}}h=void 0}c=a.recordData.position||a.recordData.record.__ORIG_POSITION__;f={query:b.communication.Util.getQueryFromSearchParams(),page:f.paging.currentPage,
id:b.communication.Util.trackingHelper.getTrackingProductId(a.recordData),pos:c,origPos:a.recordData.record.__ORIG_POSITION__||c,pageSize:h,origPageSize:f.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(f,a.recordData);this.appendCampaign(f,a.recordData);this.appendInstoreAds(f,a.recordData);this.appendTitle(f,a.recordData);this.appendUserId(f);return f};a.redirect=function(a,b){window.open(a,b)}})(d.recordBindingBehavior||(d.recordBindingBehavior={}))})(b.elements||
(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}})(b.removeUnresolvedAttributeBehavior||(b.removeUnresolvedAttributeBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.clickSelector="[data-track='']";a.productClickSelector='[data-track="productClick"]';a.recommendationClickSelector='[data-track="recommendationClick"]';a.checkoutClickSelector='[data-track="checkoutClick"]';a.cartClickSelector='[data-track="cartClick"]';var g=new b.communication.Tracking12,f=b.communication.Util.trackingHelper.getTrackingProductId,d=b.communication.Util.trackingHelper.getPrice,e=b.communication.Util.trackingHelper.getMasterArticleNumber,k=
b.communication.Util.trackingHelper.getUserId,h=b.communication.Util.trackingHelper.getTitle;a.appendCount=function(a,b){a.count=b.count?b.count:1};a.appendInstoreAds=function(a,b){b.record.__FFInstoreAds__&&"true"===b.record.__FFInstoreAds__&&(a.instoreAds="true")};a.appendCampaign=function(a,b){b.record.__FFCampaign__&&(a.campaign=b.record.__FFCampaign__)};a.appendUserId=function(a){var b=k();b&&(a.userId=b)};a.appendTitle=function(a,b){(b=h(b))&&(a.title=b)};a.appendMasterArticleNumber=function(a,
b){(b=e(b))&&(a.masterId=b)};a.getRecordElement=function(a,e){return e?{recordData:e}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record")};a.bindClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);!0===this.isRecommendation?this.bindAll(a.clickSelector,function(a){c._trackRecommendationClick(c)},b):this.bindAll(a.clickSelector,function(a){c._trackProductClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),!0===
this.isRecommendation?this.bindAll(a.clickSelector,function(a){c._trackRecommendationClick(c)},b):this.bindAll(a.clickSelector,function(a){c._trackProductClick(c)},b))};a.bindProductClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.productClickSelector,function(a){c._trackProductClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.productClickSelector,function(a){c._trackProductClick(c)},b))};a.bindRecommendationClick=function(c){c=c||this;
if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.recommendationClickSelector,function(a){c._trackRecommendationClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.recommendationClickSelector,function(a){c._trackRecommendationClick(c)},b))};a.bindCheckoutClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.checkoutClickSelector,function(a){c._trackCheckoutClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.checkoutClickSelector,
function(a){c._trackCheckoutClick(c)},b))};a.bindCartClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.cartClickSelector,function(a){c._trackCartClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.cartClickSelector,function(a){c._trackCartClick(c)},b))};a._trackRecommendationClick=function(a,l,h){l=l?{recordData:l}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record");"ff-recommendation"!==
a.tagName.toLowerCase()&&(a=Polymer.dom(a),a=b.common.getParentElementByName(a,"ff-recommendation"));if(l){var d={type:"recommendationClick"};d.mainId=a.recordId;d.id=e(l.recordData)||f(l.recordData);this.appendMasterArticleNumber(d,l.recordData);this.appendUserId(d);h&&(d.always=h);g.recommendationClick(d)}};a._trackCheckoutClick=function(a,e,h){if(e=this.getRecordElement(a,e)){var k={id:f(e.recordData),price:d(e.recordData),query:e.recordData.record.__FFCartQuery__||b.communication.Util.getQueryFromSearchParams()};
this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);g.checkout(k)}else console.log("no record element found. tracking not possible.")};a._trackCartClick=function(a,e,h){e=this.getRecordElement(a,e);var k={id:f(e.recordData),price:d(e.recordData),query:b.communication.Util.getQueryFromSearchParams()};this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,
e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);g.cart(k)};a._trackProductClick=function(a,e,h){a=this.getRecordElement(a,e);e=b.communication.FFCommunicationEventAggregator.currentSearchResult;var d;a:{for(d=0;d<e.resultsPerPageList.length;d++){var m=e.resultsPerPageList[d];if(1==m.selected){d=m.value;break a}}d=void 0}m=a.recordData.position||a.recordData.record.__ORIG_POSITION__;e={query:b.communication.Util.getQueryFromSearchParams(),page:e.paging.currentPage,
id:f(a.recordData),pos:m,origPos:a.recordData.record.__ORIG_POSITION__||m,pageSize:d,origPageSize:e.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(e,a.recordData);this.appendCampaign(e,a.recordData);this.appendInstoreAds(e,a.recordData);this.appendTitle(e,a.recordData);this.appendUserId(e);h&&(e.always=h);g.click(e)}})(d.trackingBehavior||(d.trackingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){b=b.elements||(b.elements={});b.trackingBindingBehavior=[b.bindActionBehavior,b.trackingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){var b=Polymer,b=b.Gestures;a.bind=function(a,d,e){return(a=(e?e:Polymer.dom(this)).querySelector(a))?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindElement=function(a,d){return a?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindAll=function(a,d,e){if(a=(e?e:Polymer.dom(this)).querySelectorAll(a)){for(e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",d);return!0}return!1};a.bindElements=function(a,d){if(a){for(var e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",
d);return!0}return!1};a.unbind=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelector(a);b.remove(a,"tap",d)};a.unbindAll=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelectorAll(a);for(e=0;e<a.length;e++)b.remove(a[e],"tap",d)}})(b.bindActionBehavior||(b.bindActionBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){function b(a){var c=a&&a.nodeName?a:a.currentTarget;try{c.__transitionActive__=!1,c.removeEventListener("transitionend",b),"0px"!==c.style.height?(f(c,!1),c.style.height="",c.style.overflow="",setTimeout(function(){f(c,!0)})):f(c,!0)}catch(e){console.log(e)}finally{if(c&&c.__collapseCallback__){var l=c.__collapseCallback__;delete c.__collapseCallback__;setTimeout(function(){try{l()}catch(a){console.log(a)}},16)}}}function f(a,c){a.style["transition-duration"]=
!0===c?"":"0ms"}function d(a){a=a.getBoundingClientRect();for(var c in a)if(0!==a[c])return!0;return!1}function e(a){return a.getBoundingClientRect().height+"px"}function k(a,c,l,k){!0!==a.__transitionActive__&&(a.__transitionActive__=!0,k&&(a.__collapseCallback__=k),k=window.getComputedStyle(a),c=(k=k["transition-duration"]||k.transitionDuration)&&"0"!==k.replace(/\D/g,"")&&c,f(a,!1),c&&d(a)&&(k=e(a),"auto"===l&&(a.style.height="",l=e(a)),a.style.height=k,a.offsetHeight=a.offsetHeight,f(a,c),a.addEventListener("transitionend",
b)),"0px"===l?(a.style.overflow="hidden",a.removeAttribute("opened")):a.setAttribute("opened",""),a.style.height=l,c&&d(a)||(a.offsetHeight=a.offsetHeight,b(a)))}a._hide=function(a,c,b){void 0===c&&(c=!0);try{k(a,c,"0px",b)}catch(e){console.log(e)}};a._show=function(a,c,b){void 0===c&&(c=!0);try{k(a,c,"auto",b)}catch(e){console.log(e)}};a._toggle=function(a,c,b){void 0===c&&(c=!0);var f=e(a).replace(/\D/g,""),g=a.hasAttribute("opened");0<parseFloat(f)&&!1===g?this._hide(a,c,b):!1===g?this._show(a,
c,b):this._hide(a,c,b)}})(b.collapseElementsBehavior||(b.collapseElementsBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){a.properties={toggleFunctionName:{type:String},immediate:{type:Boolean},attributeName:{type:String},stateOneValue:{type:String},stateTwoValue:{type:String}};a.created=function(){var a=this;if(this[this.toggleFunctionName]){var b=this[this.toggleFunctionName];this.toggleFunctionName=function(){b.apply(arguments);a.toggleAttribute()}}if(!this.stateOneValue){var d=this.style[this.attributeName];this.stateOneValue=d?d:""}this.immediate&&this.toggleAttribute()};a.toggleAttribute=
function(){this.style[this.attributeName]=this.style[this.attributeName]===this.stateOneValue?this.stateTwoValue:this.stateOneValue};a.activateStateTwo=function(){this.style[this.attributeName]=this.stateTwoValue};a.activateStateOne=function(){this.style[this.attributeName]=this.stateOneValue}})(b.cssAttributeToggleBehavior||(b.cssAttributeToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,value:!0},productImageIdentifier:{type:String,value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"}};a.behaviors=[b.elements.bindActionBehavior];a.bindImage=function(a){this.searchLightDOM&&this._bindImage(Polymer.dom(this),a);this.searchShadowDOM&&this._bindImage(Polymer.dom(this.root))};a._bindImage=function(a,b){a=a.querySelectorAll(this.productImageIdentifier);
for(var d=0;d<a.length;d++){var e=a[d];if(!e.onerror){var k=e.attributes.getNamedItem("data-image-onerror");if(k){var h=k.nodeValue;h&&(e.onerror=function(){e.onerror=null;e.setAttribute("src",h)})}}e.setAttribute("src",b)}}})(d.imageBindingBehavior||(d.imageBindingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){b=b.elements||(b.elements={});b.imageTestBehavior=[b.bindActionBehavior,b.imageBindingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={templateString:{type:String},model:{type:Object,observer:"_modelObserver"},stampImmediate:{type:Boolean,value:!1}};a._renderer=new b.html.TemplateRenderer;a.ready=function(){this.updateTemplate();this.stampImmediate&&this.stamp()};a.stamp=function(){var a=this._renderer.render(this.templateString,this.model);Polymer.dom(this).innerHTML=a};a.updateTemplate=function(a){this.templateString=a?a:Polymer.dom(this).innerHTML};a._modelObserver=function(a,
b){this.stamp()}})(d.lightDOMTemplateBehavior||(d.lightDOMTemplateBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.__hashCodeGen=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)}return a()+a()+a()+a()};a.debugMessage=function(a){this.__hashCode||(this.__hashCode=this.__hashCodeGen(),b.common.Logger.debug(""));b.common.Logger.debug("DEBUG ["+this.tagName+" "+this.__hashCode+"] "+a)};a.created=function(){this.debugMessage("created callback invoked")};a.attached=function(){this.debugMessage("attached callback invoked")};a.detached=
function(){this.debugMessage("detached callback invoked")};a.ready=function(){this.debugMessage("ready callback invoked")}})(d.logLifeCycleCallbacksBehavior||(d.logLifeCycleCallbacksBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){var a=function(){function a(b,g){this.elementTemplate=b.node||b;-1<this.elementTemplate.nodeName.indexOf("-")&&CustomElements&&!0!==this.elementTemplate.__upgraded__&&!this.elementTemplate.clone&&(CustomElements.upgradeAll(this.elementTemplate),this.elementTemplate.__upgraded__=!0);this.type=b.type;this.parent=b.parentNode||g;this.previousSibling=b.previousSibling;this.nextSibling=b.nextSibling;try{Polymer.dom(Polymer.dom(this.elementTemplate).parentNode).removeChild(this.elementTemplate)}catch(e){}}
a.prototype.insert=function(a,b,e){var g=void 0!==a&&(void 0!==a.parentElement||Polymer.dom(a).parentNode);if(!a)try{a=this.elementTemplate.clone()}catch(h){throw this.elementTemplate+" does not implement clone()"+h;}g||(this.nextSibling?Polymer.dom(this.parent).insertBefore(a,this.nextSibling):Polymer.dom(this.parent).appendChild(a));Polymer.dom(this.parent).flush();try{b&&setTimeout(function(){b(a,e)})}catch(h){console.log(h)}};a.prototype.insertAll=function(a,b,e,g){for(var h=a.length>b.length?
a.length:b.length,c=0;c<h;c++)this.insert(a[c],e,b[c]);setTimeout(function(){try{g&&g()}catch(a){console.log(a)}})};return a}();b.InsertElementHelper=a})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.debounce("opacity",function(){this.style.opacity=1},100)}})(b.opacityToggleBehavior||(b.opacityToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function g(a){if(a=a.attributes.getNamedItem("data-redirect")){a=a.nodeValue;if(void 0!==a&&0<a.length)return a;if(this.recordData)return this.recordData.record.Deeplink;b.common.Logger.debug("no record data available for data-redirect action")}}function f(a){var b="_blank";if(a=a.attributes.getNamedItem("data-redirect-target"))a=a.nodeValue,void 0!==a&&0<a.length&&(b=a);return b}a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,
value:!0},productImageIdentifier:{type:"String",value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"},redirectIdentifier:{type:"String",value:"[data-redirect]"},redirectTargetIdentifier:{type:"String",value:"[data-redirect-target]"},recommendationIdentifier:{type:"String",value:"data-recommendation"},bindImmediate:{type:Boolean,value:!1}};a.behaviors=[b.elements.bindActionBehavior];var d=new b.communication.Tracking12;a.ready=function(){this.bindImmediate&&
(this.bindProductActions(),this.bindProductImage())};a.bindProductActions=function(){this._bindProductRedirect()};a.bindProductImage=function(){this.searchLightDOM&&this._bindProductImage(Polymer.dom(this));this.searchShadowDOM&&this._bindProductImage(Polymer.dom(this.root))};a._bindProductImage=function(a){a=a.querySelectorAll(this.productImageIdentifier);for(var f=0;f<a.length;f++){var h=a[f];if(!h.onerror){var c=h.attributes.getNamedItem("data-image-onerror");if(c){var l=c.nodeValue;l&&(h.onerror=
function(){h.onerror=null;h.setAttribute("src",l)})}}(c=h.getAttribute("data-image"))?void 0!==c&&0!==c.length&&h.setAttribute("src",c):(c=b.communication,h.setAttribute("src",this.recordData.record[c.fieldRoles?c.fieldRoles.imageUrl:""]||this.recordData.record.ImageUrl))}};a._bindProductRedirect=function(){this.searchLightDOM&&this.bindRedirect(Polymer.dom(this));this.searchShadowDOM&&this.bindRedirect(Polymer.dom(this.root))};a.bindRedirect=function(a){if(a){a=a.querySelectorAll(this.redirectIdentifier);
for(var b=0;b<a.length;b++){var f=a[b],c=Polymer.dom(f).querySelectorAll("[data-track]");if(0<c.length)for(var l=0;l<c.length;l++)c[l].attributes.removeNamedItem("data-track");this.bindElement(f,this._handleTrackingAndRedirect)}}};a._handleRedirect=function(a){var b=a.currentTarget;a=g(b);b=f(b);a&&this.redirect(a,b)};a._handleTrackingAndRedirect=function(a){a.stopPropagation();a=a.currentTarget;var b=this,h=g(a),c=f(a);h&&(a=this.getTrackingData(b),"_self"!==c?(!0===this.isRecommendation?this._trackRecommendationClick(this):
this._trackProductClick(this),this.redirect(h,c)):(a.always=function(){b.redirect(h,c)},d.click(a)))};a.getRedirectLocation=g;a.getRedirectTarget=f;a.getTrackingData=function(a){var f=b.communication.FFCommunicationEventAggregator.currentSearchResult,h;a:{for(h=0;h<f.resultsPerPageList.length;h++){var c=f.resultsPerPageList[h];if(1==c.selected){h=c.value;break a}}h=void 0}c=a.recordData.position||a.recordData.record.__ORIG_POSITION__;f={query:b.communication.Util.getQueryFromSearchParams(),page:f.paging.currentPage,
id:b.communication.Util.trackingHelper.getTrackingProductId(a.recordData),pos:c,origPos:a.recordData.record.__ORIG_POSITION__||c,pageSize:h,origPageSize:f.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(f,a.recordData);this.appendCampaign(f,a.recordData);this.appendInstoreAds(f,a.recordData);this.appendTitle(f,a.recordData);this.appendUserId(f);return f};a.redirect=function(a,b){window.open(a,b)}})(d.recordBindingBehavior||(d.recordBindingBehavior={}))})(b.elements||
(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}})(b.removeUnresolvedAttributeBehavior||(b.removeUnresolvedAttributeBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.clickSelector="[data-track='']";a.productClickSelector='[data-track="productClick"]';a.recommendationClickSelector='[data-track="recommendationClick"]';a.checkoutClickSelector='[data-track="checkoutClick"]';a.cartClickSelector='[data-track="cartClick"]';var g=new b.communication.Tracking12,f=b.communication.Util.trackingHelper.getTrackingProductId,d=b.communication.Util.trackingHelper.getPrice,e=b.communication.Util.trackingHelper.getMasterArticleNumber,k=
b.communication.Util.trackingHelper.getUserId,h=b.communication.Util.trackingHelper.getTitle;a.appendCount=function(a,b){a.count=b.count?b.count:1};a.appendInstoreAds=function(a,b){b.record.__FFInstoreAds__&&"true"===b.record.__FFInstoreAds__&&(a.instoreAds="true")};a.appendCampaign=function(a,b){b.record.__FFCampaign__&&(a.campaign=b.record.__FFCampaign__)};a.appendUserId=function(a){var b=k();b&&(a.userId=b)};a.appendTitle=function(a,b){(b=h(b))&&(a.title=b)};a.appendMasterArticleNumber=function(a,
b){(b=e(b))&&(a.masterId=b)};a.getRecordElement=function(a,e){return e?{recordData:e}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record")};a.bindClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);!0===this.isRecommendation?this.bindAll(a.clickSelector,function(a){c._trackRecommendationClick(c)},b):this.bindAll(a.clickSelector,function(a){c._trackProductClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),!0===
this.isRecommendation?this.bindAll(a.clickSelector,function(a){c._trackRecommendationClick(c)},b):this.bindAll(a.clickSelector,function(a){c._trackProductClick(c)},b))};a.bindProductClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.productClickSelector,function(a){c._trackProductClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.productClickSelector,function(a){c._trackProductClick(c)},b))};a.bindRecommendationClick=function(c){c=c||this;
if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.recommendationClickSelector,function(a){c._trackRecommendationClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.recommendationClickSelector,function(a){c._trackRecommendationClick(c)},b))};a.bindCheckoutClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.checkoutClickSelector,function(a){c._trackCheckoutClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.checkoutClickSelector,
function(a){c._trackCheckoutClick(c)},b))};a.bindCartClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.cartClickSelector,function(a){c._trackCartClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.cartClickSelector,function(a){c._trackCartClick(c)},b))};a._trackRecommendationClick=function(a,l,h){l=l?{recordData:l}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record");"ff-recommendation"!==
a.tagName.toLowerCase()&&(a=Polymer.dom(a),a=b.common.getParentElementByName(a,"ff-recommendation"));if(l){var d={type:"recommendationClick"};d.mainId=a.recordId;d.id=e(l.recordData)||f(l.recordData);this.appendMasterArticleNumber(d,l.recordData);this.appendUserId(d);h&&(d.always=h);g.recommendationClick(d)}};a._trackCheckoutClick=function(a,e,h){if(e=this.getRecordElement(a,e)){var k={id:f(e.recordData),price:d(e.recordData),query:e.recordData.record.__FFCartQuery__||b.communication.Util.getQueryFromSearchParams()};
this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);g.checkout(k)}else console.log("no record element found. tracking not possible.")};a._trackCartClick=function(a,e,h){e=this.getRecordElement(a,e);var k={id:f(e.recordData),price:d(e.recordData),query:b.communication.Util.getQueryFromSearchParams()};this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,
e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);g.cart(k)};a._trackProductClick=function(a,e,h){a=this.getRecordElement(a,e);e=b.communication.FFCommunicationEventAggregator.currentSearchResult;var d;a:{for(d=0;d<e.resultsPerPageList.length;d++){var m=e.resultsPerPageList[d];if(1==m.selected){d=m.value;break a}}d=void 0}m=a.recordData.position||a.recordData.record.__ORIG_POSITION__;e={query:b.communication.Util.getQueryFromSearchParams(),page:e.paging.currentPage,
id:f(a.recordData),pos:m,origPos:a.recordData.record.__ORIG_POSITION__||m,pageSize:d,origPageSize:e.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(e,a.recordData);this.appendCampaign(e,a.recordData);this.appendInstoreAds(e,a.recordData);this.appendTitle(e,a.recordData);this.appendUserId(e);h&&(e.always=h);g.click(e)}})(d.trackingBehavior||(d.trackingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){b=b.elements||(b.elements={});b.trackingBindingBehavior=[b.bindActionBehavior,b.trackingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){var b=Polymer,b=b.Gestures;a.bind=function(a,d,e){return(a=(e?e:Polymer.dom(this)).querySelector(a))?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindElement=function(a,d){return a?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindAll=function(a,d,e){if(a=(e?e:Polymer.dom(this)).querySelectorAll(a)){for(e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",d);return!0}return!1};a.bindElements=function(a,d){if(a){for(var e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",
d);return!0}return!1};a.unbind=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelector(a);b.remove(a,"tap",d)};a.unbindAll=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelectorAll(a);for(e=0;e<a.length;e++)b.remove(a[e],"tap",d)}})(b.bindActionBehavior||(b.bindActionBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){function b(a){var c=a&&a.nodeName?a:a.currentTarget;try{c.__transitionActive__=!1,c.removeEventListener("transitionend",b),"0px"!==c.style.height?(f(c,!1),c.style.height="",c.style.overflow="",setTimeout(function(){f(c,!0)})):f(c,!0)}catch(e){console.log(e)}finally{if(c&&c.__collapseCallback__){var l=c.__collapseCallback__;delete c.__collapseCallback__;setTimeout(function(){try{l()}catch(a){console.log(a)}},16)}}}function f(a,c){a.style["transition-duration"]=
!0===c?"":"0ms"}function d(a){a=a.getBoundingClientRect();for(var c in a)if(0!==a[c])return!0;return!1}function e(a){return a.getBoundingClientRect().height+"px"}function k(a,c,l,k){!0!==a.__transitionActive__&&(a.__transitionActive__=!0,k&&(a.__collapseCallback__=k),k=window.getComputedStyle(a),c=(k=k["transition-duration"]||k.transitionDuration)&&"0"!==k.replace(/\D/g,"")&&c,f(a,!1),c&&d(a)&&(k=e(a),"auto"===l&&(a.style.height="",l=e(a)),a.style.height=k,a.offsetHeight=a.offsetHeight,f(a,c),a.addEventListener("transitionend",
b)),"0px"===l?(a.style.overflow="hidden",a.removeAttribute("opened")):a.setAttribute("opened",""),a.style.height=l,c&&d(a)||(a.offsetHeight=a.offsetHeight,b(a)))}a._hide=function(a,c,b){void 0===c&&(c=!0);try{k(a,c,"0px",b)}catch(e){console.log(e)}};a._show=function(a,c,b){void 0===c&&(c=!0);try{k(a,c,"auto",b)}catch(e){console.log(e)}};a._toggle=function(a,c,b){void 0===c&&(c=!0);var f=e(a).replace(/\D/g,""),g=a.hasAttribute("opened");0<parseFloat(f)&&!1===g?this._hide(a,c,b):!1===g?this._show(a,
c,b):this._hide(a,c,b)}})(b.collapseElementsBehavior||(b.collapseElementsBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){a.properties={toggleFunctionName:{type:String},immediate:{type:Boolean},attributeName:{type:String},stateOneValue:{type:String},stateTwoValue:{type:String}};a.created=function(){var a=this;if(this[this.toggleFunctionName]){var b=this[this.toggleFunctionName];this.toggleFunctionName=function(){b.apply(arguments);a.toggleAttribute()}}if(!this.stateOneValue){var d=this.style[this.attributeName];this.stateOneValue=d?d:""}this.immediate&&this.toggleAttribute()};a.toggleAttribute=
function(){this.style[this.attributeName]=this.style[this.attributeName]===this.stateOneValue?this.stateTwoValue:this.stateOneValue};a.activateStateTwo=function(){this.style[this.attributeName]=this.stateTwoValue};a.activateStateOne=function(){this.style[this.attributeName]=this.stateOneValue}})(b.cssAttributeToggleBehavior||(b.cssAttributeToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,value:!0},productImageIdentifier:{type:String,value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"}};a.behaviors=[b.elements.bindActionBehavior];a.bindImage=function(a){this.searchLightDOM&&this._bindImage(Polymer.dom(this),a);this.searchShadowDOM&&this._bindImage(Polymer.dom(this.root))};a._bindImage=function(a,b){a=a.querySelectorAll(this.productImageIdentifier);
for(var d=0;d<a.length;d++){var e=a[d];if(!e.onerror){var k=e.attributes.getNamedItem("data-image-onerror");if(k){var h=k.nodeValue;h&&(e.onerror=function(){e.onerror=null;e.setAttribute("src",h)})}}e.setAttribute("src",b)}}})(d.imageBindingBehavior||(d.imageBindingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){b=b.elements||(b.elements={});b.imageTestBehavior=[b.bindActionBehavior,b.imageBindingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={templateString:{type:String},model:{type:Object,observer:"_modelObserver"},stampImmediate:{type:Boolean,value:!1}};a._renderer=new b.html.TemplateRenderer;a.ready=function(){this.updateTemplate();this.stampImmediate&&this.stamp()};a.stamp=function(){var a=this._renderer.render(this.templateString,this.model);Polymer.dom(this).innerHTML=a};a.updateTemplate=function(a){this.templateString=a?a:Polymer.dom(this).innerHTML};a._modelObserver=function(a,
b){this.stamp()}})(d.lightDOMTemplateBehavior||(d.lightDOMTemplateBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.__hashCodeGen=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)}return a()+a()+a()+a()};a.debugMessage=function(a){this.__hashCode||(this.__hashCode=this.__hashCodeGen(),b.common.Logger.debug(""));b.common.Logger.debug("DEBUG ["+this.tagName+" "+this.__hashCode+"] "+a)};a.created=function(){this.debugMessage("created callback invoked")};a.attached=function(){this.debugMessage("attached callback invoked")};a.detached=
function(){this.debugMessage("detached callback invoked")};a.ready=function(){this.debugMessage("ready callback invoked")}})(d.logLifeCycleCallbacksBehavior||(d.logLifeCycleCallbacksBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){var a=function(){function a(b,g){this.elementTemplate=b.node||b;-1<this.elementTemplate.nodeName.indexOf("-")&&CustomElements&&!0!==this.elementTemplate.__upgraded__&&!this.elementTemplate.clone&&(CustomElements.upgradeAll(this.elementTemplate),this.elementTemplate.__upgraded__=!0);this.type=b.type;this.parent=b.parentNode||g;this.previousSibling=b.previousSibling;this.nextSibling=b.nextSibling;try{Polymer.dom(Polymer.dom(this.elementTemplate).parentNode).removeChild(this.elementTemplate)}catch(e){}}
a.prototype.insert=function(a,b,e){var g=void 0!==a&&(void 0!==a.parentElement||Polymer.dom(a).parentNode);if(!a)try{a=this.elementTemplate.clone()}catch(h){throw this.elementTemplate+" does not implement clone()"+h;}g||(this.nextSibling?Polymer.dom(this.parent).insertBefore(a,this.nextSibling):Polymer.dom(this.parent).appendChild(a));Polymer.dom(this.parent).flush();try{b&&setTimeout(function(){b(a,e)})}catch(h){console.log(h)}};a.prototype.insertAll=function(a,b,e,g){for(var h=a.length>b.length?
a.length:b.length,c=0;c<h;c++)this.insert(a[c],e,b[c]);setTimeout(function(){try{g&&g()}catch(a){console.log(a)}})};return a}();b.InsertElementHelper=a})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.debounce("opacity",function(){this.style.opacity=1},100)}})(b.opacityToggleBehavior||(b.opacityToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function g(a){if(a=a.attributes.getNamedItem("data-redirect")){a=a.nodeValue;if(void 0!==a&&0<a.length)return a;if(this.recordData)return this.recordData.record.Deeplink;b.common.Logger.debug("no record data available for data-redirect action")}}function f(a){var b="_blank";if(a=a.attributes.getNamedItem("data-redirect-target"))a=a.nodeValue,void 0!==a&&0<a.length&&(b=a);return b}a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,
value:!0},productImageIdentifier:{type:"String",value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"},redirectIdentifier:{type:"String",value:"[data-redirect]"},redirectTargetIdentifier:{type:"String",value:"[data-redirect-target]"},recommendationIdentifier:{type:"String",value:"data-recommendation"},bindImmediate:{type:Boolean,value:!1}};a.behaviors=[b.elements.bindActionBehavior];var d=new b.communication.Tracking12;a.ready=function(){this.bindImmediate&&
(this.bindProductActions(),this.bindProductImage())};a.bindProductActions=function(){this._bindProductRedirect()};a.bindProductImage=function(){this.searchLightDOM&&this._bindProductImage(Polymer.dom(this));this.searchShadowDOM&&this._bindProductImage(Polymer.dom(this.root))};a._bindProductImage=function(a){a=a.querySelectorAll(this.productImageIdentifier);for(var f=0;f<a.length;f++){var h=a[f];if(!h.onerror){var c=h.attributes.getNamedItem("data-image-onerror");if(c){var l=c.nodeValue;l&&(h.onerror=
function(){h.onerror=null;h.setAttribute("src",l)})}}(c=h.getAttribute("data-image"))?void 0!==c&&0!==c.length&&h.setAttribute("src",c):(c=b.communication,h.setAttribute("src",this.recordData.record[c.fieldRoles?c.fieldRoles.imageUrl:""]||this.recordData.record.ImageUrl))}};a._bindProductRedirect=function(){this.searchLightDOM&&this.bindRedirect(Polymer.dom(this));this.searchShadowDOM&&this.bindRedirect(Polymer.dom(this.root))};a.bindRedirect=function(a){if(a){a=a.querySelectorAll(this.redirectIdentifier);
for(var b=0;b<a.length;b++){var f=a[b],c=Polymer.dom(f).querySelectorAll("[data-track]");if(0<c.length)for(var l=0;l<c.length;l++)c[l].attributes.removeNamedItem("data-track");this.bindElement(f,this._handleTrackingAndRedirect)}}};a._handleRedirect=function(a){var b=a.currentTarget;a=g(b);b=f(b);a&&this.redirect(a,b)};a._handleTrackingAndRedirect=function(a){a.stopPropagation();a=a.currentTarget;var b=this,h=g(a),c=f(a);h&&(a=this.getTrackingData(b),"_self"!==c?(!0===this.isRecommendation?this._trackRecommendationClick(this):
this._trackProductClick(this),this.redirect(h,c)):(a.always=function(){b.redirect(h,c)},d.click(a)))};a.getRedirectLocation=g;a.getRedirectTarget=f;a.getTrackingData=function(a){var f=b.communication.FFCommunicationEventAggregator.currentSearchResult,h;a:{for(h=0;h<f.resultsPerPageList.length;h++){var c=f.resultsPerPageList[h];if(1==c.selected){h=c.value;break a}}h=void 0}c=a.recordData.position||a.recordData.record.__ORIG_POSITION__;f={query:b.communication.Util.getQueryFromSearchParams(),page:f.paging.currentPage,
id:b.communication.Util.trackingHelper.getTrackingProductId(a.recordData),pos:c,origPos:a.recordData.record.__ORIG_POSITION__||c,pageSize:h,origPageSize:f.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(f,a.recordData);this.appendCampaign(f,a.recordData);this.appendInstoreAds(f,a.recordData);this.appendTitle(f,a.recordData);this.appendUserId(f);return f};a.redirect=function(a,b){window.open(a,b)}})(d.recordBindingBehavior||(d.recordBindingBehavior={}))})(b.elements||
(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}})(b.removeUnresolvedAttributeBehavior||(b.removeUnresolvedAttributeBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.clickSelector="[data-track='']";a.productClickSelector='[data-track="productClick"]';a.recommendationClickSelector='[data-track="recommendationClick"]';a.checkoutClickSelector='[data-track="checkoutClick"]';a.cartClickSelector='[data-track="cartClick"]';var g=new b.communication.Tracking12,f=b.communication.Util.trackingHelper.getTrackingProductId,d=b.communication.Util.trackingHelper.getPrice,e=b.communication.Util.trackingHelper.getMasterArticleNumber,k=
b.communication.Util.trackingHelper.getUserId,h=b.communication.Util.trackingHelper.getTitle;a.appendCount=function(a,b){a.count=b.count?b.count:1};a.appendInstoreAds=function(a,b){b.record.__FFInstoreAds__&&"true"===b.record.__FFInstoreAds__&&(a.instoreAds="true")};a.appendCampaign=function(a,b){b.record.__FFCampaign__&&(a.campaign=b.record.__FFCampaign__)};a.appendUserId=function(a){var b=k();b&&(a.userId=b)};a.appendTitle=function(a,b){(b=h(b))&&(a.title=b)};a.appendMasterArticleNumber=function(a,
b){(b=e(b))&&(a.masterId=b)};a.getRecordElement=function(a,e){return e?{recordData:e}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record")};a.bindClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);!0===this.isRecommendation?this.bindAll(a.clickSelector,function(a){c._trackRecommendationClick(c)},b):this.bindAll(a.clickSelector,function(a){c._trackProductClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),!0===
this.isRecommendation?this.bindAll(a.clickSelector,function(a){c._trackRecommendationClick(c)},b):this.bindAll(a.clickSelector,function(a){c._trackProductClick(c)},b))};a.bindProductClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.productClickSelector,function(a){c._trackProductClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.productClickSelector,function(a){c._trackProductClick(c)},b))};a.bindRecommendationClick=function(c){c=c||this;
if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.recommendationClickSelector,function(a){c._trackRecommendationClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.recommendationClickSelector,function(a){c._trackRecommendationClick(c)},b))};a.bindCheckoutClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.checkoutClickSelector,function(a){c._trackCheckoutClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.checkoutClickSelector,
function(a){c._trackCheckoutClick(c)},b))};a.bindCartClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.cartClickSelector,function(a){c._trackCartClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.cartClickSelector,function(a){c._trackCartClick(c)},b))};a._trackRecommendationClick=function(a,l,h){l=l?{recordData:l}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record");"ff-recommendation"!==
a.tagName.toLowerCase()&&(a=Polymer.dom(a),a=b.common.getParentElementByName(a,"ff-recommendation"));if(l){var d={type:"recommendationClick"};d.mainId=a.recordId;d.id=e(l.recordData)||f(l.recordData);this.appendMasterArticleNumber(d,l.recordData);this.appendUserId(d);h&&(d.always=h);g.recommendationClick(d)}};a._trackCheckoutClick=function(a,e,h){if(e=this.getRecordElement(a,e)){var k={id:f(e.recordData),price:d(e.recordData),query:e.recordData.record.__FFCartQuery__||b.communication.Util.getQueryFromSearchParams()};
this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);g.checkout(k)}else console.log("no record element found. tracking not possible.")};a._trackCartClick=function(a,e,h){e=this.getRecordElement(a,e);var k={id:f(e.recordData),price:d(e.recordData),query:b.communication.Util.getQueryFromSearchParams()};this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,
e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);g.cart(k)};a._trackProductClick=function(a,e,h){a=this.getRecordElement(a,e);e=b.communication.FFCommunicationEventAggregator.currentSearchResult;var d;a:{for(d=0;d<e.resultsPerPageList.length;d++){var k=e.resultsPerPageList[d];if(1==k.selected){d=k.value;break a}}d=void 0}k=a.recordData.position||a.recordData.record.__ORIG_POSITION__;e={query:b.communication.Util.getQueryFromSearchParams(),page:e.paging.currentPage,
id:f(a.recordData),pos:k,origPos:a.recordData.record.__ORIG_POSITION__||k,pageSize:d,origPageSize:e.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(e,a.recordData);this.appendCampaign(e,a.recordData);this.appendInstoreAds(e,a.recordData);this.appendTitle(e,a.recordData);this.appendUserId(e);h&&(e.always=h);g.click(e)}})(d.trackingBehavior||(d.trackingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){b=b.elements||(b.elements={});b.trackingBindingBehavior=[b.bindActionBehavior,b.trackingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){var b=Polymer,b=b.Gestures;a.bind=function(a,d,e){return(a=(e?e:Polymer.dom(this)).querySelector(a))?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindElement=function(a,d){return a?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindAll=function(a,d,e){if(a=(e?e:Polymer.dom(this)).querySelectorAll(a)){for(e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",d);return!0}return!1};a.bindElements=function(a,d){if(a){for(var e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",
d);return!0}return!1};a.unbind=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelector(a);b.remove(a,"tap",d)};a.unbindAll=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelectorAll(a);for(e=0;e<a.length;e++)b.remove(a[e],"tap",d)}})(b.bindActionBehavior||(b.bindActionBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){function b(a){var c=a&&a.nodeName?a:a.currentTarget;try{c.__transitionActive__=!1,c.removeEventListener("transitionend",b),"0px"!==c.style.height?(f(c,!1),c.style.height="",c.style.overflow="",setTimeout(function(){f(c,!0)})):f(c,!0)}catch(e){console.log(e)}finally{if(c&&c.__collapseCallback__){var l=c.__collapseCallback__;delete c.__collapseCallback__;setTimeout(function(){try{l()}catch(a){console.log(a)}},16)}}}function f(a,c){a.style["transition-duration"]=
!0===c?"":"0ms"}function d(a){a=a.getBoundingClientRect();for(var c in a)if(0!==a[c])return!0;return!1}function e(a){return a.getBoundingClientRect().height+"px"}function k(a,c,l,k){!0!==a.__transitionActive__&&(a.__transitionActive__=!0,k&&(a.__collapseCallback__=k),k=window.getComputedStyle(a),c=(k=k["transition-duration"]||k.transitionDuration)&&"0"!==k.replace(/\D/g,"")&&c,f(a,!1),c&&d(a)&&(k=e(a),"auto"===l&&(a.style.height="",l=e(a)),a.style.height=k,a.offsetHeight=a.offsetHeight,f(a,c),a.addEventListener("transitionend",
b)),"0px"===l?(a.style.overflow="hidden",a.removeAttribute("opened")):a.setAttribute("opened",""),a.style.height=l,c&&d(a)||(a.offsetHeight=a.offsetHeight,b(a)))}a._hide=function(a,c,b){void 0===c&&(c=!0);try{k(a,c,"0px",b)}catch(e){console.log(e)}};a._show=function(a,c,b){void 0===c&&(c=!0);try{k(a,c,"auto",b)}catch(e){console.log(e)}};a._toggle=function(a,c,b){void 0===c&&(c=!0);var f=e(a).replace(/\D/g,""),g=a.hasAttribute("opened");0<parseFloat(f)&&!1===g?this._hide(a,c,b):!1===g?this._show(a,
c,b):this._hide(a,c,b)}})(b.collapseElementsBehavior||(b.collapseElementsBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){a.properties={toggleFunctionName:{type:String},immediate:{type:Boolean},attributeName:{type:String},stateOneValue:{type:String},stateTwoValue:{type:String}};a.created=function(){var a=this;if(this[this.toggleFunctionName]){var b=this[this.toggleFunctionName];this.toggleFunctionName=function(){b.apply(arguments);a.toggleAttribute()}}if(!this.stateOneValue){var d=this.style[this.attributeName];this.stateOneValue=d?d:""}this.immediate&&this.toggleAttribute()};a.toggleAttribute=
function(){this.style[this.attributeName]=this.style[this.attributeName]===this.stateOneValue?this.stateTwoValue:this.stateOneValue};a.activateStateTwo=function(){this.style[this.attributeName]=this.stateTwoValue};a.activateStateOne=function(){this.style[this.attributeName]=this.stateOneValue}})(b.cssAttributeToggleBehavior||(b.cssAttributeToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,value:!0},productImageIdentifier:{type:String,value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"}};a.behaviors=[b.elements.bindActionBehavior];a.bindImage=function(a){this.searchLightDOM&&this._bindImage(Polymer.dom(this),a);this.searchShadowDOM&&this._bindImage(Polymer.dom(this.root))};a._bindImage=function(a,b){a=a.querySelectorAll(this.productImageIdentifier);
for(var d=0;d<a.length;d++){var e=a[d];if(!e.onerror){var k=e.attributes.getNamedItem("data-image-onerror");if(k){var h=k.nodeValue;h&&(e.onerror=function(){e.onerror=null;e.setAttribute("src",h)})}}e.setAttribute("src",b)}}})(d.imageBindingBehavior||(d.imageBindingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){b=b.elements||(b.elements={});b.imageTestBehavior=[b.bindActionBehavior,b.imageBindingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={templateString:{type:String},model:{type:Object,observer:"_modelObserver"},stampImmediate:{type:Boolean,value:!1}};a._renderer=new b.html.TemplateRenderer;a.ready=function(){this.updateTemplate();this.stampImmediate&&this.stamp()};a.stamp=function(){var a=this._renderer.render(this.templateString,this.model);Polymer.dom(this).innerHTML=a};a.updateTemplate=function(a){this.templateString=a?a:Polymer.dom(this).innerHTML};a._modelObserver=function(a,
b){this.stamp()}})(d.lightDOMTemplateBehavior||(d.lightDOMTemplateBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.__hashCodeGen=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)}return a()+a()+a()+a()};a.debugMessage=function(a){this.__hashCode||(this.__hashCode=this.__hashCodeGen(),b.common.Logger.debug(""));b.common.Logger.debug("DEBUG ["+this.tagName+" "+this.__hashCode+"] "+a)};a.created=function(){this.debugMessage("created callback invoked")};a.attached=function(){this.debugMessage("attached callback invoked")};a.detached=
function(){this.debugMessage("detached callback invoked")};a.ready=function(){this.debugMessage("ready callback invoked")}})(d.logLifeCycleCallbacksBehavior||(d.logLifeCycleCallbacksBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){var a=function(){function a(b,g){this.elementTemplate=b.node||b;-1<this.elementTemplate.nodeName.indexOf("-")&&CustomElements&&!0!==this.elementTemplate.__upgraded__&&!this.elementTemplate.clone&&(CustomElements.upgradeAll(this.elementTemplate),this.elementTemplate.__upgraded__=!0);this.type=b.type;this.parent=b.parentNode||g;this.previousSibling=b.previousSibling;this.nextSibling=b.nextSibling;try{Polymer.dom(Polymer.dom(this.elementTemplate).parentNode).removeChild(this.elementTemplate)}catch(e){}}
a.prototype.insert=function(a,b,e){var g=void 0!==a&&(void 0!==a.parentElement||Polymer.dom(a).parentNode);if(!a)try{a=this.elementTemplate.clone()}catch(h){throw this.elementTemplate+" does not implement clone()"+h;}g||(this.nextSibling?Polymer.dom(this.parent).insertBefore(a,this.nextSibling):Polymer.dom(this.parent).appendChild(a));Polymer.dom(this.parent).flush();try{b&&setTimeout(function(){b(a,e)})}catch(h){console.log(h)}};a.prototype.insertAll=function(a,b,e,g){for(var h=a.length>b.length?
a.length:b.length,c=0;c<h;c++)this.insert(a[c],e,b[c]);setTimeout(function(){try{g&&g()}catch(a){console.log(a)}})};return a}();b.InsertElementHelper=a})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.debounce("opacity",function(){this.style.opacity=1},100)}})(b.opacityToggleBehavior||(b.opacityToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function g(a){if(a=a.attributes.getNamedItem("data-redirect")){a=a.nodeValue;if(void 0!==a&&0<a.length)return a;if(this.recordData)return this.recordData.record.Deeplink;b.common.Logger.debug("no record data available for data-redirect action")}}function f(a){var b="_blank";if(a=a.attributes.getNamedItem("data-redirect-target"))a=a.nodeValue,void 0!==a&&0<a.length&&(b=a);return b}a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,
value:!0},productImageIdentifier:{type:"String",value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"},redirectIdentifier:{type:"String",value:"[data-redirect]"},redirectTargetIdentifier:{type:"String",value:"[data-redirect-target]"},recommendationIdentifier:{type:"String",value:"data-recommendation"},bindImmediate:{type:Boolean,value:!1}};a.behaviors=[b.elements.bindActionBehavior];var d=new b.communication.Tracking12;a.ready=function(){this.bindImmediate&&
(this.bindProductActions(),this.bindProductImage())};a.bindProductActions=function(){this._bindProductRedirect()};a.bindProductImage=function(){this.searchLightDOM&&this._bindProductImage(Polymer.dom(this));this.searchShadowDOM&&this._bindProductImage(Polymer.dom(this.root))};a._bindProductImage=function(a){a=a.querySelectorAll(this.productImageIdentifier);for(var f=0;f<a.length;f++){var h=a[f];if(!h.onerror){var c=h.attributes.getNamedItem("data-image-onerror");if(c){var l=c.nodeValue;l&&(h.onerror=
function(){h.onerror=null;h.setAttribute("src",l)})}}(c=h.getAttribute("data-image"))?void 0!==c&&0!==c.length&&h.setAttribute("src",c):(c=b.communication,h.setAttribute("src",this.recordData.record[c.fieldRoles?c.fieldRoles.imageUrl:""]||this.recordData.record.ImageUrl))}};a._bindProductRedirect=function(){this.searchLightDOM&&this.bindRedirect(Polymer.dom(this));this.searchShadowDOM&&this.bindRedirect(Polymer.dom(this.root))};a.bindRedirect=function(a){if(a){a=a.querySelectorAll(this.redirectIdentifier);
for(var b=0;b<a.length;b++){var f=a[b],c=Polymer.dom(f).querySelectorAll("[data-track]");if(0<c.length)for(var l=0;l<c.length;l++)c[l].attributes.removeNamedItem("data-track");this.bindElement(f,this._handleTrackingAndRedirect)}}};a._handleRedirect=function(a){var b=a.currentTarget;a=g(b);b=f(b);a&&this.redirect(a,b)};a._handleTrackingAndRedirect=function(a){a.stopPropagation();a=a.currentTarget;var b=this,h=g(a),c=f(a);h&&(a=this.getTrackingData(b),"_self"!==c?(!0===this.isRecommendation?this._trackRecommendationClick(this):
this._trackProductClick(this),this.redirect(h,c)):(a.always=function(){b.redirect(h,c)},d.click(a)))};a.getRedirectLocation=g;a.getRedirectTarget=f;a.getTrackingData=function(a){var f=b.communication.FFCommunicationEventAggregator.currentSearchResult,h;a:{for(h=0;h<f.resultsPerPageList.length;h++){var c=f.resultsPerPageList[h];if(1==c.selected){h=c.value;break a}}h=void 0}c=a.recordData.position||a.recordData.record.__ORIG_POSITION__;f={query:b.communication.Util.getQueryFromSearchParams(),page:f.paging.currentPage,
id:b.communication.Util.trackingHelper.getTrackingProductId(a.recordData),pos:c,origPos:a.recordData.record.__ORIG_POSITION__||c,pageSize:h,origPageSize:f.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(f,a.recordData);this.appendCampaign(f,a.recordData);this.appendInstoreAds(f,a.recordData);this.appendTitle(f,a.recordData);this.appendUserId(f);return f};a.redirect=function(a,b){window.open(a,b)}})(d.recordBindingBehavior||(d.recordBindingBehavior={}))})(b.elements||
(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}})(b.removeUnresolvedAttributeBehavior||(b.removeUnresolvedAttributeBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.clickSelector="[data-track='']";a.productClickSelector='[data-track="productClick"]';a.recommendationClickSelector='[data-track="recommendationClick"]';a.checkoutClickSelector='[data-track="checkoutClick"]';a.cartClickSelector='[data-track="cartClick"]';var g=new b.communication.Tracking12,f=b.communication.Util.trackingHelper.getTrackingProductId,d=b.communication.Util.trackingHelper.getPrice,e=b.communication.Util.trackingHelper.getMasterArticleNumber,k=
b.communication.Util.trackingHelper.getUserId,h=b.communication.Util.trackingHelper.getTitle;a.appendCount=function(a,b){a.count=b.count?b.count:1};a.appendInstoreAds=function(a,b){b.record.__FFInstoreAds__&&"true"===b.record.__FFInstoreAds__&&(a.instoreAds="true")};a.appendCampaign=function(a,b){b.record.__FFCampaign__&&(a.campaign=b.record.__FFCampaign__)};a.appendUserId=function(a){var b=k();b&&(a.userId=b)};a.appendTitle=function(a,b){(b=h(b))&&(a.title=b)};a.appendMasterArticleNumber=function(a,
b){(b=e(b))&&(a.masterId=b)};a.getRecordElement=function(a,e){return e?{recordData:e}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record")};a.bindClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);!0===this.isRecommendation?this.bindAll(a.clickSelector,function(a){c._trackRecommendationClick(c)},b):this.bindAll(a.clickSelector,function(a){c._trackProductClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),!0===
this.isRecommendation?this.bindAll(a.clickSelector,function(a){c._trackRecommendationClick(c)},b):this.bindAll(a.clickSelector,function(a){c._trackProductClick(c)},b))};a.bindProductClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.productClickSelector,function(a){c._trackProductClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.productClickSelector,function(a){c._trackProductClick(c)},b))};a.bindRecommendationClick=function(c){c=c||this;
if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.recommendationClickSelector,function(a){c._trackRecommendationClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.recommendationClickSelector,function(a){c._trackRecommendationClick(c)},b))};a.bindCheckoutClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.checkoutClickSelector,function(a){c._trackCheckoutClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.checkoutClickSelector,
function(a){c._trackCheckoutClick(c)},b))};a.bindCartClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.cartClickSelector,function(a){c._trackCartClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.cartClickSelector,function(a){c._trackCartClick(c)},b))};a._trackRecommendationClick=function(a,l,h){l=l?{recordData:l}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record");"ff-recommendation"!==
a.tagName.toLowerCase()&&(a=Polymer.dom(a),a=b.common.getParentElementByName(a,"ff-recommendation"));if(l){var d={type:"recommendationClick"};d.mainId=a.recordId;d.id=e(l.recordData)||f(l.recordData);this.appendMasterArticleNumber(d,l.recordData);this.appendUserId(d);h&&(d.always=h);g.recommendationClick(d)}};a._trackCheckoutClick=function(a,e,h){if(e=this.getRecordElement(a,e)){var k={id:f(e.recordData),price:d(e.recordData),query:e.recordData.record.__FFCartQuery__||b.communication.Util.getQueryFromSearchParams()};
this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);g.checkout(k)}else console.log("no record element found. tracking not possible.")};a._trackCartClick=function(a,e,h){e=this.getRecordElement(a,e);var k={id:f(e.recordData),price:d(e.recordData),query:b.communication.Util.getQueryFromSearchParams()};this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,
e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);g.cart(k)};a._trackProductClick=function(a,e,h){a=this.getRecordElement(a,e);e=b.communication.FFCommunicationEventAggregator.currentSearchResult;var d;a:{for(d=0;d<e.resultsPerPageList.length;d++){var k=e.resultsPerPageList[d];if(1==k.selected){d=k.value;break a}}d=void 0}k=a.recordData.position||a.recordData.record.__ORIG_POSITION__;e={query:b.communication.Util.getQueryFromSearchParams(),page:e.paging.currentPage,
id:f(a.recordData),pos:k,origPos:a.recordData.record.__ORIG_POSITION__||k,pageSize:d,origPageSize:e.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(e,a.recordData);this.appendCampaign(e,a.recordData);this.appendInstoreAds(e,a.recordData);this.appendTitle(e,a.recordData);this.appendUserId(e);h&&(e.always=h);g.click(e)}})(d.trackingBehavior||(d.trackingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){b=b.elements||(b.elements={});b.trackingBindingBehavior=[b.bindActionBehavior,b.trackingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){var b=Polymer,b=b.Gestures;a.bind=function(a,d,e){return(a=(e?e:Polymer.dom(this)).querySelector(a))?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindElement=function(a,d){return a?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindAll=function(a,d,e){if(a=(e?e:Polymer.dom(this)).querySelectorAll(a)){for(e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",d);return!0}return!1};a.bindElements=function(a,d){if(a){for(var e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",
d);return!0}return!1};a.unbind=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelector(a);b.remove(a,"tap",d)};a.unbindAll=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelectorAll(a);for(e=0;e<a.length;e++)b.remove(a[e],"tap",d)}})(b.bindActionBehavior||(b.bindActionBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){function b(a){var c=a&&a.nodeName?a:a.currentTarget;try{c.__transitionActive__=!1,c.removeEventListener("transitionend",b),"0px"!==c.style.height?(f(c,!1),c.style.height="",c.style.overflow="",setTimeout(function(){f(c,!0)})):f(c,!0)}catch(e){console.log(e)}finally{if(c&&c.__collapseCallback__){var l=c.__collapseCallback__;delete c.__collapseCallback__;setTimeout(function(){try{l()}catch(a){console.log(a)}},16)}}}function f(a,c){a.style["transition-duration"]=
!0===c?"":"0ms"}function d(a){a=a.getBoundingClientRect();for(var c in a)if(0!==a[c])return!0;return!1}function e(a){return a.getBoundingClientRect().height+"px"}function k(a,c,l,k){!0!==a.__transitionActive__&&(a.__transitionActive__=!0,k&&(a.__collapseCallback__=k),k=window.getComputedStyle(a),c=(k=k["transition-duration"]||k.transitionDuration)&&"0"!==k.replace(/\D/g,"")&&c,f(a,!1),c&&d(a)&&(k=e(a),"auto"===l&&(a.style.height="",l=e(a)),a.style.height=k,a.offsetHeight=a.offsetHeight,f(a,c),a.addEventListener("transitionend",
b)),"0px"===l?(a.style.overflow="hidden",a.removeAttribute("opened")):a.setAttribute("opened",""),a.style.height=l,c&&d(a)||(a.offsetHeight=a.offsetHeight,b(a)))}a._hide=function(a,c,b){void 0===c&&(c=!0);try{k(a,c,"0px",b)}catch(e){console.log(e)}};a._show=function(a,c,b){void 0===c&&(c=!0);try{k(a,c,"auto",b)}catch(e){console.log(e)}};a._toggle=function(a,c,b){void 0===c&&(c=!0);var f=e(a).replace(/\D/g,""),g=a.hasAttribute("opened");0<parseFloat(f)&&!1===g?this._hide(a,c,b):!1===g?this._show(a,
c,b):this._hide(a,c,b)}})(b.collapseElementsBehavior||(b.collapseElementsBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){a.properties={toggleFunctionName:{type:String},immediate:{type:Boolean},attributeName:{type:String},stateOneValue:{type:String},stateTwoValue:{type:String}};a.created=function(){var a=this;if(this[this.toggleFunctionName]){var b=this[this.toggleFunctionName];this.toggleFunctionName=function(){b.apply(arguments);a.toggleAttribute()}}if(!this.stateOneValue){var d=this.style[this.attributeName];this.stateOneValue=d?d:""}this.immediate&&this.toggleAttribute()};a.toggleAttribute=
function(){this.style[this.attributeName]=this.style[this.attributeName]===this.stateOneValue?this.stateTwoValue:this.stateOneValue};a.activateStateTwo=function(){this.style[this.attributeName]=this.stateTwoValue};a.activateStateOne=function(){this.style[this.attributeName]=this.stateOneValue}})(b.cssAttributeToggleBehavior||(b.cssAttributeToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,value:!0},productImageIdentifier:{type:String,value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"}};a.behaviors=[b.elements.bindActionBehavior];a.bindImage=function(a){this.searchLightDOM&&this._bindImage(Polymer.dom(this),a);this.searchShadowDOM&&this._bindImage(Polymer.dom(this.root))};a._bindImage=function(a,b){a=a.querySelectorAll(this.productImageIdentifier);
for(var d=0;d<a.length;d++){var e=a[d];if(!e.onerror){var k=e.attributes.getNamedItem("data-image-onerror");if(k){var h=k.nodeValue;h&&(e.onerror=function(){e.onerror=null;e.setAttribute("src",h)})}}e.setAttribute("src",b)}}})(d.imageBindingBehavior||(d.imageBindingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){b=b.elements||(b.elements={});b.imageTestBehavior=[b.bindActionBehavior,b.imageBindingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={templateString:{type:String},model:{type:Object,observer:"_modelObserver"},stampImmediate:{type:Boolean,value:!1}};a._renderer=new b.html.TemplateRenderer;a.ready=function(){this.updateTemplate();this.stampImmediate&&this.stamp()};a.stamp=function(){var a=this._renderer.render(this.templateString,this.model);Polymer.dom(this).innerHTML=a};a.updateTemplate=function(a){this.templateString=a?a:Polymer.dom(this).innerHTML};a._modelObserver=function(a,
b){this.stamp()}})(d.lightDOMTemplateBehavior||(d.lightDOMTemplateBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.__hashCodeGen=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)}return a()+a()+a()+a()};a.debugMessage=function(a){this.__hashCode||(this.__hashCode=this.__hashCodeGen(),b.common.Logger.debug(""));b.common.Logger.debug("DEBUG ["+this.tagName+" "+this.__hashCode+"] "+a)};a.created=function(){this.debugMessage("created callback invoked")};a.attached=function(){this.debugMessage("attached callback invoked")};a.detached=
function(){this.debugMessage("detached callback invoked")};a.ready=function(){this.debugMessage("ready callback invoked")}})(d.logLifeCycleCallbacksBehavior||(d.logLifeCycleCallbacksBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){var a=function(){function a(b,g){this.elementTemplate=b.node||b;-1<this.elementTemplate.nodeName.indexOf("-")&&CustomElements&&!0!==this.elementTemplate.__upgraded__&&!this.elementTemplate.clone&&(CustomElements.upgradeAll(this.elementTemplate),this.elementTemplate.__upgraded__=!0);this.type=b.type;this.parent=b.parentNode||g;this.previousSibling=b.previousSibling;this.nextSibling=b.nextSibling;try{Polymer.dom(Polymer.dom(this.elementTemplate).parentNode).removeChild(this.elementTemplate)}catch(e){}}
a.prototype.insert=function(a,b,e){var g=void 0!==a&&(void 0!==a.parentElement||Polymer.dom(a).parentNode);if(!a)try{a=this.elementTemplate.clone()}catch(h){throw this.elementTemplate+" does not implement clone()"+h;}g||(this.nextSibling?Polymer.dom(this.parent).insertBefore(a,this.nextSibling):Polymer.dom(this.parent).appendChild(a));Polymer.dom(this.parent).flush();try{b&&setTimeout(function(){b(a,e)})}catch(h){console.log(h)}};a.prototype.insertAll=function(a,b,e,g){for(var h=a.length>b.length?
a.length:b.length,c=0;c<h;c++)this.insert(a[c],e,b[c]);setTimeout(function(){try{g&&g()}catch(a){console.log(a)}})};return a}();b.InsertElementHelper=a})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.debounce("opacity",function(){this.style.opacity=1},100)}})(b.opacityToggleBehavior||(b.opacityToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function g(a){if(a=a.attributes.getNamedItem("data-redirect")){a=a.nodeValue;if(void 0!==a&&0<a.length)return a;if(this.recordData)return this.recordData.record.Deeplink;b.common.Logger.debug("no record data available for data-redirect action")}}function f(a){var b="_blank";if(a=a.attributes.getNamedItem("data-redirect-target"))a=a.nodeValue,void 0!==a&&0<a.length&&(b=a);return b}a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,
value:!0},productImageIdentifier:{type:"String",value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"},redirectIdentifier:{type:"String",value:"[data-redirect]"},redirectTargetIdentifier:{type:"String",value:"[data-redirect-target]"},recommendationIdentifier:{type:"String",value:"data-recommendation"},bindImmediate:{type:Boolean,value:!1}};a.behaviors=[b.elements.bindActionBehavior];var d=new b.communication.Tracking12;a.ready=function(){this.bindImmediate&&
(this.bindProductActions(),this.bindProductImage())};a.bindProductActions=function(){this._bindProductRedirect()};a.bindProductImage=function(){this.searchLightDOM&&this._bindProductImage(Polymer.dom(this));this.searchShadowDOM&&this._bindProductImage(Polymer.dom(this.root))};a._bindProductImage=function(a){a=a.querySelectorAll(this.productImageIdentifier);for(var f=0;f<a.length;f++){var g=a[f];if(!g.onerror){var c=g.attributes.getNamedItem("data-image-onerror");if(c){var l=c.nodeValue;l&&(g.onerror=
function(){g.onerror=null;g.setAttribute("src",l)})}}(c=g.getAttribute("data-image"))?void 0!==c&&0!==c.length&&g.setAttribute("src",c):(c=b.communication,g.setAttribute("src",this.recordData.record[c.fieldRoles?c.fieldRoles.imageUrl:""]||this.recordData.record.ImageUrl))}};a._bindProductRedirect=function(){this.searchLightDOM&&this.bindRedirect(Polymer.dom(this));this.searchShadowDOM&&this.bindRedirect(Polymer.dom(this.root))};a.bindRedirect=function(a){if(a){a=a.querySelectorAll(this.redirectIdentifier);
for(var b=0;b<a.length;b++){var f=a[b],c=Polymer.dom(f).querySelectorAll("[data-track]");if(0<c.length)for(var l=0;l<c.length;l++)c[l].attributes.removeNamedItem("data-track");this.bindElement(f,this._handleTrackingAndRedirect)}}};a._handleRedirect=function(a){var b=a.currentTarget;a=g(b);b=f(b);a&&this.redirect(a,b)};a._handleTrackingAndRedirect=function(a){a.stopPropagation();a=a.currentTarget;var b=this,h=g(a),c=f(a);h&&(a=this.getTrackingData(b),"_self"!==c?(!0===this.isRecommendation?this._trackRecommendationClick(this):
this._trackProductClick(this),this.redirect(h,c)):(a.always=function(){b.redirect(h,c)},d.click(a)))};a.getRedirectLocation=g;a.getRedirectTarget=f;a.getTrackingData=function(a){var f=b.communication.FFCommunicationEventAggregator.currentSearchResult,g;a:{for(g=0;g<f.resultsPerPageList.length;g++){var c=f.resultsPerPageList[g];if(1==c.selected){g=c.value;break a}}g=void 0}c=a.recordData.position||a.recordData.record.__ORIG_POSITION__;f={query:b.communication.Util.getQueryFromSearchParams(),page:f.paging.currentPage,
id:b.communication.Util.trackingHelper.getTrackingProductId(a.recordData),pos:c,origPos:a.recordData.record.__ORIG_POSITION__||c,pageSize:g,origPageSize:f.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(f,a.recordData);this.appendCampaign(f,a.recordData);this.appendInstoreAds(f,a.recordData);this.appendTitle(f,a.recordData);this.appendUserId(f);return f};a.redirect=function(a,b){window.open(a,b)}})(d.recordBindingBehavior||(d.recordBindingBehavior={}))})(b.elements||
(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}})(b.removeUnresolvedAttributeBehavior||(b.removeUnresolvedAttributeBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.clickSelector="[data-track='']";a.productClickSelector='[data-track="productClick"]';a.recommendationClickSelector='[data-track="recommendationClick"]';a.checkoutClickSelector='[data-track="checkoutClick"]';a.cartClickSelector='[data-track="cartClick"]';var g=new b.communication.Tracking12,f=b.communication.Util.trackingHelper.getTrackingProductId,d=b.communication.Util.trackingHelper.getPrice,e=b.communication.Util.trackingHelper.getMasterArticleNumber,k=
b.communication.Util.trackingHelper.getUserId,h=b.communication.Util.trackingHelper.getTitle;a.appendCount=function(a,b){a.count=b.count?b.count:1};a.appendInstoreAds=function(a,b){b.record.__FFInstoreAds__&&"true"===b.record.__FFInstoreAds__&&(a.instoreAds="true")};a.appendCampaign=function(a,b){b.record.__FFCampaign__&&(a.campaign=b.record.__FFCampaign__)};a.appendUserId=function(a){var b=k();b&&(a.userId=b)};a.appendTitle=function(a,b){(b=h(b))&&(a.title=b)};a.appendMasterArticleNumber=function(a,
b){(b=e(b))&&(a.masterId=b)};a.getRecordElement=function(a,e){return e?{recordData:e}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record")};a.bindClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);!0===this.isRecommendation?this.bindAll(a.clickSelector,function(a){c._trackRecommendationClick(c)},b):this.bindAll(a.clickSelector,function(a){c._trackProductClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),!0===
this.isRecommendation?this.bindAll(a.clickSelector,function(a){c._trackRecommendationClick(c)},b):this.bindAll(a.clickSelector,function(a){c._trackProductClick(c)},b))};a.bindProductClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.productClickSelector,function(a){c._trackProductClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.productClickSelector,function(a){c._trackProductClick(c)},b))};a.bindRecommendationClick=function(c){c=c||this;
if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.recommendationClickSelector,function(a){c._trackRecommendationClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.recommendationClickSelector,function(a){c._trackRecommendationClick(c)},b))};a.bindCheckoutClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.checkoutClickSelector,function(a){c._trackCheckoutClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.checkoutClickSelector,
function(a){c._trackCheckoutClick(c)},b))};a.bindCartClick=function(c){c=c||this;if(this.searchShadowDOM){var b=Polymer.dom(c.root);this.bindAll(a.cartClickSelector,function(a){c._trackCartClick(c)},b)}this.searchLightDOM&&(b=Polymer.dom(c),this.bindAll(a.cartClickSelector,function(a){c._trackCartClick(c)},b))};a._trackRecommendationClick=function(a,l,h){l=l?{recordData:l}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record");"ff-recommendation"!==
a.tagName.toLowerCase()&&(a=Polymer.dom(a),a=b.common.getParentElementByName(a,"ff-recommendation"));if(l){var d={type:"recommendationClick"};d.mainId=a.recordId;d.id=e(l.recordData)||f(l.recordData);this.appendMasterArticleNumber(d,l.recordData);this.appendUserId(d);h&&(d.always=h);g.recommendationClick(d)}};a._trackCheckoutClick=function(a,e,h){if(e=this.getRecordElement(a,e)){var k={id:f(e.recordData),price:d(e.recordData),query:e.recordData.record.__FFCartQuery__||b.communication.Util.getQueryFromSearchParams()};
this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);g.checkout(k)}else console.log("no record element found. tracking not possible.")};a._trackCartClick=function(a,e,h){e=this.getRecordElement(a,e);var k={id:f(e.recordData),price:d(e.recordData),query:b.communication.Util.getQueryFromSearchParams()};this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,
e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);g.cart(k)};a._trackProductClick=function(a,e,h){a=this.getRecordElement(a,e);e=b.communication.FFCommunicationEventAggregator.currentSearchResult;var d;a:{for(d=0;d<e.resultsPerPageList.length;d++){var k=e.resultsPerPageList[d];if(1==k.selected){d=k.value;break a}}d=void 0}k=a.recordData.position||a.recordData.record.__ORIG_POSITION__;e={query:b.communication.Util.getQueryFromSearchParams(),page:e.paging.currentPage,
id:f(a.recordData),pos:k,origPos:a.recordData.record.__ORIG_POSITION__||k,pageSize:d,origPageSize:e.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(e,a.recordData);this.appendCampaign(e,a.recordData);this.appendInstoreAds(e,a.recordData);this.appendTitle(e,a.recordData);this.appendUserId(e);h&&(e.always=h);g.click(e)}})(d.trackingBehavior||(d.trackingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){b=b.elements||(b.elements={});b.trackingBindingBehavior=[b.bindActionBehavior,b.trackingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){var b=Polymer,b=b.Gestures;a.bind=function(a,d,e){return(a=(e?e:Polymer.dom(this)).querySelector(a))?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindElement=function(a,d){return a?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindAll=function(a,d,e){if(a=(e?e:Polymer.dom(this)).querySelectorAll(a)){for(e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",d);return!0}return!1};a.bindElements=function(a,d){if(a){for(var e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",
d);return!0}return!1};a.unbind=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelector(a);b.remove(a,"tap",d)};a.unbindAll=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelectorAll(a);for(e=0;e<a.length;e++)b.remove(a[e],"tap",d)}})(b.bindActionBehavior||(b.bindActionBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){function b(a){var c=a&&a.nodeName?a:a.currentTarget;try{c.__transitionActive__=!1,c.removeEventListener("transitionend",b),"0px"!==c.style.height?(f(c,!1),c.style.height="",c.style.overflow="",setTimeout(function(){f(c,!0)})):f(c,!0)}catch(e){console.log(e)}finally{if(c&&c.__collapseCallback__){var l=c.__collapseCallback__;delete c.__collapseCallback__;setTimeout(function(){try{l()}catch(a){console.log(a)}},16)}}}function f(a,c){a.style["transition-duration"]=
!0===c?"":"0ms"}function d(a){a=a.getBoundingClientRect();for(var c in a)if(0!==a[c])return!0;return!1}function e(a){return a.getBoundingClientRect().height+"px"}function k(a,c,l,k){!0!==a.__transitionActive__&&(a.__transitionActive__=!0,k&&(a.__collapseCallback__=k),k=window.getComputedStyle(a),c=(k=k["transition-duration"]||k.transitionDuration)&&"0"!==k.replace(/\D/g,"")&&c,f(a,!1),c&&d(a)&&(k=e(a),"auto"===l&&(a.style.height="",l=e(a)),a.style.height=k,a.offsetHeight=a.offsetHeight,f(a,c),a.addEventListener("transitionend",
b)),"0px"===l?(a.style.overflow="hidden",a.removeAttribute("opened")):a.setAttribute("opened",""),a.style.height=l,c&&d(a)||(a.offsetHeight=a.offsetHeight,b(a)))}a._hide=function(a,c,b){void 0===c&&(c=!0);try{k(a,c,"0px",b)}catch(e){console.log(e)}};a._show=function(a,c,b){void 0===c&&(c=!0);try{k(a,c,"auto",b)}catch(e){console.log(e)}};a._toggle=function(a,c,b){void 0===c&&(c=!0);var f=e(a).replace(/\D/g,""),g=a.hasAttribute("opened");0<parseFloat(f)&&!1===g?this._hide(a,c,b):!1===g?this._show(a,
c,b):this._hide(a,c,b)}})(b.collapseElementsBehavior||(b.collapseElementsBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){a.properties={toggleFunctionName:{type:String},immediate:{type:Boolean},attributeName:{type:String},stateOneValue:{type:String},stateTwoValue:{type:String}};a.created=function(){var a=this;if(this[this.toggleFunctionName]){var b=this[this.toggleFunctionName];this.toggleFunctionName=function(){b.apply(arguments);a.toggleAttribute()}}if(!this.stateOneValue){var d=this.style[this.attributeName];this.stateOneValue=d?d:""}this.immediate&&this.toggleAttribute()};a.toggleAttribute=
function(){this.style[this.attributeName]=this.style[this.attributeName]===this.stateOneValue?this.stateTwoValue:this.stateOneValue};a.activateStateTwo=function(){this.style[this.attributeName]=this.stateTwoValue};a.activateStateOne=function(){this.style[this.attributeName]=this.stateOneValue}})(b.cssAttributeToggleBehavior||(b.cssAttributeToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,value:!0},productImageIdentifier:{type:String,value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"}};a.behaviors=[b.elements.bindActionBehavior];a.bindImage=function(a){this.searchLightDOM&&this._bindImage(Polymer.dom(this),a);this.searchShadowDOM&&this._bindImage(Polymer.dom(this.root))};a._bindImage=function(a,b){a=a.querySelectorAll(this.productImageIdentifier);
for(var d=0;d<a.length;d++){var e=a[d];if(!e.onerror){var k=e.attributes.getNamedItem("data-image-onerror");if(k){var h=k.nodeValue;h&&(e.onerror=function(){e.onerror=null;e.setAttribute("src",h)})}}e.setAttribute("src",b)}}})(d.imageBindingBehavior||(d.imageBindingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){b=b.elements||(b.elements={});b.imageTestBehavior=[b.bindActionBehavior,b.imageBindingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={templateString:{type:String},model:{type:Object,observer:"_modelObserver"},stampImmediate:{type:Boolean,value:!1}};a._renderer=new b.html.TemplateRenderer;a.ready=function(){this.updateTemplate();this.stampImmediate&&this.stamp()};a.stamp=function(){var a=this._renderer.render(this.templateString,this.model);Polymer.dom(this).innerHTML=a};a.updateTemplate=function(a){this.templateString=a?a:Polymer.dom(this).innerHTML};a._modelObserver=function(a,
b){this.stamp()}})(d.lightDOMTemplateBehavior||(d.lightDOMTemplateBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.__hashCodeGen=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)}return a()+a()+a()+a()};a.debugMessage=function(a){this.__hashCode||(this.__hashCode=this.__hashCodeGen(),b.common.Logger.debug(""));b.common.Logger.debug("DEBUG ["+this.tagName+" "+this.__hashCode+"] "+a)};a.created=function(){this.debugMessage("created callback invoked")};a.attached=function(){this.debugMessage("attached callback invoked")};a.detached=
function(){this.debugMessage("detached callback invoked")};a.ready=function(){this.debugMessage("ready callback invoked")}})(d.logLifeCycleCallbacksBehavior||(d.logLifeCycleCallbacksBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){var a=function(){function a(b,g){this.elementTemplate=b.node||b;-1<this.elementTemplate.nodeName.indexOf("-")&&CustomElements&&!0!==this.elementTemplate.__upgraded__&&!this.elementTemplate.clone&&(CustomElements.upgradeAll(this.elementTemplate),this.elementTemplate.__upgraded__=!0);this.type=b.type;this.parent=b.parentNode||g;this.previousSibling=b.previousSibling;this.nextSibling=b.nextSibling;try{Polymer.dom(Polymer.dom(this.elementTemplate).parentNode).removeChild(this.elementTemplate)}catch(e){}}
a.prototype.insert=function(a,b,e){var g=void 0!==a&&(void 0!==a.parentElement||Polymer.dom(a).parentNode);if(!a)try{a=this.elementTemplate.clone()}catch(h){throw this.elementTemplate+" does not implement clone()"+h;}g||(this.nextSibling?Polymer.dom(this.parent).insertBefore(a,this.nextSibling):Polymer.dom(this.parent).appendChild(a));Polymer.dom(this.parent).flush();try{b&&setTimeout(function(){b(a,e)})}catch(h){console.log(h)}};a.prototype.insertAll=function(a,b,e,g){for(var h=a.length>b.length?
a.length:b.length,c=0;c<h;c++)this.insert(a[c],e,b[c]);setTimeout(function(){try{g&&g()}catch(a){console.log(a)}})};return a}();b.InsertElementHelper=a})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.debounce("opacity",function(){this.style.opacity=1},100)}})(b.opacityToggleBehavior||(b.opacityToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function g(a){if(a=a.attributes.getNamedItem("data-redirect")){a=a.nodeValue;if(void 0!==a&&0<a.length)return a;if(this.recordData)return this.recordData.record.Deeplink;b.common.Logger.debug("no record data available for data-redirect action")}}function f(a){var b="_blank";if(a=a.attributes.getNamedItem("data-redirect-target"))a=a.nodeValue,void 0!==a&&0<a.length&&(b=a);return b}a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,
value:!0},productImageIdentifier:{type:"String",value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"},redirectIdentifier:{type:"String",value:"[data-redirect]"},redirectTargetIdentifier:{type:"String",value:"[data-redirect-target]"},recommendationIdentifier:{type:"String",value:"data-recommendation"},bindImmediate:{type:Boolean,value:!1}};a.behaviors=[b.elements.bindActionBehavior];var d=new b.communication.Tracking12;a.ready=function(){this.bindImmediate&&
(this.bindProductActions(),this.bindProductImage())};a.bindProductActions=function(){this._bindProductRedirect()};a.bindProductImage=function(){this.searchLightDOM&&this._bindProductImage(Polymer.dom(this));this.searchShadowDOM&&this._bindProductImage(Polymer.dom(this.root))};a._bindProductImage=function(a){a=a.querySelectorAll(this.productImageIdentifier);for(var f=0;f<a.length;f++){var g=a[f];if(!g.onerror){var c=g.attributes.getNamedItem("data-image-onerror");if(c){var l=c.nodeValue;l&&(g.onerror=
function(){g.onerror=null;g.setAttribute("src",l)})}}(c=g.getAttribute("data-image"))?void 0!==c&&0!==c.length&&g.setAttribute("src",c):(c=b.communication,g.setAttribute("src",this.recordData.record[c.fieldRoles?c.fieldRoles.imageUrl:""]||this.recordData.record.ImageUrl))}};a._bindProductRedirect=function(){this.searchLightDOM&&this.bindRedirect(Polymer.dom(this));this.searchShadowDOM&&this.bindRedirect(Polymer.dom(this.root))};a.bindRedirect=function(a){if(a){a=a.querySelectorAll(this.redirectIdentifier);
for(var b=0;b<a.length;b++){var f=a[b],c=Polymer.dom(f).querySelectorAll("[data-track]");if(0<c.length)for(var l=0;l<c.length;l++)c[l].attributes.removeNamedItem("data-track");this.bindElement(f,this._handleTrackingAndRedirect)}}};a._handleRedirect=function(a){var b=a.currentTarget;a=g(b);b=f(b);a&&this.redirect(a,b)};a._handleTrackingAndRedirect=function(a){a.stopPropagation();a=a.currentTarget;var b=this,h=g(a),c=f(a);h&&(a=this.getTrackingData(b),"_self"!==c?(!0===this.isRecommendation?this._trackRecommendationClick(this):
this._trackProductClick(this),this.redirect(h,c)):(a.always=function(){b.redirect(h,c)},d.click(a)))};a.getRedirectLocation=g;a.getRedirectTarget=f;a.getTrackingData=function(a){var f=b.communication.FFCommunicationEventAggregator.currentSearchResult,g;a:{for(g=0;g<f.resultsPerPageList.length;g++){var c=f.resultsPerPageList[g];if(1==c.selected){g=c.value;break a}}g=void 0}c=a.recordData.position||a.recordData.record.__ORIG_POSITION__;f={query:b.communication.Util.getQueryFromSearchParams(),page:f.paging.currentPage,
id:b.communication.Util.trackingHelper.getTrackingProductId(a.recordData),pos:c,origPos:a.recordData.record.__ORIG_POSITION__||c,pageSize:g,origPageSize:f.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(f,a.recordData);this.appendCampaign(f,a.recordData);this.appendInstoreAds(f,a.recordData);this.appendTitle(f,a.recordData);this.appendUserId(f);return f};a.redirect=function(a,b){window.open(a,b)}})(d.recordBindingBehavior||(d.recordBindingBehavior={}))})(b.elements||
(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}})(b.removeUnresolvedAttributeBehavior||(b.removeUnresolvedAttributeBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.clickSelector="[data-track='']";a.productClickSelector='[data-track="productClick"]';a.recommendationClickSelector='[data-track="recommendationClick"]';a.checkoutClickSelector='[data-track="checkoutClick"]';a.cartClickSelector='[data-track="cartClick"]';var g=new b.communication.Tracking12,f=b.communication.Util.trackingHelper.getTrackingProductId,d=b.communication.Util.trackingHelper.getPrice,e=b.communication.Util.trackingHelper.getMasterArticleNumber,k=
b.communication.Util.trackingHelper.getUserId,h=b.communication.Util.trackingHelper.getTitle;a.appendCount=function(a,b){a.count=b.count?b.count:1};a.appendInstoreAds=function(a,b){b.record.__FFInstoreAds__&&"true"===b.record.__FFInstoreAds__&&(a.instoreAds="true")};a.appendCampaign=function(a,b){b.record.__FFCampaign__&&(a.campaign=b.record.__FFCampaign__)};a.appendUserId=function(a){var b=k();b&&(a.userId=b)};a.appendTitle=function(a,b){(b=h(b))&&(a.title=b)};a.appendMasterArticleNumber=function(a,
b){(b=e(b))&&(a.masterId=b)};a.getRecordElement=function(a,e){return e?{recordData:e}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record")};a.bindClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);!0===this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),!0===
this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e))};a.bindProductClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e))};a.bindRecommendationClick=function(b){b=b||this;
if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e))};a.bindCheckoutClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.checkoutClickSelector,function(a){b._trackCheckoutClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.checkoutClickSelector,
function(a){b._trackCheckoutClick(b)},e))};a.bindCartClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e))};a._trackRecommendationClick=function(a,l,h){l=l?{recordData:l}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record");"ff-recommendation"!==
a.tagName.toLowerCase()&&(a=Polymer.dom(a),a=b.common.getParentElementByName(a,"ff-recommendation"));if(l){var d={type:"recommendationClick"};d.mainId=a.recordId;d.id=e(l.recordData)||f(l.recordData);this.appendMasterArticleNumber(d,l.recordData);this.appendUserId(d);h&&(d.always=h);g.recommendationClick(d)}};a._trackCheckoutClick=function(a,e,h){if(e=this.getRecordElement(a,e)){var k={id:f(e.recordData),price:d(e.recordData),query:e.recordData.record.__FFCartQuery__||b.communication.Util.getQueryFromSearchParams()};
this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);g.checkout(k)}else console.log("no record element found. tracking not possible.")};a._trackCartClick=function(a,e,h){e=this.getRecordElement(a,e);var k={id:f(e.recordData),price:d(e.recordData),query:b.communication.Util.getQueryFromSearchParams()};this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,
e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);g.cart(k)};a._trackProductClick=function(a,e,h){a=this.getRecordElement(a,e);e=b.communication.FFCommunicationEventAggregator.currentSearchResult;var d;a:{for(d=0;d<e.resultsPerPageList.length;d++){var k=e.resultsPerPageList[d];if(1==k.selected){d=k.value;break a}}d=void 0}k=a.recordData.position||a.recordData.record.__ORIG_POSITION__;e={query:b.communication.Util.getQueryFromSearchParams(),page:e.paging.currentPage,
id:f(a.recordData),pos:k,origPos:a.recordData.record.__ORIG_POSITION__||k,pageSize:d,origPageSize:e.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(e,a.recordData);this.appendCampaign(e,a.recordData);this.appendInstoreAds(e,a.recordData);this.appendTitle(e,a.recordData);this.appendUserId(e);h&&(e.always=h);g.click(e)}})(d.trackingBehavior||(d.trackingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){b=b.elements||(b.elements={});b.trackingBindingBehavior=[b.bindActionBehavior,b.trackingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){var b=Polymer,b=b.Gestures;a.bind=function(a,d,e){return(a=(e?e:Polymer.dom(this)).querySelector(a))?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindElement=function(a,d){return a?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindAll=function(a,d,e){if(a=(e?e:Polymer.dom(this)).querySelectorAll(a)){for(e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",d);return!0}return!1};a.bindElements=function(a,d){if(a){for(var e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",
d);return!0}return!1};a.unbind=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelector(a);b.remove(a,"tap",d)};a.unbindAll=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelectorAll(a);for(e=0;e<a.length;e++)b.remove(a[e],"tap",d)}})(b.bindActionBehavior||(b.bindActionBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){function b(a){var c=a&&a.nodeName?a:a.currentTarget;try{c.__transitionActive__=!1,c.removeEventListener("transitionend",b),"0px"!==c.style.height?(f(c,!1),c.style.height="",c.style.overflow="",setTimeout(function(){f(c,!0)})):f(c,!0)}catch(e){console.log(e)}finally{if(c&&c.__collapseCallback__){var l=c.__collapseCallback__;delete c.__collapseCallback__;setTimeout(function(){try{l()}catch(a){console.log(a)}},16)}}}function f(a,b){a.style["transition-duration"]=
!0===b?"":"0ms"}function d(a){a=a.getBoundingClientRect();for(var b in a)if(0!==a[b])return!0;return!1}function e(a){return a.getBoundingClientRect().height+"px"}function k(a,c,l,k){!0!==a.__transitionActive__&&(a.__transitionActive__=!0,k&&(a.__collapseCallback__=k),k=window.getComputedStyle(a),c=(k=k["transition-duration"]||k.transitionDuration)&&"0"!==k.replace(/\D/g,"")&&c,f(a,!1),c&&d(a)&&(k=e(a),"auto"===l&&(a.style.height="",l=e(a)),a.style.height=k,a.offsetHeight=a.offsetHeight,f(a,c),a.addEventListener("transitionend",
b)),"0px"===l?(a.style.overflow="hidden",a.removeAttribute("opened")):a.setAttribute("opened",""),a.style.height=l,c&&d(a)||(a.offsetHeight=a.offsetHeight,b(a)))}a._hide=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"0px",e)}catch(f){console.log(f)}};a._show=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"auto",e)}catch(f){console.log(f)}};a._toggle=function(a,b,f){void 0===b&&(b=!0);var g=e(a).replace(/\D/g,""),d=a.hasAttribute("opened");0<parseFloat(g)&&!1===d?this._hide(a,b,f):!1===d?this._show(a,
b,f):this._hide(a,b,f)}})(b.collapseElementsBehavior||(b.collapseElementsBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){a.properties={toggleFunctionName:{type:String},immediate:{type:Boolean},attributeName:{type:String},stateOneValue:{type:String},stateTwoValue:{type:String}};a.created=function(){var a=this;if(this[this.toggleFunctionName]){var b=this[this.toggleFunctionName];this.toggleFunctionName=function(){b.apply(arguments);a.toggleAttribute()}}if(!this.stateOneValue){var d=this.style[this.attributeName];this.stateOneValue=d?d:""}this.immediate&&this.toggleAttribute()};a.toggleAttribute=
function(){this.style[this.attributeName]=this.style[this.attributeName]===this.stateOneValue?this.stateTwoValue:this.stateOneValue};a.activateStateTwo=function(){this.style[this.attributeName]=this.stateTwoValue};a.activateStateOne=function(){this.style[this.attributeName]=this.stateOneValue}})(b.cssAttributeToggleBehavior||(b.cssAttributeToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,value:!0},productImageIdentifier:{type:String,value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"}};a.behaviors=[b.elements.bindActionBehavior];a.bindImage=function(a){this.searchLightDOM&&this._bindImage(Polymer.dom(this),a);this.searchShadowDOM&&this._bindImage(Polymer.dom(this.root))};a._bindImage=function(a,b){a=a.querySelectorAll(this.productImageIdentifier);
for(var d=0;d<a.length;d++){var e=a[d];if(!e.onerror){var k=e.attributes.getNamedItem("data-image-onerror");if(k){var h=k.nodeValue;h&&(e.onerror=function(){e.onerror=null;e.setAttribute("src",h)})}}e.setAttribute("src",b)}}})(d.imageBindingBehavior||(d.imageBindingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){b=b.elements||(b.elements={});b.imageTestBehavior=[b.bindActionBehavior,b.imageBindingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={templateString:{type:String},model:{type:Object,observer:"_modelObserver"},stampImmediate:{type:Boolean,value:!1}};a._renderer=new b.html.TemplateRenderer;a.ready=function(){this.updateTemplate();this.stampImmediate&&this.stamp()};a.stamp=function(){var a=this._renderer.render(this.templateString,this.model);Polymer.dom(this).innerHTML=a};a.updateTemplate=function(a){this.templateString=a?a:Polymer.dom(this).innerHTML};a._modelObserver=function(a,
b){this.stamp()}})(d.lightDOMTemplateBehavior||(d.lightDOMTemplateBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.__hashCodeGen=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)}return a()+a()+a()+a()};a.debugMessage=function(a){this.__hashCode||(this.__hashCode=this.__hashCodeGen(),b.common.Logger.debug(""));b.common.Logger.debug("DEBUG ["+this.tagName+" "+this.__hashCode+"] "+a)};a.created=function(){this.debugMessage("created callback invoked")};a.attached=function(){this.debugMessage("attached callback invoked")};a.detached=
function(){this.debugMessage("detached callback invoked")};a.ready=function(){this.debugMessage("ready callback invoked")}})(d.logLifeCycleCallbacksBehavior||(d.logLifeCycleCallbacksBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){var a=function(){function a(b,g){this.elementTemplate=b.node||b;-1<this.elementTemplate.nodeName.indexOf("-")&&CustomElements&&!0!==this.elementTemplate.__upgraded__&&!this.elementTemplate.clone&&(CustomElements.upgradeAll(this.elementTemplate),this.elementTemplate.__upgraded__=!0);this.type=b.type;this.parent=b.parentNode||g;this.previousSibling=b.previousSibling;this.nextSibling=b.nextSibling;try{Polymer.dom(Polymer.dom(this.elementTemplate).parentNode).removeChild(this.elementTemplate)}catch(e){}}
a.prototype.insert=function(a,b,e){var g=void 0!==a&&(void 0!==a.parentElement||Polymer.dom(a).parentNode);if(!a)try{a=this.elementTemplate.clone()}catch(d){throw this.elementTemplate+" does not implement clone()"+d;}g||(this.nextSibling?Polymer.dom(this.parent).insertBefore(a,this.nextSibling):Polymer.dom(this.parent).appendChild(a));Polymer.dom(this.parent).flush();try{b&&setTimeout(function(){b(a,e)})}catch(d){console.log(d)}};a.prototype.insertAll=function(a,b,e,g){for(var d=a.length>b.length?
a.length:b.length,c=0;c<d;c++)this.insert(a[c],e,b[c]);setTimeout(function(){try{g&&g()}catch(a){console.log(a)}})};return a}();b.InsertElementHelper=a})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.debounce("opacity",function(){this.style.opacity=1},100)}})(b.opacityToggleBehavior||(b.opacityToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function g(a){if(a=a.attributes.getNamedItem("data-redirect")){a=a.nodeValue;if(void 0!==a&&0<a.length)return a;if(this.recordData)return this.recordData.record.Deeplink;b.common.Logger.debug("no record data available for data-redirect action")}}function f(a){var b="_blank";if(a=a.attributes.getNamedItem("data-redirect-target"))a=a.nodeValue,void 0!==a&&0<a.length&&(b=a);return b}a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,
value:!0},productImageIdentifier:{type:"String",value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"},redirectIdentifier:{type:"String",value:"[data-redirect]"},redirectTargetIdentifier:{type:"String",value:"[data-redirect-target]"},recommendationIdentifier:{type:"String",value:"data-recommendation"},bindImmediate:{type:Boolean,value:!1}};a.behaviors=[b.elements.bindActionBehavior];var d=new b.communication.Tracking12;a.ready=function(){this.bindImmediate&&
(this.bindProductActions(),this.bindProductImage())};a.bindProductActions=function(){this._bindProductRedirect()};a.bindProductImage=function(){this.searchLightDOM&&this._bindProductImage(Polymer.dom(this));this.searchShadowDOM&&this._bindProductImage(Polymer.dom(this.root))};a._bindProductImage=function(a){a=a.querySelectorAll(this.productImageIdentifier);for(var f=0;f<a.length;f++){var g=a[f];if(!g.onerror){var c=g.attributes.getNamedItem("data-image-onerror");if(c){var l=c.nodeValue;l&&(g.onerror=
function(){g.onerror=null;g.setAttribute("src",l)})}}(c=g.getAttribute("data-image"))?void 0!==c&&0!==c.length&&g.setAttribute("src",c):(c=b.communication,g.setAttribute("src",this.recordData.record[c.fieldRoles?c.fieldRoles.imageUrl:""]||this.recordData.record.ImageUrl))}};a._bindProductRedirect=function(){this.searchLightDOM&&this.bindRedirect(Polymer.dom(this));this.searchShadowDOM&&this.bindRedirect(Polymer.dom(this.root))};a.bindRedirect=function(a){if(a){a=a.querySelectorAll(this.redirectIdentifier);
for(var b=0;b<a.length;b++){var f=a[b],c=Polymer.dom(f).querySelectorAll("[data-track]");if(0<c.length)for(var l=0;l<c.length;l++)c[l].attributes.removeNamedItem("data-track");this.bindElement(f,this._handleTrackingAndRedirect)}}};a._handleRedirect=function(a){var b=a.currentTarget;a=g(b);b=f(b);a&&this.redirect(a,b)};a._handleTrackingAndRedirect=function(a){a.stopPropagation();a=a.currentTarget;var b=this,h=g(a),c=f(a);h&&(a=this.getTrackingData(b),"_self"!==c?(!0===this.isRecommendation?this._trackRecommendationClick(this):
this._trackProductClick(this),this.redirect(h,c)):(a.always=function(){b.redirect(h,c)},d.click(a)))};a.getRedirectLocation=g;a.getRedirectTarget=f;a.getTrackingData=function(a){var f=b.communication.FFCommunicationEventAggregator.currentSearchResult,g;a:{for(g=0;g<f.resultsPerPageList.length;g++){var c=f.resultsPerPageList[g];if(1==c.selected){g=c.value;break a}}g=void 0}c=a.recordData.position||a.recordData.record.__ORIG_POSITION__;f={query:b.communication.Util.getQueryFromSearchParams(),page:f.paging.currentPage,
id:b.communication.Util.trackingHelper.getTrackingProductId(a.recordData),pos:c,origPos:a.recordData.record.__ORIG_POSITION__||c,pageSize:g,origPageSize:f.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(f,a.recordData);this.appendCampaign(f,a.recordData);this.appendInstoreAds(f,a.recordData);this.appendTitle(f,a.recordData);this.appendUserId(f);return f};a.redirect=function(a,b){window.open(a,b)}})(d.recordBindingBehavior||(d.recordBindingBehavior={}))})(b.elements||
(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}})(b.removeUnresolvedAttributeBehavior||(b.removeUnresolvedAttributeBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.clickSelector="[data-track='']";a.productClickSelector='[data-track="productClick"]';a.recommendationClickSelector='[data-track="recommendationClick"]';a.checkoutClickSelector='[data-track="checkoutClick"]';a.cartClickSelector='[data-track="cartClick"]';var g=new b.communication.Tracking12,f=b.communication.Util.trackingHelper.getTrackingProductId,d=b.communication.Util.trackingHelper.getPrice,e=b.communication.Util.trackingHelper.getMasterArticleNumber,k=
b.communication.Util.trackingHelper.getUserId,h=b.communication.Util.trackingHelper.getTitle;a.appendCount=function(a,b){a.count=b.count?b.count:1};a.appendInstoreAds=function(a,b){b.record.__FFInstoreAds__&&"true"===b.record.__FFInstoreAds__&&(a.instoreAds="true")};a.appendCampaign=function(a,b){b.record.__FFCampaign__&&(a.campaign=b.record.__FFCampaign__)};a.appendUserId=function(a){var b=k();b&&(a.userId=b)};a.appendTitle=function(a,b){(b=h(b))&&(a.title=b)};a.appendMasterArticleNumber=function(a,
b){(b=e(b))&&(a.masterId=b)};a.getRecordElement=function(a,e){return e?{recordData:e}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record")};a.bindClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);!0===this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),!0===
this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e))};a.bindProductClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e))};a.bindRecommendationClick=function(b){b=b||this;
if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e))};a.bindCheckoutClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.checkoutClickSelector,function(a){b._trackCheckoutClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.checkoutClickSelector,
function(a){b._trackCheckoutClick(b)},e))};a.bindCartClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e))};a._trackRecommendationClick=function(a,l,d){l=l?{recordData:l}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record");"ff-recommendation"!==
a.tagName.toLowerCase()&&(a=Polymer.dom(a),a=b.common.getParentElementByName(a,"ff-recommendation"));if(l){var h={type:"recommendationClick"};h.mainId=a.recordId;h.id=e(l.recordData)||f(l.recordData);this.appendMasterArticleNumber(h,l.recordData);this.appendUserId(h);d&&(h.always=d);g.recommendationClick(h)}};a._trackCheckoutClick=function(a,e,h){if(e=this.getRecordElement(a,e)){var k={id:f(e.recordData),price:d(e.recordData),query:e.recordData.record.__FFCartQuery__||b.communication.Util.getQueryFromSearchParams()};
this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);g.checkout(k)}else console.log("no record element found. tracking not possible.")};a._trackCartClick=function(a,e,h){e=this.getRecordElement(a,e);var k={id:f(e.recordData),price:d(e.recordData),query:b.communication.Util.getQueryFromSearchParams()};this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,
e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);g.cart(k)};a._trackProductClick=function(a,e,d){a=this.getRecordElement(a,e);e=b.communication.FFCommunicationEventAggregator.currentSearchResult;var h;a:{for(h=0;h<e.resultsPerPageList.length;h++){var k=e.resultsPerPageList[h];if(1==k.selected){h=k.value;break a}}h=void 0}k=a.recordData.position||a.recordData.record.__ORIG_POSITION__;e={query:b.communication.Util.getQueryFromSearchParams(),page:e.paging.currentPage,
id:f(a.recordData),pos:k,origPos:a.recordData.record.__ORIG_POSITION__||k,pageSize:h,origPageSize:e.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(e,a.recordData);this.appendCampaign(e,a.recordData);this.appendInstoreAds(e,a.recordData);this.appendTitle(e,a.recordData);this.appendUserId(e);d&&(e.always=d);g.click(e)}})(d.trackingBehavior||(d.trackingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){b=b.elements||(b.elements={});b.trackingBindingBehavior=[b.bindActionBehavior,b.trackingBehavior]})(factfinder||(factfinder={}));__extends=this.__extends||function(b,d){function a(){this.constructor=b}for(var g in d)d.hasOwnProperty(g)&&(b[g]=d[g]);a.prototype=d.prototype;b.prototype=new a};function BaseClass(){}var polymer;
(function(b){var d=function(a){function b(){a.apply(this,arguments)}__extends(b,a);b.prototype.register=function(){for(var a in this)this.hasOwnProperty(a)||(this[a]=this[a]);a=factfinder.common.cloneObject(this);var b=Polymer(this);return{rawPrototype:a,customElementConstructor:b}};return b}(BaseClass);b.PolymerElementClass=d})(polymer||(polymer={}));
(function(b){(function(b){(function(a){var b=Polymer,b=b.Gestures;a.bind=function(a,d,e){return(a=(e?e:Polymer.dom(this)).querySelector(a))?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindElement=function(a,d){return a?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindAll=function(a,d,e){if(a=(e?e:Polymer.dom(this)).querySelectorAll(a)){for(e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",d);return!0}return!1};a.bindElements=function(a,d){if(a){for(var e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",
d);return!0}return!1};a.unbind=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelector(a);b.remove(a,"tap",d)};a.unbindAll=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelectorAll(a);for(e=0;e<a.length;e++)b.remove(a[e],"tap",d)}})(b.bindActionBehavior||(b.bindActionBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){function b(a){var c=a&&a.nodeName?a:a.currentTarget;try{c.__transitionActive__=!1,c.removeEventListener("transitionend",b),"0px"!==c.style.height?(f(c,!1),c.style.height="",c.style.overflow="",setTimeout(function(){f(c,!0)})):f(c,!0)}catch(e){console.log(e)}finally{if(c&&c.__collapseCallback__){var l=c.__collapseCallback__;delete c.__collapseCallback__;setTimeout(function(){try{l()}catch(a){console.log(a)}},16)}}}function f(a,b){a.style["transition-duration"]=
!0===b?"":"0ms"}function d(a){a=a.getBoundingClientRect();for(var b in a)if(0!==a[b])return!0;return!1}function e(a){return a.getBoundingClientRect().height+"px"}function k(a,c,l,k){!0!==a.__transitionActive__&&(a.__transitionActive__=!0,k&&(a.__collapseCallback__=k),k=window.getComputedStyle(a),c=(k=k["transition-duration"]||k.transitionDuration)&&"0"!==k.replace(/\D/g,"")&&c,f(a,!1),c&&d(a)&&(k=e(a),"auto"===l&&(a.style.height="",l=e(a)),a.style.height=k,a.offsetHeight=a.offsetHeight,f(a,c),a.addEventListener("transitionend",
b)),"0px"===l?(a.style.overflow="hidden",a.removeAttribute("opened")):a.setAttribute("opened",""),a.style.height=l,c&&d(a)||(a.offsetHeight=a.offsetHeight,b(a)))}a._hide=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"0px",e)}catch(f){console.log(f)}};a._show=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"auto",e)}catch(f){console.log(f)}};a._toggle=function(a,b,f){void 0===b&&(b=!0);var d=e(a).replace(/\D/g,""),g=a.hasAttribute("opened");0<parseFloat(d)&&!1===g?this._hide(a,b,f):!1===g?this._show(a,
b,f):this._hide(a,b,f)}})(b.collapseElementsBehavior||(b.collapseElementsBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){a.properties={toggleFunctionName:{type:String},immediate:{type:Boolean},attributeName:{type:String},stateOneValue:{type:String},stateTwoValue:{type:String}};a.created=function(){var a=this;if(this[this.toggleFunctionName]){var b=this[this.toggleFunctionName];this.toggleFunctionName=function(){b.apply(arguments);a.toggleAttribute()}}if(!this.stateOneValue){var d=this.style[this.attributeName];this.stateOneValue=d?d:""}this.immediate&&this.toggleAttribute()};a.toggleAttribute=
function(){this.style[this.attributeName]=this.style[this.attributeName]===this.stateOneValue?this.stateTwoValue:this.stateOneValue};a.activateStateTwo=function(){this.style[this.attributeName]=this.stateTwoValue};a.activateStateOne=function(){this.style[this.attributeName]=this.stateOneValue}})(b.cssAttributeToggleBehavior||(b.cssAttributeToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,value:!0},productImageIdentifier:{type:String,value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"}};a.behaviors=[b.elements.bindActionBehavior];a.bindImage=function(a){this.searchLightDOM&&this._bindImage(Polymer.dom(this),a);this.searchShadowDOM&&this._bindImage(Polymer.dom(this.root))};a._bindImage=function(a,b){a=a.querySelectorAll(this.productImageIdentifier);
for(var d=0;d<a.length;d++){var e=a[d];if(!e.onerror){var k=e.attributes.getNamedItem("data-image-onerror");if(k){var h=k.nodeValue;h&&(e.onerror=function(){e.onerror=null;e.setAttribute("src",h)})}}e.setAttribute("src",b)}}})(d.imageBindingBehavior||(d.imageBindingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){b=b.elements||(b.elements={});b.imageTestBehavior=[b.bindActionBehavior,b.imageBindingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={templateString:{type:String},model:{type:Object,observer:"_modelObserver"},stampImmediate:{type:Boolean,value:!1}};a._renderer=new b.html.TemplateRenderer;a.ready=function(){this.updateTemplate();this.stampImmediate&&this.stamp()};a.stamp=function(){var a=this._renderer.render(this.templateString,this.model);Polymer.dom(this).innerHTML=a};a.updateTemplate=function(a){this.templateString=a?a:Polymer.dom(this).innerHTML};a._modelObserver=function(a,
b){this.stamp()}})(d.lightDOMTemplateBehavior||(d.lightDOMTemplateBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.__hashCodeGen=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)}return a()+a()+a()+a()};a.debugMessage=function(a){this.__hashCode||(this.__hashCode=this.__hashCodeGen(),b.common.Logger.debug(""));b.common.Logger.debug("DEBUG ["+this.tagName+" "+this.__hashCode+"] "+a)};a.created=function(){this.debugMessage("created callback invoked")};a.attached=function(){this.debugMessage("attached callback invoked")};a.detached=
function(){this.debugMessage("detached callback invoked")};a.ready=function(){this.debugMessage("ready callback invoked")}})(d.logLifeCycleCallbacksBehavior||(d.logLifeCycleCallbacksBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){var a=function(){function a(b,d){this.elementTemplate=b.node||b;-1<this.elementTemplate.nodeName.indexOf("-")&&CustomElements&&!0!==this.elementTemplate.__upgraded__&&!this.elementTemplate.clone&&(CustomElements.upgradeAll(this.elementTemplate),this.elementTemplate.__upgraded__=!0);this.type=b.type;this.parent=b.parentNode||d;this.previousSibling=b.previousSibling;this.nextSibling=b.nextSibling;try{Polymer.dom(Polymer.dom(this.elementTemplate).parentNode).removeChild(this.elementTemplate)}catch(e){}}
a.prototype.insert=function(a,b,e){var d=void 0!==a&&(void 0!==a.parentElement||Polymer.dom(a).parentNode);if(!a)try{a=this.elementTemplate.clone()}catch(g){throw this.elementTemplate+" does not implement clone()"+g;}d||(this.nextSibling?Polymer.dom(this.parent).insertBefore(a,this.nextSibling):Polymer.dom(this.parent).appendChild(a));Polymer.dom(this.parent).flush();try{b&&setTimeout(function(){b(a,e)})}catch(g){console.log(g)}};a.prototype.insertAll=function(a,b,e,d){for(var g=a.length>b.length?
a.length:b.length,c=0;c<g;c++)this.insert(a[c],e,b[c]);setTimeout(function(){try{d&&d()}catch(a){console.log(a)}})};return a}();b.InsertElementHelper=a})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.debounce("opacity",function(){this.style.opacity=1},100)}})(b.opacityToggleBehavior||(b.opacityToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function d(a){if(a=a.attributes.getNamedItem("data-redirect")){a=a.nodeValue;if(void 0!==a&&0<a.length)return a;if(this.recordData)return this.recordData.record.Deeplink;b.common.Logger.debug("no record data available for data-redirect action")}}function f(a){var b="_blank";if(a=a.attributes.getNamedItem("data-redirect-target"))a=a.nodeValue,void 0!==a&&0<a.length&&(b=a);return b}a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,
value:!0},productImageIdentifier:{type:"String",value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"},redirectIdentifier:{type:"String",value:"[data-redirect]"},redirectTargetIdentifier:{type:"String",value:"[data-redirect-target]"},recommendationIdentifier:{type:"String",value:"data-recommendation"},bindImmediate:{type:Boolean,value:!1}};a.behaviors=[b.elements.bindActionBehavior];var m=new b.communication.Tracking12;a.ready=function(){this.bindImmediate&&
(this.bindProductActions(),this.bindProductImage())};a.bindProductActions=function(){this._bindProductRedirect()};a.bindProductImage=function(){this.searchLightDOM&&this._bindProductImage(Polymer.dom(this));this.searchShadowDOM&&this._bindProductImage(Polymer.dom(this.root))};a._bindProductImage=function(a){a=a.querySelectorAll(this.productImageIdentifier);for(var f=0;f<a.length;f++){var d=a[f];if(!d.onerror){var c=d.attributes.getNamedItem("data-image-onerror");if(c){var l=c.nodeValue;l&&(d.onerror=
function(){d.onerror=null;d.setAttribute("src",l)})}}(c=d.getAttribute("data-image"))?void 0!==c&&0!==c.length&&d.setAttribute("src",c):(c=b.communication,d.setAttribute("src",this.recordData.record[c.fieldRoles?c.fieldRoles.imageUrl:""]||this.recordData.record.ImageUrl))}};a._bindProductRedirect=function(){this.searchLightDOM&&this.bindRedirect(Polymer.dom(this));this.searchShadowDOM&&this.bindRedirect(Polymer.dom(this.root))};a.bindRedirect=function(a){if(a){a=a.querySelectorAll(this.redirectIdentifier);
for(var b=0;b<a.length;b++){var f=a[b],c=Polymer.dom(f).querySelectorAll("[data-track]");if(0<c.length)for(var l=0;l<c.length;l++)c[l].attributes.removeNamedItem("data-track");this.bindElement(f,this._handleTrackingAndRedirect)}}};a._handleRedirect=function(a){var b=a.currentTarget;a=d(b);b=f(b);a&&this.redirect(a,b)};a._handleTrackingAndRedirect=function(a){a.stopPropagation();a=a.currentTarget;var b=this,h=d(a),c=f(a);h&&(a=this.getTrackingData(b),"_self"!==c?(!0===this.isRecommendation?this._trackRecommendationClick(this):
this._trackProductClick(this),this.redirect(h,c)):(a.always=function(){b.redirect(h,c)},m.click(a)))};a.getRedirectLocation=d;a.getRedirectTarget=f;a.getTrackingData=function(a){var f=b.communication.FFCommunicationEventAggregator.currentSearchResult,d;a:{for(d=0;d<f.resultsPerPageList.length;d++){var c=f.resultsPerPageList[d];if(1==c.selected){d=c.value;break a}}d=void 0}c=a.recordData.position||a.recordData.record.__ORIG_POSITION__;f={query:b.communication.Util.getQueryFromSearchParams(),page:f.paging.currentPage,
id:b.communication.Util.trackingHelper.getTrackingProductId(a.recordData),pos:c,origPos:a.recordData.record.__ORIG_POSITION__||c,pageSize:d,origPageSize:f.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(f,a.recordData);this.appendCampaign(f,a.recordData);this.appendInstoreAds(f,a.recordData);this.appendTitle(f,a.recordData);this.appendUserId(f);return f};a.redirect=function(a,b){window.open(a,b)}})(d.recordBindingBehavior||(d.recordBindingBehavior={}))})(b.elements||
(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}})(b.removeUnresolvedAttributeBehavior||(b.removeUnresolvedAttributeBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.clickSelector="[data-track='']";a.productClickSelector='[data-track="productClick"]';a.recommendationClickSelector='[data-track="recommendationClick"]';a.checkoutClickSelector='[data-track="checkoutClick"]';a.cartClickSelector='[data-track="cartClick"]';var d=new b.communication.Tracking12,f=b.communication.Util.trackingHelper.getTrackingProductId,m=b.communication.Util.trackingHelper.getPrice,e=b.communication.Util.trackingHelper.getMasterArticleNumber,k=
b.communication.Util.trackingHelper.getUserId,h=b.communication.Util.trackingHelper.getTitle;a.appendCount=function(a,b){a.count=b.count?b.count:1};a.appendInstoreAds=function(a,b){b.record.__FFInstoreAds__&&"true"===b.record.__FFInstoreAds__&&(a.instoreAds="true")};a.appendCampaign=function(a,b){b.record.__FFCampaign__&&(a.campaign=b.record.__FFCampaign__)};a.appendUserId=function(a){var b=k();b&&(a.userId=b)};a.appendTitle=function(a,b){(b=h(b))&&(a.title=b)};a.appendMasterArticleNumber=function(a,
b){(b=e(b))&&(a.masterId=b)};a.getRecordElement=function(a,e){return e?{recordData:e}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record")};a.bindClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);!0===this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),!0===
this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e))};a.bindProductClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e))};a.bindRecommendationClick=function(b){b=b||this;
if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e))};a.bindCheckoutClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.checkoutClickSelector,function(a){b._trackCheckoutClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.checkoutClickSelector,
function(a){b._trackCheckoutClick(b)},e))};a.bindCartClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e))};a._trackRecommendationClick=function(a,l,h){l=l?{recordData:l}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record");"ff-recommendation"!==
a.tagName.toLowerCase()&&(a=Polymer.dom(a),a=b.common.getParentElementByName(a,"ff-recommendation"));if(l){var k={type:"recommendationClick"};k.mainId=a.recordId;k.id=e(l.recordData)||f(l.recordData);this.appendMasterArticleNumber(k,l.recordData);this.appendUserId(k);h&&(k.always=h);d.recommendationClick(k)}};a._trackCheckoutClick=function(a,e,h){if(e=this.getRecordElement(a,e)){var k={id:f(e.recordData),price:m(e.recordData),query:e.recordData.record.__FFCartQuery__||b.communication.Util.getQueryFromSearchParams()};
this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.checkout(k)}else console.log("no record element found. tracking not possible.")};a._trackCartClick=function(a,e,h){e=this.getRecordElement(a,e);var k={id:f(e.recordData),price:m(e.recordData),query:b.communication.Util.getQueryFromSearchParams()};this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,
e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.cart(k)};a._trackProductClick=function(a,e,h){a=this.getRecordElement(a,e);e=b.communication.FFCommunicationEventAggregator.currentSearchResult;var k;a:{for(k=0;k<e.resultsPerPageList.length;k++){var m=e.resultsPerPageList[k];if(1==m.selected){k=m.value;break a}}k=void 0}m=a.recordData.position||a.recordData.record.__ORIG_POSITION__;e={query:b.communication.Util.getQueryFromSearchParams(),page:e.paging.currentPage,
id:f(a.recordData),pos:m,origPos:a.recordData.record.__ORIG_POSITION__||m,pageSize:k,origPageSize:e.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(e,a.recordData);this.appendCampaign(e,a.recordData);this.appendInstoreAds(e,a.recordData);this.appendTitle(e,a.recordData);this.appendUserId(e);h&&(e.always=h);d.click(e)}})(d.trackingBehavior||(d.trackingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){b=b.elements||(b.elements={});b.trackingBindingBehavior=[b.bindActionBehavior,b.trackingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){var b=Polymer,b=b.Gestures;a.bind=function(a,d,e){return(a=(e?e:Polymer.dom(this)).querySelector(a))?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindElement=function(a,d){return a?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindAll=function(a,d,e){if(a=(e?e:Polymer.dom(this)).querySelectorAll(a)){for(e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",d);return!0}return!1};a.bindElements=function(a,d){if(a){for(var e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",
d);return!0}return!1};a.unbind=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelector(a);b.remove(a,"tap",d)};a.unbindAll=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelectorAll(a);for(e=0;e<a.length;e++)b.remove(a[e],"tap",d)}})(b.bindActionBehavior||(b.bindActionBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){function b(a){var c=a&&a.nodeName?a:a.currentTarget;try{c.__transitionActive__=!1,c.removeEventListener("transitionend",b),"0px"!==c.style.height?(f(c,!1),c.style.height="",c.style.overflow="",setTimeout(function(){f(c,!0)})):f(c,!0)}catch(e){console.log(e)}finally{if(c&&c.__collapseCallback__){var d=c.__collapseCallback__;delete c.__collapseCallback__;setTimeout(function(){try{d()}catch(a){console.log(a)}},16)}}}function f(a,b){a.style["transition-duration"]=
!0===b?"":"0ms"}function d(a){a=a.getBoundingClientRect();for(var b in a)if(0!==a[b])return!0;return!1}function e(a){return a.getBoundingClientRect().height+"px"}function k(a,c,l,k){!0!==a.__transitionActive__&&(a.__transitionActive__=!0,k&&(a.__collapseCallback__=k),k=window.getComputedStyle(a),c=(k=k["transition-duration"]||k.transitionDuration)&&"0"!==k.replace(/\D/g,"")&&c,f(a,!1),c&&d(a)&&(k=e(a),"auto"===l&&(a.style.height="",l=e(a)),a.style.height=k,a.offsetHeight=a.offsetHeight,f(a,c),a.addEventListener("transitionend",
b)),"0px"===l?(a.style.overflow="hidden",a.removeAttribute("opened")):a.setAttribute("opened",""),a.style.height=l,c&&d(a)||(a.offsetHeight=a.offsetHeight,b(a)))}a._hide=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"0px",e)}catch(f){console.log(f)}};a._show=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"auto",e)}catch(f){console.log(f)}};a._toggle=function(a,b,f){void 0===b&&(b=!0);var d=e(a).replace(/\D/g,""),g=a.hasAttribute("opened");0<parseFloat(d)&&!1===g?this._hide(a,b,f):!1===g?this._show(a,
b,f):this._hide(a,b,f)}})(b.collapseElementsBehavior||(b.collapseElementsBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){a.properties={toggleFunctionName:{type:String},immediate:{type:Boolean},attributeName:{type:String},stateOneValue:{type:String},stateTwoValue:{type:String}};a.created=function(){var a=this;if(this[this.toggleFunctionName]){var b=this[this.toggleFunctionName];this.toggleFunctionName=function(){b.apply(arguments);a.toggleAttribute()}}if(!this.stateOneValue){var d=this.style[this.attributeName];this.stateOneValue=d?d:""}this.immediate&&this.toggleAttribute()};a.toggleAttribute=
function(){this.style[this.attributeName]=this.style[this.attributeName]===this.stateOneValue?this.stateTwoValue:this.stateOneValue};a.activateStateTwo=function(){this.style[this.attributeName]=this.stateTwoValue};a.activateStateOne=function(){this.style[this.attributeName]=this.stateOneValue}})(b.cssAttributeToggleBehavior||(b.cssAttributeToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,value:!0},productImageIdentifier:{type:String,value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"}};a.behaviors=[b.elements.bindActionBehavior];a.bindImage=function(a){this.searchLightDOM&&this._bindImage(Polymer.dom(this),a);this.searchShadowDOM&&this._bindImage(Polymer.dom(this.root))};a._bindImage=function(a,b){a=a.querySelectorAll(this.productImageIdentifier);
for(var d=0;d<a.length;d++){var e=a[d];if(!e.onerror){var k=e.attributes.getNamedItem("data-image-onerror");if(k){var h=k.nodeValue;h&&(e.onerror=function(){e.onerror=null;e.setAttribute("src",h)})}}e.setAttribute("src",b)}}})(d.imageBindingBehavior||(d.imageBindingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){b=b.elements||(b.elements={});b.imageTestBehavior=[b.bindActionBehavior,b.imageBindingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={templateString:{type:String},model:{type:Object,observer:"_modelObserver"},stampImmediate:{type:Boolean,value:!1}};a._renderer=new b.html.TemplateRenderer;a.ready=function(){this.updateTemplate();this.stampImmediate&&this.stamp()};a.stamp=function(){var a=this._renderer.render(this.templateString,this.model);Polymer.dom(this).innerHTML=a};a.updateTemplate=function(a){this.templateString=a?a:Polymer.dom(this).innerHTML};a._modelObserver=function(a,
b){this.stamp()}})(d.lightDOMTemplateBehavior||(d.lightDOMTemplateBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.__hashCodeGen=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)}return a()+a()+a()+a()};a.debugMessage=function(a){this.__hashCode||(this.__hashCode=this.__hashCodeGen(),b.common.Logger.debug(""));b.common.Logger.debug("DEBUG ["+this.tagName+" "+this.__hashCode+"] "+a)};a.created=function(){this.debugMessage("created callback invoked")};a.attached=function(){this.debugMessage("attached callback invoked")};a.detached=
function(){this.debugMessage("detached callback invoked")};a.ready=function(){this.debugMessage("ready callback invoked")}})(d.logLifeCycleCallbacksBehavior||(d.logLifeCycleCallbacksBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){var a=function(){function a(b,d){this.elementTemplate=b.node||b;-1<this.elementTemplate.nodeName.indexOf("-")&&CustomElements&&!0!==this.elementTemplate.__upgraded__&&!this.elementTemplate.clone&&(CustomElements.upgradeAll(this.elementTemplate),this.elementTemplate.__upgraded__=!0);this.type=b.type;this.parent=b.parentNode||d;this.previousSibling=b.previousSibling;this.nextSibling=b.nextSibling;try{Polymer.dom(Polymer.dom(this.elementTemplate).parentNode).removeChild(this.elementTemplate)}catch(e){}}
a.prototype.insert=function(a,b,e){var d=void 0!==a&&(void 0!==a.parentElement||Polymer.dom(a).parentNode);if(!a)try{a=this.elementTemplate.clone()}catch(g){throw this.elementTemplate+" does not implement clone()"+g;}d||(this.nextSibling?Polymer.dom(this.parent).insertBefore(a,this.nextSibling):Polymer.dom(this.parent).appendChild(a));Polymer.dom(this.parent).flush();try{b&&setTimeout(function(){b(a,e)})}catch(g){console.log(g)}};a.prototype.insertAll=function(a,b,e,d){for(var g=a.length>b.length?
a.length:b.length,c=0;c<g;c++)this.insert(a[c],e,b[c]);setTimeout(function(){try{d&&d()}catch(a){console.log(a)}})};return a}();b.InsertElementHelper=a})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.debounce("opacity",function(){this.style.opacity=1},100)}})(b.opacityToggleBehavior||(b.opacityToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function d(a){if(a=a.attributes.getNamedItem("data-redirect")){a=a.nodeValue;if(void 0!==a&&0<a.length)return a;if(this.recordData)return this.recordData.record.Deeplink;b.common.Logger.debug("no record data available for data-redirect action")}}function f(a){var b="_blank";if(a=a.attributes.getNamedItem("data-redirect-target"))a=a.nodeValue,void 0!==a&&0<a.length&&(b=a);return b}a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,
value:!0},productImageIdentifier:{type:"String",value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"},redirectIdentifier:{type:"String",value:"[data-redirect]"},redirectTargetIdentifier:{type:"String",value:"[data-redirect-target]"},recommendationIdentifier:{type:"String",value:"data-recommendation"},bindImmediate:{type:Boolean,value:!1}};a.behaviors=[b.elements.bindActionBehavior];var m=new b.communication.Tracking12;a.ready=function(){this.bindImmediate&&
(this.bindProductActions(),this.bindProductImage())};a.bindProductActions=function(){this._bindProductRedirect()};a.bindProductImage=function(){this.searchLightDOM&&this._bindProductImage(Polymer.dom(this));this.searchShadowDOM&&this._bindProductImage(Polymer.dom(this.root))};a._bindProductImage=function(a){a=a.querySelectorAll(this.productImageIdentifier);for(var f=0;f<a.length;f++){var d=a[f];if(!d.onerror){var c=d.attributes.getNamedItem("data-image-onerror");if(c){var l=c.nodeValue;l&&(d.onerror=
function(){d.onerror=null;d.setAttribute("src",l)})}}(c=d.getAttribute("data-image"))?void 0!==c&&0!==c.length&&d.setAttribute("src",c):(c=b.communication,d.setAttribute("src",this.recordData.record[c.fieldRoles?c.fieldRoles.imageUrl:""]||this.recordData.record.ImageUrl))}};a._bindProductRedirect=function(){this.searchLightDOM&&this.bindRedirect(Polymer.dom(this));this.searchShadowDOM&&this.bindRedirect(Polymer.dom(this.root))};a.bindRedirect=function(a){if(a){a=a.querySelectorAll(this.redirectIdentifier);
for(var b=0;b<a.length;b++){var f=a[b],c=Polymer.dom(f).querySelectorAll("[data-track]");if(0<c.length)for(var d=0;d<c.length;d++)c[d].attributes.removeNamedItem("data-track");this.bindElement(f,this._handleTrackingAndRedirect)}}};a._handleRedirect=function(a){var b=a.currentTarget;a=d(b);b=f(b);a&&this.redirect(a,b)};a._handleTrackingAndRedirect=function(a){a.stopPropagation();a=a.currentTarget;var b=this,h=d(a),c=f(a);h&&(a=this.getTrackingData(b),"_self"!==c?(!0===this.isRecommendation?this._trackRecommendationClick(this):
this._trackProductClick(this),this.redirect(h,c)):(a.always=function(){b.redirect(h,c)},m.click(a)))};a.getRedirectLocation=d;a.getRedirectTarget=f;a.getTrackingData=function(a){var f=b.communication.FFCommunicationEventAggregator.currentSearchResult,d;a:{for(d=0;d<f.resultsPerPageList.length;d++){var c=f.resultsPerPageList[d];if(1==c.selected){d=c.value;break a}}d=void 0}c=a.recordData.position||a.recordData.record.__ORIG_POSITION__;f={query:b.communication.Util.getQueryFromSearchParams(),page:f.paging.currentPage,
id:b.communication.Util.trackingHelper.getTrackingProductId(a.recordData),pos:c,origPos:a.recordData.record.__ORIG_POSITION__||c,pageSize:d,origPageSize:f.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(f,a.recordData);this.appendCampaign(f,a.recordData);this.appendInstoreAds(f,a.recordData);this.appendTitle(f,a.recordData);this.appendUserId(f);return f};a.redirect=function(a,b){window.open(a,b)}})(d.recordBindingBehavior||(d.recordBindingBehavior={}))})(b.elements||
(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}})(b.removeUnresolvedAttributeBehavior||(b.removeUnresolvedAttributeBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.clickSelector="[data-track='']";a.productClickSelector='[data-track="productClick"]';a.recommendationClickSelector='[data-track="recommendationClick"]';a.checkoutClickSelector='[data-track="checkoutClick"]';a.cartClickSelector='[data-track="cartClick"]';var d=new b.communication.Tracking12,f=b.communication.Util.trackingHelper.getTrackingProductId,m=b.communication.Util.trackingHelper.getPrice,e=b.communication.Util.trackingHelper.getMasterArticleNumber,k=
b.communication.Util.trackingHelper.getUserId,h=b.communication.Util.trackingHelper.getTitle;a.appendCount=function(a,b){a.count=b.count?b.count:1};a.appendInstoreAds=function(a,b){b.record.__FFInstoreAds__&&"true"===b.record.__FFInstoreAds__&&(a.instoreAds="true")};a.appendCampaign=function(a,b){b.record.__FFCampaign__&&(a.campaign=b.record.__FFCampaign__)};a.appendUserId=function(a){var b=k();b&&(a.userId=b)};a.appendTitle=function(a,b){(b=h(b))&&(a.title=b)};a.appendMasterArticleNumber=function(a,
b){(b=e(b))&&(a.masterId=b)};a.getRecordElement=function(a,e){return e?{recordData:e}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record")};a.bindClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);!0===this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),!0===
this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e))};a.bindProductClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e))};a.bindRecommendationClick=function(b){b=b||this;
if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e))};a.bindCheckoutClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.checkoutClickSelector,function(a){b._trackCheckoutClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.checkoutClickSelector,
function(a){b._trackCheckoutClick(b)},e))};a.bindCartClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e))};a._trackRecommendationClick=function(a,l,h){l=l?{recordData:l}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record");"ff-recommendation"!==
a.tagName.toLowerCase()&&(a=Polymer.dom(a),a=b.common.getParentElementByName(a,"ff-recommendation"));if(l){var k={type:"recommendationClick"};k.mainId=a.recordId;k.id=e(l.recordData)||f(l.recordData);this.appendMasterArticleNumber(k,l.recordData);this.appendUserId(k);h&&(k.always=h);d.recommendationClick(k)}};a._trackCheckoutClick=function(a,e,h){if(e=this.getRecordElement(a,e)){var k={id:f(e.recordData),price:m(e.recordData),query:e.recordData.record.__FFCartQuery__||b.communication.Util.getQueryFromSearchParams()};
this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.checkout(k)}else console.log("no record element found. tracking not possible.")};a._trackCartClick=function(a,e,h){e=this.getRecordElement(a,e);var k={id:f(e.recordData),price:m(e.recordData),query:b.communication.Util.getQueryFromSearchParams()};this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,
e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.cart(k)};a._trackProductClick=function(a,e,h){a=this.getRecordElement(a,e);e=b.communication.FFCommunicationEventAggregator.currentSearchResult;var k;a:{for(k=0;k<e.resultsPerPageList.length;k++){var m=e.resultsPerPageList[k];if(1==m.selected){k=m.value;break a}}k=void 0}m=a.recordData.position||a.recordData.record.__ORIG_POSITION__;e={query:b.communication.Util.getQueryFromSearchParams(),page:e.paging.currentPage,
id:f(a.recordData),pos:m,origPos:a.recordData.record.__ORIG_POSITION__||m,pageSize:k,origPageSize:e.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(e,a.recordData);this.appendCampaign(e,a.recordData);this.appendInstoreAds(e,a.recordData);this.appendTitle(e,a.recordData);this.appendUserId(e);h&&(e.always=h);d.click(e)}})(d.trackingBehavior||(d.trackingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){b=b.elements||(b.elements={});b.trackingBindingBehavior=[b.bindActionBehavior,b.trackingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){var b=Polymer,b=b.Gestures;a.bind=function(a,d,e){return(a=(e?e:Polymer.dom(this)).querySelector(a))?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindElement=function(a,d){return a?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindAll=function(a,d,e){if(a=(e?e:Polymer.dom(this)).querySelectorAll(a)){for(e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",d);return!0}return!1};a.bindElements=function(a,d){if(a){for(var e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",
d);return!0}return!1};a.unbind=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelector(a);b.remove(a,"tap",d)};a.unbindAll=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelectorAll(a);for(e=0;e<a.length;e++)b.remove(a[e],"tap",d)}})(b.bindActionBehavior||(b.bindActionBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){function b(a){var c=a&&a.nodeName?a:a.currentTarget;try{c.__transitionActive__=!1,c.removeEventListener("transitionend",b),"0px"!==c.style.height?(f(c,!1),c.style.height="",c.style.overflow="",setTimeout(function(){f(c,!0)})):f(c,!0)}catch(e){console.log(e)}finally{if(c&&c.__collapseCallback__){var d=c.__collapseCallback__;delete c.__collapseCallback__;setTimeout(function(){try{d()}catch(a){console.log(a)}},16)}}}function f(a,b){a.style["transition-duration"]=
!0===b?"":"0ms"}function d(a){a=a.getBoundingClientRect();for(var b in a)if(0!==a[b])return!0;return!1}function e(a){return a.getBoundingClientRect().height+"px"}function k(a,c,l,k){!0!==a.__transitionActive__&&(a.__transitionActive__=!0,k&&(a.__collapseCallback__=k),k=window.getComputedStyle(a),c=(k=k["transition-duration"]||k.transitionDuration)&&"0"!==k.replace(/\D/g,"")&&c,f(a,!1),c&&d(a)&&(k=e(a),"auto"===l&&(a.style.height="",l=e(a)),a.style.height=k,a.offsetHeight=a.offsetHeight,f(a,c),a.addEventListener("transitionend",
b)),"0px"===l?(a.style.overflow="hidden",a.removeAttribute("opened")):a.setAttribute("opened",""),a.style.height=l,c&&d(a)||(a.offsetHeight=a.offsetHeight,b(a)))}a._hide=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"0px",e)}catch(f){console.log(f)}};a._show=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"auto",e)}catch(f){console.log(f)}};a._toggle=function(a,b,f){void 0===b&&(b=!0);var d=e(a).replace(/\D/g,""),g=a.hasAttribute("opened");0<parseFloat(d)&&!1===g?this._hide(a,b,f):!1===g?this._show(a,
b,f):this._hide(a,b,f)}})(b.collapseElementsBehavior||(b.collapseElementsBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){a.properties={toggleFunctionName:{type:String},immediate:{type:Boolean},attributeName:{type:String},stateOneValue:{type:String},stateTwoValue:{type:String}};a.created=function(){var a=this;if(this[this.toggleFunctionName]){var b=this[this.toggleFunctionName];this.toggleFunctionName=function(){b.apply(arguments);a.toggleAttribute()}}if(!this.stateOneValue){var d=this.style[this.attributeName];this.stateOneValue=d?d:""}this.immediate&&this.toggleAttribute()};a.toggleAttribute=
function(){this.style[this.attributeName]=this.style[this.attributeName]===this.stateOneValue?this.stateTwoValue:this.stateOneValue};a.activateStateTwo=function(){this.style[this.attributeName]=this.stateTwoValue};a.activateStateOne=function(){this.style[this.attributeName]=this.stateOneValue}})(b.cssAttributeToggleBehavior||(b.cssAttributeToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,value:!0},productImageIdentifier:{type:String,value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"}};a.behaviors=[b.elements.bindActionBehavior];a.bindImage=function(a){this.searchLightDOM&&this._bindImage(Polymer.dom(this),a);this.searchShadowDOM&&this._bindImage(Polymer.dom(this.root))};a._bindImage=function(a,b){a=a.querySelectorAll(this.productImageIdentifier);
for(var d=0;d<a.length;d++){var e=a[d];if(!e.onerror){var k=e.attributes.getNamedItem("data-image-onerror");if(k){var h=k.nodeValue;h&&(e.onerror=function(){e.onerror=null;e.setAttribute("src",h)})}}e.setAttribute("src",b)}}})(d.imageBindingBehavior||(d.imageBindingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){b=b.elements||(b.elements={});b.imageTestBehavior=[b.bindActionBehavior,b.imageBindingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={templateString:{type:String},model:{type:Object,observer:"_modelObserver"},stampImmediate:{type:Boolean,value:!1}};a._renderer=new b.html.TemplateRenderer;a.ready=function(){this.updateTemplate();this.stampImmediate&&this.stamp()};a.stamp=function(){var a=this._renderer.render(this.templateString,this.model);Polymer.dom(this).innerHTML=a};a.updateTemplate=function(a){this.templateString=a?a:Polymer.dom(this).innerHTML};a._modelObserver=function(a,
b){this.stamp()}})(d.lightDOMTemplateBehavior||(d.lightDOMTemplateBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.__hashCodeGen=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)}return a()+a()+a()+a()};a.debugMessage=function(a){this.__hashCode||(this.__hashCode=this.__hashCodeGen(),b.common.Logger.debug(""));b.common.Logger.debug("DEBUG ["+this.tagName+" "+this.__hashCode+"] "+a)};a.created=function(){this.debugMessage("created callback invoked")};a.attached=function(){this.debugMessage("attached callback invoked")};a.detached=
function(){this.debugMessage("detached callback invoked")};a.ready=function(){this.debugMessage("ready callback invoked")}})(d.logLifeCycleCallbacksBehavior||(d.logLifeCycleCallbacksBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){var a=function(){function a(b,d){this.elementTemplate=b.node||b;-1<this.elementTemplate.nodeName.indexOf("-")&&CustomElements&&!0!==this.elementTemplate.__upgraded__&&!this.elementTemplate.clone&&(CustomElements.upgradeAll(this.elementTemplate),this.elementTemplate.__upgraded__=!0);this.type=b.type;this.parent=b.parentNode||d;this.previousSibling=b.previousSibling;this.nextSibling=b.nextSibling;try{Polymer.dom(Polymer.dom(this.elementTemplate).parentNode).removeChild(this.elementTemplate)}catch(e){}}
a.prototype.insert=function(a,b,e){var d=void 0!==a&&(void 0!==a.parentElement||Polymer.dom(a).parentNode);if(!a)try{a=this.elementTemplate.clone()}catch(g){throw this.elementTemplate+" does not implement clone()"+g;}d||(this.nextSibling?Polymer.dom(this.parent).insertBefore(a,this.nextSibling):Polymer.dom(this.parent).appendChild(a));Polymer.dom(this.parent).flush();try{b&&setTimeout(function(){b(a,e)})}catch(g){console.log(g)}};a.prototype.insertAll=function(a,b,e,d){for(var g=a.length>b.length?
a.length:b.length,c=0;c<g;c++)this.insert(a[c],e,b[c]);setTimeout(function(){try{d&&d()}catch(a){console.log(a)}})};return a}();b.InsertElementHelper=a})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.debounce("opacity",function(){this.style.opacity=1},100)}})(b.opacityToggleBehavior||(b.opacityToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function d(a){if(a=a.attributes.getNamedItem("data-redirect")){a=a.nodeValue;if(void 0!==a&&0<a.length)return a;if(this.recordData)return this.recordData.record.Deeplink;b.common.Logger.debug("no record data available for data-redirect action")}}function f(a){var b="_blank";if(a=a.attributes.getNamedItem("data-redirect-target"))a=a.nodeValue,void 0!==a&&0<a.length&&(b=a);return b}a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,
value:!0},productImageIdentifier:{type:"String",value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"},redirectIdentifier:{type:"String",value:"[data-redirect]"},redirectTargetIdentifier:{type:"String",value:"[data-redirect-target]"},recommendationIdentifier:{type:"String",value:"data-recommendation"},bindImmediate:{type:Boolean,value:!1}};a.behaviors=[b.elements.bindActionBehavior];var m=new b.communication.Tracking12;a.ready=function(){this.bindImmediate&&
(this.bindProductActions(),this.bindProductImage())};a.bindProductActions=function(){this._bindProductRedirect()};a.bindProductImage=function(){this.searchLightDOM&&this._bindProductImage(Polymer.dom(this));this.searchShadowDOM&&this._bindProductImage(Polymer.dom(this.root))};a._bindProductImage=function(a){a=a.querySelectorAll(this.productImageIdentifier);for(var f=0;f<a.length;f++){var d=a[f];if(!d.onerror){var c=d.attributes.getNamedItem("data-image-onerror");if(c){var l=c.nodeValue;l&&(d.onerror=
function(){d.onerror=null;d.setAttribute("src",l)})}}(c=d.getAttribute("data-image"))?void 0!==c&&0!==c.length&&d.setAttribute("src",c):(c=b.communication,d.setAttribute("src",this.recordData.record[c.fieldRoles?c.fieldRoles.imageUrl:""]||this.recordData.record.ImageUrl))}};a._bindProductRedirect=function(){this.searchLightDOM&&this.bindRedirect(Polymer.dom(this));this.searchShadowDOM&&this.bindRedirect(Polymer.dom(this.root))};a.bindRedirect=function(a){if(a){a=a.querySelectorAll(this.redirectIdentifier);
for(var b=0;b<a.length;b++){var d=a[b],c=Polymer.dom(d).querySelectorAll("[data-track]");if(0<c.length)for(var f=0;f<c.length;f++)c[f].attributes.removeNamedItem("data-track");this.bindElement(d,this._handleTrackingAndRedirect)}}};a._handleRedirect=function(a){var b=a.currentTarget;a=d(b);b=f(b);a&&this.redirect(a,b)};a._handleTrackingAndRedirect=function(a){a.stopPropagation();a=a.currentTarget;var b=this,h=d(a),c=f(a);h&&(a=this.getTrackingData(b),"_self"!==c?(!0===this.isRecommendation?this._trackRecommendationClick(this):
this._trackProductClick(this),this.redirect(h,c)):(a.always=function(){b.redirect(h,c)},m.click(a)))};a.getRedirectLocation=d;a.getRedirectTarget=f;a.getTrackingData=function(a){var d=b.communication.FFCommunicationEventAggregator.currentSearchResult,f;a:{for(f=0;f<d.resultsPerPageList.length;f++){var c=d.resultsPerPageList[f];if(1==c.selected){f=c.value;break a}}f=void 0}c=a.recordData.position||a.recordData.record.__ORIG_POSITION__;d={query:b.communication.Util.getQueryFromSearchParams(),page:d.paging.currentPage,
id:b.communication.Util.trackingHelper.getTrackingProductId(a.recordData),pos:c,origPos:a.recordData.record.__ORIG_POSITION__||c,pageSize:f,origPageSize:d.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(d,a.recordData);this.appendCampaign(d,a.recordData);this.appendInstoreAds(d,a.recordData);this.appendTitle(d,a.recordData);this.appendUserId(d);return d};a.redirect=function(a,b){window.open(a,b)}})(d.recordBindingBehavior||(d.recordBindingBehavior={}))})(b.elements||
(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}})(b.removeUnresolvedAttributeBehavior||(b.removeUnresolvedAttributeBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.clickSelector="[data-track='']";a.productClickSelector='[data-track="productClick"]';a.recommendationClickSelector='[data-track="recommendationClick"]';a.checkoutClickSelector='[data-track="checkoutClick"]';a.cartClickSelector='[data-track="cartClick"]';var d=new b.communication.Tracking12,f=b.communication.Util.trackingHelper.getTrackingProductId,m=b.communication.Util.trackingHelper.getPrice,e=b.communication.Util.trackingHelper.getMasterArticleNumber,k=
b.communication.Util.trackingHelper.getUserId,h=b.communication.Util.trackingHelper.getTitle;a.appendCount=function(a,b){a.count=b.count?b.count:1};a.appendInstoreAds=function(a,b){b.record.__FFInstoreAds__&&"true"===b.record.__FFInstoreAds__&&(a.instoreAds="true")};a.appendCampaign=function(a,b){b.record.__FFCampaign__&&(a.campaign=b.record.__FFCampaign__)};a.appendUserId=function(a){var b=k();b&&(a.userId=b)};a.appendTitle=function(a,b){(b=h(b))&&(a.title=b)};a.appendMasterArticleNumber=function(a,
b){(b=e(b))&&(a.masterId=b)};a.getRecordElement=function(a,e){return e?{recordData:e}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record")};a.bindClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);!0===this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),!0===
this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e))};a.bindProductClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e))};a.bindRecommendationClick=function(b){b=b||this;
if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e))};a.bindCheckoutClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.checkoutClickSelector,function(a){b._trackCheckoutClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.checkoutClickSelector,
function(a){b._trackCheckoutClick(b)},e))};a.bindCartClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e))};a._trackRecommendationClick=function(a,l,h){l=l?{recordData:l}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record");"ff-recommendation"!==
a.tagName.toLowerCase()&&(a=Polymer.dom(a),a=b.common.getParentElementByName(a,"ff-recommendation"));if(l){var k={type:"recommendationClick"};k.mainId=a.recordId;k.id=e(l.recordData)||f(l.recordData);this.appendMasterArticleNumber(k,l.recordData);this.appendUserId(k);h&&(k.always=h);d.recommendationClick(k)}};a._trackCheckoutClick=function(a,e,h){if(e=this.getRecordElement(a,e)){var k={id:f(e.recordData),price:m(e.recordData),query:e.recordData.record.__FFCartQuery__||b.communication.Util.getQueryFromSearchParams()};
this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.checkout(k)}else console.log("no record element found. tracking not possible.")};a._trackCartClick=function(a,e,h){e=this.getRecordElement(a,e);var k={id:f(e.recordData),price:m(e.recordData),query:b.communication.Util.getQueryFromSearchParams()};this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,
e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.cart(k)};a._trackProductClick=function(a,e,h){a=this.getRecordElement(a,e);e=b.communication.FFCommunicationEventAggregator.currentSearchResult;var k;a:{for(k=0;k<e.resultsPerPageList.length;k++){var m=e.resultsPerPageList[k];if(1==m.selected){k=m.value;break a}}k=void 0}m=a.recordData.position||a.recordData.record.__ORIG_POSITION__;e={query:b.communication.Util.getQueryFromSearchParams(),page:e.paging.currentPage,
id:f(a.recordData),pos:m,origPos:a.recordData.record.__ORIG_POSITION__||m,pageSize:k,origPageSize:e.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(e,a.recordData);this.appendCampaign(e,a.recordData);this.appendInstoreAds(e,a.recordData);this.appendTitle(e,a.recordData);this.appendUserId(e);h&&(e.always=h);d.click(e)}})(d.trackingBehavior||(d.trackingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){b=b.elements||(b.elements={});b.trackingBindingBehavior=[b.bindActionBehavior,b.trackingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){var b=Polymer,b=b.Gestures;a.bind=function(a,d,e){return(a=(e?e:Polymer.dom(this)).querySelector(a))?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindElement=function(a,d){return a?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindAll=function(a,d,e){if(a=(e?e:Polymer.dom(this)).querySelectorAll(a)){for(e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",d);return!0}return!1};a.bindElements=function(a,d){if(a){for(var e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",
d);return!0}return!1};a.unbind=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelector(a);b.remove(a,"tap",d)};a.unbindAll=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelectorAll(a);for(e=0;e<a.length;e++)b.remove(a[e],"tap",d)}})(b.bindActionBehavior||(b.bindActionBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){function b(a){var c=a&&a.nodeName?a:a.currentTarget;try{c.__transitionActive__=!1,c.removeEventListener("transitionend",b),"0px"!==c.style.height?(d(c,!1),c.style.height="",c.style.overflow="",setTimeout(function(){d(c,!0)})):d(c,!0)}catch(e){console.log(e)}finally{if(c&&c.__collapseCallback__){var l=c.__collapseCallback__;delete c.__collapseCallback__;setTimeout(function(){try{l()}catch(a){console.log(a)}},16)}}}function d(a,b){a.style["transition-duration"]=
!0===b?"":"0ms"}function m(a){a=a.getBoundingClientRect();for(var b in a)if(0!==a[b])return!0;return!1}function e(a){return a.getBoundingClientRect().height+"px"}function k(a,c,l,k){!0!==a.__transitionActive__&&(a.__transitionActive__=!0,k&&(a.__collapseCallback__=k),k=window.getComputedStyle(a),c=(k=k["transition-duration"]||k.transitionDuration)&&"0"!==k.replace(/\D/g,"")&&c,d(a,!1),c&&m(a)&&(k=e(a),"auto"===l&&(a.style.height="",l=e(a)),a.style.height=k,a.offsetHeight=a.offsetHeight,d(a,c),a.addEventListener("transitionend",
b)),"0px"===l?(a.style.overflow="hidden",a.removeAttribute("opened")):a.setAttribute("opened",""),a.style.height=l,c&&m(a)||(a.offsetHeight=a.offsetHeight,b(a)))}a._hide=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"0px",e)}catch(d){console.log(d)}};a._show=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"auto",e)}catch(d){console.log(d)}};a._toggle=function(a,b,d){void 0===b&&(b=!0);var f=e(a).replace(/\D/g,""),g=a.hasAttribute("opened");0<parseFloat(f)&&!1===g?this._hide(a,b,d):!1===g?this._show(a,
b,d):this._hide(a,b,d)}})(b.collapseElementsBehavior||(b.collapseElementsBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){a.properties={toggleFunctionName:{type:String},immediate:{type:Boolean},attributeName:{type:String},stateOneValue:{type:String},stateTwoValue:{type:String}};a.created=function(){var a=this;if(this[this.toggleFunctionName]){var b=this[this.toggleFunctionName];this.toggleFunctionName=function(){b.apply(arguments);a.toggleAttribute()}}if(!this.stateOneValue){var d=this.style[this.attributeName];this.stateOneValue=d?d:""}this.immediate&&this.toggleAttribute()};a.toggleAttribute=
function(){this.style[this.attributeName]=this.style[this.attributeName]===this.stateOneValue?this.stateTwoValue:this.stateOneValue};a.activateStateTwo=function(){this.style[this.attributeName]=this.stateTwoValue};a.activateStateOne=function(){this.style[this.attributeName]=this.stateOneValue}})(b.cssAttributeToggleBehavior||(b.cssAttributeToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,value:!0},productImageIdentifier:{type:String,value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"}};a.behaviors=[b.elements.bindActionBehavior];a.bindImage=function(a){this.searchLightDOM&&this._bindImage(Polymer.dom(this),a);this.searchShadowDOM&&this._bindImage(Polymer.dom(this.root))};a._bindImage=function(a,b){a=a.querySelectorAll(this.productImageIdentifier);
for(var d=0;d<a.length;d++){var e=a[d];if(!e.onerror){var k=e.attributes.getNamedItem("data-image-onerror");if(k){var h=k.nodeValue;h&&(e.onerror=function(){e.onerror=null;e.setAttribute("src",h)})}}e.setAttribute("src",b)}}})(d.imageBindingBehavior||(d.imageBindingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){b=b.elements||(b.elements={});b.imageTestBehavior=[b.bindActionBehavior,b.imageBindingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={templateString:{type:String},model:{type:Object,observer:"_modelObserver"},stampImmediate:{type:Boolean,value:!1}};a._renderer=new b.html.TemplateRenderer;a.ready=function(){this.updateTemplate();this.stampImmediate&&this.stamp()};a.stamp=function(){var a=this._renderer.render(this.templateString,this.model);Polymer.dom(this).innerHTML=a};a.updateTemplate=function(a){this.templateString=a?a:Polymer.dom(this).innerHTML};a._modelObserver=function(a,
b){this.stamp()}})(d.lightDOMTemplateBehavior||(d.lightDOMTemplateBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.__hashCodeGen=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)}return a()+a()+a()+a()};a.debugMessage=function(a){this.__hashCode||(this.__hashCode=this.__hashCodeGen(),b.common.Logger.debug(""));b.common.Logger.debug("DEBUG ["+this.tagName+" "+this.__hashCode+"] "+a)};a.created=function(){this.debugMessage("created callback invoked")};a.attached=function(){this.debugMessage("attached callback invoked")};a.detached=
function(){this.debugMessage("detached callback invoked")};a.ready=function(){this.debugMessage("ready callback invoked")}})(d.logLifeCycleCallbacksBehavior||(d.logLifeCycleCallbacksBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){var a=function(){function a(b,d){this.elementTemplate=b.node||b;-1<this.elementTemplate.nodeName.indexOf("-")&&CustomElements&&!0!==this.elementTemplate.__upgraded__&&!this.elementTemplate.clone&&(CustomElements.upgradeAll(this.elementTemplate),this.elementTemplate.__upgraded__=!0);this.type=b.type;this.parent=b.parentNode||d;this.previousSibling=b.previousSibling;this.nextSibling=b.nextSibling;try{Polymer.dom(Polymer.dom(this.elementTemplate).parentNode).removeChild(this.elementTemplate)}catch(e){}}
a.prototype.insert=function(a,b,e){var d=void 0!==a&&(void 0!==a.parentElement||Polymer.dom(a).parentNode);if(!a)try{a=this.elementTemplate.clone()}catch(g){throw this.elementTemplate+" does not implement clone()"+g;}d||(this.nextSibling?Polymer.dom(this.parent).insertBefore(a,this.nextSibling):Polymer.dom(this.parent).appendChild(a));Polymer.dom(this.parent).flush();try{b&&setTimeout(function(){b(a,e)})}catch(g){console.log(g)}};a.prototype.insertAll=function(a,b,e,d){for(var g=a.length>b.length?
a.length:b.length,c=0;c<g;c++)this.insert(a[c],e,b[c]);setTimeout(function(){try{d&&d()}catch(a){console.log(a)}})};return a}();b.InsertElementHelper=a})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.debounce("opacity",function(){this.style.opacity=1},100)}})(b.opacityToggleBehavior||(b.opacityToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function d(a){if(a=a.attributes.getNamedItem("data-redirect")){a=a.nodeValue;if(void 0!==a&&0<a.length)return a;if(this.recordData)return this.recordData.record.Deeplink;b.common.Logger.debug("no record data available for data-redirect action")}}function f(a){var b="_blank";if(a=a.attributes.getNamedItem("data-redirect-target"))a=a.nodeValue,void 0!==a&&0<a.length&&(b=a);return b}a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,
value:!0},productImageIdentifier:{type:"String",value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"},redirectIdentifier:{type:"String",value:"[data-redirect]"},redirectTargetIdentifier:{type:"String",value:"[data-redirect-target]"},recommendationIdentifier:{type:"String",value:"data-recommendation"},bindImmediate:{type:Boolean,value:!1}};a.behaviors=[b.elements.bindActionBehavior];var m=new b.communication.Tracking12;a.ready=function(){this.bindImmediate&&
(this.bindProductActions(),this.bindProductImage())};a.bindProductActions=function(){this._bindProductRedirect()};a.bindProductImage=function(){this.searchLightDOM&&this._bindProductImage(Polymer.dom(this));this.searchShadowDOM&&this._bindProductImage(Polymer.dom(this.root))};a._bindProductImage=function(a){a=a.querySelectorAll(this.productImageIdentifier);for(var d=0;d<a.length;d++){var f=a[d];if(!f.onerror){var c=f.attributes.getNamedItem("data-image-onerror");if(c){var g=c.nodeValue;g&&(f.onerror=
function(){f.onerror=null;f.setAttribute("src",g)})}}(c=f.getAttribute("data-image"))?void 0!==c&&0!==c.length&&f.setAttribute("src",c):(c=b.communication,f.setAttribute("src",this.recordData.record[c.fieldRoles?c.fieldRoles.imageUrl:""]||this.recordData.record.ImageUrl))}};a._bindProductRedirect=function(){this.searchLightDOM&&this.bindRedirect(Polymer.dom(this));this.searchShadowDOM&&this.bindRedirect(Polymer.dom(this.root))};a.bindRedirect=function(a){if(a){a=a.querySelectorAll(this.redirectIdentifier);
for(var b=0;b<a.length;b++){var d=a[b],c=Polymer.dom(d).querySelectorAll("[data-track]");if(0<c.length)for(var f=0;f<c.length;f++)c[f].attributes.removeNamedItem("data-track");this.bindElement(d,this._handleTrackingAndRedirect)}}};a._handleRedirect=function(a){var b=a.currentTarget;a=d(b);b=f(b);a&&this.redirect(a,b)};a._handleTrackingAndRedirect=function(a){a.stopPropagation();a=a.currentTarget;var b=this,h=d(a),c=f(a);h&&(a=this.getTrackingData(b),"_self"!==c?(!0===this.isRecommendation?this._trackRecommendationClick(this):
this._trackProductClick(this),this.redirect(h,c)):(a.always=function(){b.redirect(h,c)},m.click(a)))};a.getRedirectLocation=d;a.getRedirectTarget=f;a.getTrackingData=function(a){var d=b.communication.FFCommunicationEventAggregator.currentSearchResult,f;a:{for(f=0;f<d.resultsPerPageList.length;f++){var c=d.resultsPerPageList[f];if(1==c.selected){f=c.value;break a}}f=void 0}c=a.recordData.position||a.recordData.record.__ORIG_POSITION__;d={query:b.communication.Util.getQueryFromSearchParams(),page:d.paging.currentPage,
id:b.communication.Util.trackingHelper.getTrackingProductId(a.recordData),pos:c,origPos:a.recordData.record.__ORIG_POSITION__||c,pageSize:f,origPageSize:d.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(d,a.recordData);this.appendCampaign(d,a.recordData);this.appendInstoreAds(d,a.recordData);this.appendTitle(d,a.recordData);this.appendUserId(d);return d};a.redirect=function(a,b){window.open(a,b)}})(d.recordBindingBehavior||(d.recordBindingBehavior={}))})(b.elements||
(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}})(b.removeUnresolvedAttributeBehavior||(b.removeUnresolvedAttributeBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.clickSelector="[data-track='']";a.productClickSelector='[data-track="productClick"]';a.recommendationClickSelector='[data-track="recommendationClick"]';a.checkoutClickSelector='[data-track="checkoutClick"]';a.cartClickSelector='[data-track="cartClick"]';var d=new b.communication.Tracking12,f=b.communication.Util.trackingHelper.getTrackingProductId,m=b.communication.Util.trackingHelper.getPrice,e=b.communication.Util.trackingHelper.getMasterArticleNumber,k=
b.communication.Util.trackingHelper.getUserId,h=b.communication.Util.trackingHelper.getTitle;a.appendCount=function(a,b){a.count=b.count?b.count:1};a.appendInstoreAds=function(a,b){b.record.__FFInstoreAds__&&"true"===b.record.__FFInstoreAds__&&(a.instoreAds="true")};a.appendCampaign=function(a,b){b.record.__FFCampaign__&&(a.campaign=b.record.__FFCampaign__)};a.appendUserId=function(a){var b=k();b&&(a.userId=b)};a.appendTitle=function(a,b){(b=h(b))&&(a.title=b)};a.appendMasterArticleNumber=function(a,
b){(b=e(b))&&(a.masterId=b)};a.getRecordElement=function(a,e){return e?{recordData:e}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record")};a.bindClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);!0===this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),!0===
this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e))};a.bindProductClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e))};a.bindRecommendationClick=function(b){b=b||this;
if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e))};a.bindCheckoutClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.checkoutClickSelector,function(a){b._trackCheckoutClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.checkoutClickSelector,
function(a){b._trackCheckoutClick(b)},e))};a.bindCartClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e))};a._trackRecommendationClick=function(a,l,h){l=l?{recordData:l}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record");"ff-recommendation"!==
a.tagName.toLowerCase()&&(a=Polymer.dom(a),a=b.common.getParentElementByName(a,"ff-recommendation"));if(l){var k={type:"recommendationClick"};k.mainId=a.recordId;k.id=e(l.recordData)||f(l.recordData);this.appendMasterArticleNumber(k,l.recordData);this.appendUserId(k);h&&(k.always=h);d.recommendationClick(k)}};a._trackCheckoutClick=function(a,e,h){if(e=this.getRecordElement(a,e)){var k={id:f(e.recordData),price:m(e.recordData),query:e.recordData.record.__FFCartQuery__||b.communication.Util.getQueryFromSearchParams()};
this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.checkout(k)}else console.log("no record element found. tracking not possible.")};a._trackCartClick=function(a,e,h){e=this.getRecordElement(a,e);var k={id:f(e.recordData),price:m(e.recordData),query:b.communication.Util.getQueryFromSearchParams()};this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,
e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.cart(k)};a._trackProductClick=function(a,e,h){a=this.getRecordElement(a,e);e=b.communication.FFCommunicationEventAggregator.currentSearchResult;var k;a:{for(k=0;k<e.resultsPerPageList.length;k++){var m=e.resultsPerPageList[k];if(1==m.selected){k=m.value;break a}}k=void 0}m=a.recordData.position||a.recordData.record.__ORIG_POSITION__;e={query:b.communication.Util.getQueryFromSearchParams(),page:e.paging.currentPage,
id:f(a.recordData),pos:m,origPos:a.recordData.record.__ORIG_POSITION__||m,pageSize:k,origPageSize:e.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(e,a.recordData);this.appendCampaign(e,a.recordData);this.appendInstoreAds(e,a.recordData);this.appendTitle(e,a.recordData);this.appendUserId(e);h&&(e.always=h);d.click(e)}})(d.trackingBehavior||(d.trackingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){b=b.elements||(b.elements={});b.trackingBindingBehavior=[b.bindActionBehavior,b.trackingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){var b=Polymer,b=b.Gestures;a.bind=function(a,d,e){return(a=(e?e:Polymer.dom(this)).querySelector(a))?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindElement=function(a,d){return a?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindAll=function(a,d,e){if(a=(e?e:Polymer.dom(this)).querySelectorAll(a)){for(e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",d);return!0}return!1};a.bindElements=function(a,d){if(a){for(var e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",
d);return!0}return!1};a.unbind=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelector(a);b.remove(a,"tap",d)};a.unbindAll=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelectorAll(a);for(e=0;e<a.length;e++)b.remove(a[e],"tap",d)}})(b.bindActionBehavior||(b.bindActionBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){function b(a){var c=a&&a.nodeName?a:a.currentTarget;try{c.__transitionActive__=!1,c.removeEventListener("transitionend",b),"0px"!==c.style.height?(d(c,!1),c.style.height="",c.style.overflow="",setTimeout(function(){d(c,!0)})):d(c,!0)}catch(e){console.log(e)}finally{if(c&&c.__collapseCallback__){var l=c.__collapseCallback__;delete c.__collapseCallback__;setTimeout(function(){try{l()}catch(a){console.log(a)}},16)}}}function d(a,b){a.style["transition-duration"]=
!0===b?"":"0ms"}function m(a){a=a.getBoundingClientRect();for(var b in a)if(0!==a[b])return!0;return!1}function e(a){return a.getBoundingClientRect().height+"px"}function k(a,c,l,k){!0!==a.__transitionActive__&&(a.__transitionActive__=!0,k&&(a.__collapseCallback__=k),k=window.getComputedStyle(a),c=(k=k["transition-duration"]||k.transitionDuration)&&"0"!==k.replace(/\D/g,"")&&c,d(a,!1),c&&m(a)&&(k=e(a),"auto"===l&&(a.style.height="",l=e(a)),a.style.height=k,a.offsetHeight=a.offsetHeight,d(a,c),a.addEventListener("transitionend",
b)),"0px"===l?(a.style.overflow="hidden",a.removeAttribute("opened")):a.setAttribute("opened",""),a.style.height=l,c&&m(a)||(a.offsetHeight=a.offsetHeight,b(a)))}a._hide=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"0px",e)}catch(d){console.log(d)}};a._show=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"auto",e)}catch(d){console.log(d)}};a._toggle=function(a,b,d){void 0===b&&(b=!0);var f=e(a).replace(/\D/g,""),g=a.hasAttribute("opened");0<parseFloat(f)&&!1===g?this._hide(a,b,d):!1===g?this._show(a,
b,d):this._hide(a,b,d)}})(b.collapseElementsBehavior||(b.collapseElementsBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){a.properties={toggleFunctionName:{type:String},immediate:{type:Boolean},attributeName:{type:String},stateOneValue:{type:String},stateTwoValue:{type:String}};a.created=function(){var a=this;if(this[this.toggleFunctionName]){var b=this[this.toggleFunctionName];this.toggleFunctionName=function(){b.apply(arguments);a.toggleAttribute()}}if(!this.stateOneValue){var d=this.style[this.attributeName];this.stateOneValue=d?d:""}this.immediate&&this.toggleAttribute()};a.toggleAttribute=
function(){this.style[this.attributeName]=this.style[this.attributeName]===this.stateOneValue?this.stateTwoValue:this.stateOneValue};a.activateStateTwo=function(){this.style[this.attributeName]=this.stateTwoValue};a.activateStateOne=function(){this.style[this.attributeName]=this.stateOneValue}})(b.cssAttributeToggleBehavior||(b.cssAttributeToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,value:!0},productImageIdentifier:{type:String,value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"}};a.behaviors=[b.elements.bindActionBehavior];a.bindImage=function(a){this.searchLightDOM&&this._bindImage(Polymer.dom(this),a);this.searchShadowDOM&&this._bindImage(Polymer.dom(this.root))};a._bindImage=function(a,b){a=a.querySelectorAll(this.productImageIdentifier);
for(var d=0;d<a.length;d++){var e=a[d];if(!e.onerror){var k=e.attributes.getNamedItem("data-image-onerror");if(k){var h=k.nodeValue;h&&(e.onerror=function(){e.onerror=null;e.setAttribute("src",h)})}}e.setAttribute("src",b)}}})(d.imageBindingBehavior||(d.imageBindingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){b=b.elements||(b.elements={});b.imageTestBehavior=[b.bindActionBehavior,b.imageBindingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={templateString:{type:String},model:{type:Object,observer:"_modelObserver"},stampImmediate:{type:Boolean,value:!1}};a._renderer=new b.html.TemplateRenderer;a.ready=function(){this.updateTemplate();this.stampImmediate&&this.stamp()};a.stamp=function(){var a=this._renderer.render(this.templateString,this.model);Polymer.dom(this).innerHTML=a};a.updateTemplate=function(a){this.templateString=a?a:Polymer.dom(this).innerHTML};a._modelObserver=function(a,
b){this.stamp()}})(d.lightDOMTemplateBehavior||(d.lightDOMTemplateBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.__hashCodeGen=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)}return a()+a()+a()+a()};a.debugMessage=function(a){this.__hashCode||(this.__hashCode=this.__hashCodeGen(),b.common.Logger.debug(""));b.common.Logger.debug("DEBUG ["+this.tagName+" "+this.__hashCode+"] "+a)};a.created=function(){this.debugMessage("created callback invoked")};a.attached=function(){this.debugMessage("attached callback invoked")};a.detached=
function(){this.debugMessage("detached callback invoked")};a.ready=function(){this.debugMessage("ready callback invoked")}})(d.logLifeCycleCallbacksBehavior||(d.logLifeCycleCallbacksBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){var a=function(){function a(b,d){this.elementTemplate=b.node||b;-1<this.elementTemplate.nodeName.indexOf("-")&&CustomElements&&!0!==this.elementTemplate.__upgraded__&&!this.elementTemplate.clone&&(CustomElements.upgradeAll(this.elementTemplate),this.elementTemplate.__upgraded__=!0);this.type=b.type;this.parent=b.parentNode||d;this.previousSibling=b.previousSibling;this.nextSibling=b.nextSibling;try{Polymer.dom(Polymer.dom(this.elementTemplate).parentNode).removeChild(this.elementTemplate)}catch(e){}}
a.prototype.insert=function(a,b,e){var d=void 0!==a&&(void 0!==a.parentElement||Polymer.dom(a).parentNode);if(!a)try{a=this.elementTemplate.clone()}catch(g){throw this.elementTemplate+" does not implement clone()"+g;}d||(this.nextSibling?Polymer.dom(this.parent).insertBefore(a,this.nextSibling):Polymer.dom(this.parent).appendChild(a));Polymer.dom(this.parent).flush();try{b&&setTimeout(function(){b(a,e)})}catch(g){console.log(g)}};a.prototype.insertAll=function(a,b,e,d){for(var g=a.length>b.length?
a.length:b.length,c=0;c<g;c++)this.insert(a[c],e,b[c]);setTimeout(function(){try{d&&d()}catch(a){console.log(a)}})};return a}();b.InsertElementHelper=a})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.debounce("opacity",function(){this.style.opacity=1},100)}})(b.opacityToggleBehavior||(b.opacityToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function d(a){if(a=a.attributes.getNamedItem("data-redirect")){a=a.nodeValue;if(void 0!==a&&0<a.length)return a;if(this.recordData)return this.recordData.record.Deeplink;b.common.Logger.debug("no record data available for data-redirect action")}}function f(a){var b="_blank";if(a=a.attributes.getNamedItem("data-redirect-target"))a=a.nodeValue,void 0!==a&&0<a.length&&(b=a);return b}a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,
value:!0},productImageIdentifier:{type:"String",value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"},redirectIdentifier:{type:"String",value:"[data-redirect]"},redirectTargetIdentifier:{type:"String",value:"[data-redirect-target]"},recommendationIdentifier:{type:"String",value:"data-recommendation"},bindImmediate:{type:Boolean,value:!1}};a.behaviors=[b.elements.bindActionBehavior];var m=new b.communication.Tracking12;a.ready=function(){this.bindImmediate&&
(this.bindProductActions(),this.bindProductImage())};a.bindProductActions=function(){this._bindProductRedirect()};a.bindProductImage=function(){this.searchLightDOM&&this._bindProductImage(Polymer.dom(this));this.searchShadowDOM&&this._bindProductImage(Polymer.dom(this.root))};a._bindProductImage=function(a){a=a.querySelectorAll(this.productImageIdentifier);for(var d=0;d<a.length;d++){var f=a[d];if(!f.onerror){var c=f.attributes.getNamedItem("data-image-onerror");if(c){var g=c.nodeValue;g&&(f.onerror=
function(){f.onerror=null;f.setAttribute("src",g)})}}(c=f.getAttribute("data-image"))?void 0!==c&&0!==c.length&&f.setAttribute("src",c):(c=b.communication,f.setAttribute("src",this.recordData.record[c.fieldRoles?c.fieldRoles.imageUrl:""]||this.recordData.record.ImageUrl))}};a._bindProductRedirect=function(){this.searchLightDOM&&this.bindRedirect(Polymer.dom(this));this.searchShadowDOM&&this.bindRedirect(Polymer.dom(this.root))};a.bindRedirect=function(a){if(a){a=a.querySelectorAll(this.redirectIdentifier);
for(var b=0;b<a.length;b++){var d=a[b],c=Polymer.dom(d).querySelectorAll("[data-track]");if(0<c.length)for(var f=0;f<c.length;f++)c[f].attributes.removeNamedItem("data-track");this.bindElement(d,this._handleTrackingAndRedirect)}}};a._handleRedirect=function(a){var b=a.currentTarget;a=d(b);b=f(b);a&&this.redirect(a,b)};a._handleTrackingAndRedirect=function(a){a.stopPropagation();a=a.currentTarget;var b=this,h=d(a),c=f(a);h&&(a=this.getTrackingData(b),"_self"!==c?(!0===this.isRecommendation?this._trackRecommendationClick(this):
this._trackProductClick(this),this.redirect(h,c)):(a.always=function(){b.redirect(h,c)},m.click(a)))};a.getRedirectLocation=d;a.getRedirectTarget=f;a.getTrackingData=function(a){var d=b.communication.FFCommunicationEventAggregator.currentSearchResult,f;a:{for(f=0;f<d.resultsPerPageList.length;f++){var c=d.resultsPerPageList[f];if(1==c.selected){f=c.value;break a}}f=void 0}c=a.recordData.position||a.recordData.record.__ORIG_POSITION__;d={query:b.communication.Util.getQueryFromSearchParams(),page:d.paging.currentPage,
id:b.communication.Util.trackingHelper.getTrackingProductId(a.recordData),pos:c,origPos:a.recordData.record.__ORIG_POSITION__||c,pageSize:f,origPageSize:d.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(d,a.recordData);this.appendCampaign(d,a.recordData);this.appendInstoreAds(d,a.recordData);this.appendTitle(d,a.recordData);this.appendUserId(d);return d};a.redirect=function(a,b){window.open(a,b)}})(d.recordBindingBehavior||(d.recordBindingBehavior={}))})(b.elements||
(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}})(b.removeUnresolvedAttributeBehavior||(b.removeUnresolvedAttributeBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.clickSelector="[data-track='']";a.productClickSelector='[data-track="productClick"]';a.recommendationClickSelector='[data-track="recommendationClick"]';a.checkoutClickSelector='[data-track="checkoutClick"]';a.cartClickSelector='[data-track="cartClick"]';var d=new b.communication.Tracking12,f=b.communication.Util.trackingHelper.getTrackingProductId,m=b.communication.Util.trackingHelper.getPrice,e=b.communication.Util.trackingHelper.getMasterArticleNumber,k=
b.communication.Util.trackingHelper.getUserId,h=b.communication.Util.trackingHelper.getTitle;a.appendCount=function(a,b){a.count=b.count?b.count:1};a.appendInstoreAds=function(a,b){b.record.__FFInstoreAds__&&"true"===b.record.__FFInstoreAds__&&(a.instoreAds="true")};a.appendCampaign=function(a,b){b.record.__FFCampaign__&&(a.campaign=b.record.__FFCampaign__)};a.appendUserId=function(a){var b=k();b&&(a.userId=b)};a.appendTitle=function(a,b){(b=h(b))&&(a.title=b)};a.appendMasterArticleNumber=function(a,
b){(b=e(b))&&(a.masterId=b)};a.getRecordElement=function(a,e){return e?{recordData:e}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record")};a.bindClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);!0===this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),!0===
this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e))};a.bindProductClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e))};a.bindRecommendationClick=function(b){b=b||this;
if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e))};a.bindCheckoutClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.checkoutClickSelector,function(a){b._trackCheckoutClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.checkoutClickSelector,
function(a){b._trackCheckoutClick(b)},e))};a.bindCartClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e))};a._trackRecommendationClick=function(a,l,h){l=l?{recordData:l}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record");"ff-recommendation"!==
a.tagName.toLowerCase()&&(a=Polymer.dom(a),a=b.common.getParentElementByName(a,"ff-recommendation"));if(l){var k={type:"recommendationClick"};k.mainId=a.recordId;k.id=e(l.recordData)||f(l.recordData);this.appendMasterArticleNumber(k,l.recordData);this.appendUserId(k);h&&(k.always=h);d.recommendationClick(k)}};a._trackCheckoutClick=function(a,e,h){if(e=this.getRecordElement(a,e)){var k={id:f(e.recordData),price:m(e.recordData),query:e.recordData.record.__FFCartQuery__||b.communication.Util.getQueryFromSearchParams()};
this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.checkout(k)}else console.log("no record element found. tracking not possible.")};a._trackCartClick=function(a,e,h){e=this.getRecordElement(a,e);var k={id:f(e.recordData),price:m(e.recordData),query:b.communication.Util.getQueryFromSearchParams()};this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,
e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.cart(k)};a._trackProductClick=function(a,e,h){a=this.getRecordElement(a,e);e=b.communication.FFCommunicationEventAggregator.currentSearchResult;var k;a:{for(k=0;k<e.resultsPerPageList.length;k++){var m=e.resultsPerPageList[k];if(1==m.selected){k=m.value;break a}}k=void 0}m=a.recordData.position||a.recordData.record.__ORIG_POSITION__;e={query:b.communication.Util.getQueryFromSearchParams(),page:e.paging.currentPage,
id:f(a.recordData),pos:m,origPos:a.recordData.record.__ORIG_POSITION__||m,pageSize:k,origPageSize:e.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(e,a.recordData);this.appendCampaign(e,a.recordData);this.appendInstoreAds(e,a.recordData);this.appendTitle(e,a.recordData);this.appendUserId(e);h&&(e.always=h);d.click(e)}})(d.trackingBehavior||(d.trackingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){b=b.elements||(b.elements={});b.trackingBindingBehavior=[b.bindActionBehavior,b.trackingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){var b=Polymer,b=b.Gestures;a.bind=function(a,d,e){return(a=(e?e:Polymer.dom(this)).querySelector(a))?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindElement=function(a,d){return a?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindAll=function(a,d,e){if(a=(e?e:Polymer.dom(this)).querySelectorAll(a)){for(e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",d);return!0}return!1};a.bindElements=function(a,d){if(a){for(var e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",
d);return!0}return!1};a.unbind=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelector(a);b.remove(a,"tap",d)};a.unbindAll=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelectorAll(a);for(e=0;e<a.length;e++)b.remove(a[e],"tap",d)}})(b.bindActionBehavior||(b.bindActionBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){function b(a){var c=a&&a.nodeName?a:a.currentTarget;try{c.__transitionActive__=!1,c.removeEventListener("transitionend",b),"0px"!==c.style.height?(d(c,!1),c.style.height="",c.style.overflow="",setTimeout(function(){d(c,!0)})):d(c,!0)}catch(e){console.log(e)}finally{if(c&&c.__collapseCallback__){var l=c.__collapseCallback__;delete c.__collapseCallback__;setTimeout(function(){try{l()}catch(a){console.log(a)}},16)}}}function d(a,b){a.style["transition-duration"]=
!0===b?"":"0ms"}function m(a){a=a.getBoundingClientRect();for(var b in a)if(0!==a[b])return!0;return!1}function e(a){return a.getBoundingClientRect().height+"px"}function k(a,c,l,k){!0!==a.__transitionActive__&&(a.__transitionActive__=!0,k&&(a.__collapseCallback__=k),k=window.getComputedStyle(a),c=(k=k["transition-duration"]||k.transitionDuration)&&"0"!==k.replace(/\D/g,"")&&c,d(a,!1),c&&m(a)&&(k=e(a),"auto"===l&&(a.style.height="",l=e(a)),a.style.height=k,a.offsetHeight=a.offsetHeight,d(a,c),a.addEventListener("transitionend",
b)),"0px"===l?(a.style.overflow="hidden",a.removeAttribute("opened")):a.setAttribute("opened",""),a.style.height=l,c&&m(a)||(a.offsetHeight=a.offsetHeight,b(a)))}a._hide=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"0px",e)}catch(d){console.log(d)}};a._show=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"auto",e)}catch(d){console.log(d)}};a._toggle=function(a,b,d){void 0===b&&(b=!0);var f=e(a).replace(/\D/g,""),g=a.hasAttribute("opened");0<parseFloat(f)&&!1===g?this._hide(a,b,d):!1===g?this._show(a,
b,d):this._hide(a,b,d)}})(b.collapseElementsBehavior||(b.collapseElementsBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){a.properties={toggleFunctionName:{type:String},immediate:{type:Boolean},attributeName:{type:String},stateOneValue:{type:String},stateTwoValue:{type:String}};a.created=function(){var a=this;if(this[this.toggleFunctionName]){var b=this[this.toggleFunctionName];this.toggleFunctionName=function(){b.apply(arguments);a.toggleAttribute()}}if(!this.stateOneValue){var d=this.style[this.attributeName];this.stateOneValue=d?d:""}this.immediate&&this.toggleAttribute()};a.toggleAttribute=
function(){this.style[this.attributeName]=this.style[this.attributeName]===this.stateOneValue?this.stateTwoValue:this.stateOneValue};a.activateStateTwo=function(){this.style[this.attributeName]=this.stateTwoValue};a.activateStateOne=function(){this.style[this.attributeName]=this.stateOneValue}})(b.cssAttributeToggleBehavior||(b.cssAttributeToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,value:!0},productImageIdentifier:{type:String,value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"}};a.behaviors=[b.elements.bindActionBehavior];a.bindImage=function(a){this.searchLightDOM&&this._bindImage(Polymer.dom(this),a);this.searchShadowDOM&&this._bindImage(Polymer.dom(this.root))};a._bindImage=function(a,b){a=a.querySelectorAll(this.productImageIdentifier);
for(var d=0;d<a.length;d++){var e=a[d];if(!e.onerror){var k=e.attributes.getNamedItem("data-image-onerror");if(k){var h=k.nodeValue;h&&(e.onerror=function(){e.onerror=null;e.setAttribute("src",h)})}}e.setAttribute("src",b)}}})(d.imageBindingBehavior||(d.imageBindingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){b=b.elements||(b.elements={});b.imageTestBehavior=[b.bindActionBehavior,b.imageBindingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={templateString:{type:String},model:{type:Object,observer:"_modelObserver"},stampImmediate:{type:Boolean,value:!1}};a._renderer=new b.html.TemplateRenderer;a.ready=function(){this.updateTemplate();this.stampImmediate&&this.stamp()};a.stamp=function(){var a=this._renderer.render(this.templateString,this.model);Polymer.dom(this).innerHTML=a};a.updateTemplate=function(a){this.templateString=a?a:Polymer.dom(this).innerHTML};a._modelObserver=function(a,
b){this.stamp()}})(d.lightDOMTemplateBehavior||(d.lightDOMTemplateBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.__hashCodeGen=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)}return a()+a()+a()+a()};a.debugMessage=function(a){this.__hashCode||(this.__hashCode=this.__hashCodeGen(),b.common.Logger.debug(""));b.common.Logger.debug("DEBUG ["+this.tagName+" "+this.__hashCode+"] "+a)};a.created=function(){this.debugMessage("created callback invoked")};a.attached=function(){this.debugMessage("attached callback invoked")};a.detached=
function(){this.debugMessage("detached callback invoked")};a.ready=function(){this.debugMessage("ready callback invoked")}})(d.logLifeCycleCallbacksBehavior||(d.logLifeCycleCallbacksBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){var a=function(){function a(b,d){this.elementTemplate=b.node||b;-1<this.elementTemplate.nodeName.indexOf("-")&&CustomElements&&!0!==this.elementTemplate.__upgraded__&&!this.elementTemplate.clone&&(CustomElements.upgradeAll(this.elementTemplate),this.elementTemplate.__upgraded__=!0);this.type=b.type;this.parent=b.parentNode||d;this.previousSibling=b.previousSibling;this.nextSibling=b.nextSibling;try{Polymer.dom(Polymer.dom(this.elementTemplate).parentNode).removeChild(this.elementTemplate)}catch(e){}}
a.prototype.insert=function(a,b,e){var d=void 0!==a&&(void 0!==a.parentElement||Polymer.dom(a).parentNode);if(!a)try{a=this.elementTemplate.clone()}catch(g){throw this.elementTemplate+" does not implement clone()"+g;}d||(this.nextSibling?Polymer.dom(this.parent).insertBefore(a,this.nextSibling):Polymer.dom(this.parent).appendChild(a));Polymer.dom(this.parent).flush();try{b&&setTimeout(function(){b(a,e)})}catch(g){console.log(g)}};a.prototype.insertAll=function(a,b,e,d){for(var g=a.length>b.length?
a.length:b.length,c=0;c<g;c++)this.insert(a[c],e,b[c]);setTimeout(function(){try{d&&d()}catch(a){console.log(a)}})};return a}();b.InsertElementHelper=a})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.debounce("opacity",function(){this.style.opacity=1},100)}})(b.opacityToggleBehavior||(b.opacityToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function d(a){if(a=a.attributes.getNamedItem("data-redirect")){a=a.nodeValue;if(void 0!==a&&0<a.length)return a;if(this.recordData)return this.recordData.record.Deeplink;b.common.Logger.debug("no record data available for data-redirect action")}}function f(a){var b="_blank";if(a=a.attributes.getNamedItem("data-redirect-target"))a=a.nodeValue,void 0!==a&&0<a.length&&(b=a);return b}a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,
value:!0},productImageIdentifier:{type:"String",value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"},redirectIdentifier:{type:"String",value:"[data-redirect]"},redirectTargetIdentifier:{type:"String",value:"[data-redirect-target]"},recommendationIdentifier:{type:"String",value:"data-recommendation"},bindImmediate:{type:Boolean,value:!1}};a.behaviors=[b.elements.bindActionBehavior];var m=new b.communication.Tracking12;a.ready=function(){this.bindImmediate&&
(this.bindProductActions(),this.bindProductImage())};a.bindProductActions=function(){this._bindProductRedirect()};a.bindProductImage=function(){this.searchLightDOM&&this._bindProductImage(Polymer.dom(this));this.searchShadowDOM&&this._bindProductImage(Polymer.dom(this.root))};a._bindProductImage=function(a){a=a.querySelectorAll(this.productImageIdentifier);for(var d=0;d<a.length;d++){var f=a[d];if(!f.onerror){var c=f.attributes.getNamedItem("data-image-onerror");if(c){var g=c.nodeValue;g&&(f.onerror=
function(){f.onerror=null;f.setAttribute("src",g)})}}(c=f.getAttribute("data-image"))?void 0!==c&&0!==c.length&&f.setAttribute("src",c):(c=b.communication,f.setAttribute("src",this.recordData.record[c.fieldRoles?c.fieldRoles.imageUrl:""]||this.recordData.record.ImageUrl))}};a._bindProductRedirect=function(){this.searchLightDOM&&this.bindRedirect(Polymer.dom(this));this.searchShadowDOM&&this.bindRedirect(Polymer.dom(this.root))};a.bindRedirect=function(a){if(a){a=a.querySelectorAll(this.redirectIdentifier);
for(var b=0;b<a.length;b++){var d=a[b],c=Polymer.dom(d).querySelectorAll("[data-track]");if(0<c.length)for(var f=0;f<c.length;f++)c[f].attributes.removeNamedItem("data-track");this.bindElement(d,this._handleTrackingAndRedirect)}}};a._handleRedirect=function(a){var b=a.currentTarget;a=d(b);b=f(b);a&&this.redirect(a,b)};a._handleTrackingAndRedirect=function(a){a.stopPropagation();a=a.currentTarget;var b=this,h=d(a),c=f(a);h&&(a=this.getTrackingData(b),"_self"!==c?(!0===this.isRecommendation?this._trackRecommendationClick(this):
this._trackProductClick(this),this.redirect(h,c)):(a.always=function(){b.redirect(h,c)},m.click(a)))};a.getRedirectLocation=d;a.getRedirectTarget=f;a.getTrackingData=function(a){var d=b.communication.FFCommunicationEventAggregator.currentSearchResult,f;a:{for(f=0;f<d.resultsPerPageList.length;f++){var c=d.resultsPerPageList[f];if(1==c.selected){f=c.value;break a}}f=void 0}c=a.recordData.position||a.recordData.record.__ORIG_POSITION__;d={query:b.communication.Util.getQueryFromSearchParams(),page:d.paging.currentPage,
id:b.communication.Util.trackingHelper.getTrackingProductId(a.recordData),pos:c,origPos:a.recordData.record.__ORIG_POSITION__||c,pageSize:f,origPageSize:d.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(d,a.recordData);this.appendCampaign(d,a.recordData);this.appendInstoreAds(d,a.recordData);this.appendTitle(d,a.recordData);this.appendUserId(d);return d};a.redirect=function(a,b){window.open(a,b)}})(d.recordBindingBehavior||(d.recordBindingBehavior={}))})(b.elements||
(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}})(b.removeUnresolvedAttributeBehavior||(b.removeUnresolvedAttributeBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.clickSelector="[data-track='']";a.productClickSelector='[data-track="productClick"]';a.recommendationClickSelector='[data-track="recommendationClick"]';a.checkoutClickSelector='[data-track="checkoutClick"]';a.cartClickSelector='[data-track="cartClick"]';var d=new b.communication.Tracking12,f=b.communication.Util.trackingHelper.getTrackingProductId,m=b.communication.Util.trackingHelper.getPrice,e=b.communication.Util.trackingHelper.getMasterArticleNumber,k=
b.communication.Util.trackingHelper.getUserId,h=b.communication.Util.trackingHelper.getTitle;a.appendCount=function(a,b){a.count=b.count?b.count:1};a.appendInstoreAds=function(a,b){b.record.__FFInstoreAds__&&"true"===b.record.__FFInstoreAds__&&(a.instoreAds="true")};a.appendCampaign=function(a,b){b.record.__FFCampaign__&&(a.campaign=b.record.__FFCampaign__)};a.appendUserId=function(a){var b=k();b&&(a.userId=b)};a.appendTitle=function(a,b){(b=h(b))&&(a.title=b)};a.appendMasterArticleNumber=function(a,
b){(b=e(b))&&(a.masterId=b)};a.getRecordElement=function(a,e){return e?{recordData:e}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record")};a.bindClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);!0===this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),!0===
this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e))};a.bindProductClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e))};a.bindRecommendationClick=function(b){b=b||this;
if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e))};a.bindCheckoutClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.checkoutClickSelector,function(a){b._trackCheckoutClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.checkoutClickSelector,
function(a){b._trackCheckoutClick(b)},e))};a.bindCartClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e))};a._trackRecommendationClick=function(a,l,h){l=l?{recordData:l}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record");"ff-recommendation"!==
a.tagName.toLowerCase()&&(a=Polymer.dom(a),a=b.common.getParentElementByName(a,"ff-recommendation"));if(l){var k={type:"recommendationClick"};k.mainId=a.recordId;k.id=e(l.recordData)||f(l.recordData);this.appendMasterArticleNumber(k,l.recordData);this.appendUserId(k);h&&(k.always=h);d.recommendationClick(k)}};a._trackCheckoutClick=function(a,e,h){if(e=this.getRecordElement(a,e)){var k={id:f(e.recordData),price:m(e.recordData),query:e.recordData.record.__FFCartQuery__||b.communication.Util.getQueryFromSearchParams()};
this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.checkout(k)}else console.log("no record element found. tracking not possible.")};a._trackCartClick=function(a,e,h){e=this.getRecordElement(a,e);var k={id:f(e.recordData),price:m(e.recordData),query:b.communication.Util.getQueryFromSearchParams()};this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,
e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.cart(k)};a._trackProductClick=function(a,e,h){a=this.getRecordElement(a,e);e=b.communication.FFCommunicationEventAggregator.currentSearchResult;var k;a:{for(k=0;k<e.resultsPerPageList.length;k++){var m=e.resultsPerPageList[k];if(1==m.selected){k=m.value;break a}}k=void 0}m=a.recordData.position||a.recordData.record.__ORIG_POSITION__;e={query:b.communication.Util.getQueryFromSearchParams(),page:e.paging.currentPage,
id:f(a.recordData),pos:m,origPos:a.recordData.record.__ORIG_POSITION__||m,pageSize:k,origPageSize:e.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(e,a.recordData);this.appendCampaign(e,a.recordData);this.appendInstoreAds(e,a.recordData);this.appendTitle(e,a.recordData);this.appendUserId(e);h&&(e.always=h);d.click(e)}})(d.trackingBehavior||(d.trackingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){b=b.elements||(b.elements={});b.trackingBindingBehavior=[b.bindActionBehavior,b.trackingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){var b=Polymer,b=b.Gestures;a.bind=function(a,d,e){return(a=(e?e:Polymer.dom(this)).querySelector(a))?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindElement=function(a,d){return a?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindAll=function(a,d,e){if(a=(e?e:Polymer.dom(this)).querySelectorAll(a)){for(e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",d);return!0}return!1};a.bindElements=function(a,d){if(a){for(var e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",
d);return!0}return!1};a.unbind=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelector(a);b.remove(a,"tap",d)};a.unbindAll=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelectorAll(a);for(e=0;e<a.length;e++)b.remove(a[e],"tap",d)}})(b.bindActionBehavior||(b.bindActionBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){function b(a){var c=a&&a.nodeName?a:a.currentTarget;try{c.__transitionActive__=!1,c.removeEventListener("transitionend",b),"0px"!==c.style.height?(d(c,!1),c.style.height="",c.style.overflow="",setTimeout(function(){d(c,!0)})):d(c,!0)}catch(e){console.log(e)}finally{if(c&&c.__collapseCallback__){var l=c.__collapseCallback__;delete c.__collapseCallback__;setTimeout(function(){try{l()}catch(a){console.log(a)}},16)}}}function d(a,b){a.style["transition-duration"]=
!0===b?"":"0ms"}function m(a){a=a.getBoundingClientRect();for(var b in a)if(0!==a[b])return!0;return!1}function e(a){return a.getBoundingClientRect().height+"px"}function k(a,c,l,k){!0!==a.__transitionActive__&&(a.__transitionActive__=!0,k&&(a.__collapseCallback__=k),k=window.getComputedStyle(a),c=(k=k["transition-duration"]||k.transitionDuration)&&"0"!==k.replace(/\D/g,"")&&c,d(a,!1),c&&m(a)&&(k=e(a),"auto"===l&&(a.style.height="",l=e(a)),a.style.height=k,a.offsetHeight=a.offsetHeight,d(a,c),a.addEventListener("transitionend",
b)),"0px"===l?(a.style.overflow="hidden",a.removeAttribute("opened")):a.setAttribute("opened",""),a.style.height=l,c&&m(a)||(a.offsetHeight=a.offsetHeight,b(a)))}a._hide=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"0px",e)}catch(d){console.log(d)}};a._show=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"auto",e)}catch(d){console.log(d)}};a._toggle=function(a,b,d){void 0===b&&(b=!0);var f=e(a).replace(/\D/g,""),g=a.hasAttribute("opened");0<parseFloat(f)&&!1===g?this._hide(a,b,d):!1===g?this._show(a,
b,d):this._hide(a,b,d)}})(b.collapseElementsBehavior||(b.collapseElementsBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){a.properties={toggleFunctionName:{type:String},immediate:{type:Boolean},attributeName:{type:String},stateOneValue:{type:String},stateTwoValue:{type:String}};a.created=function(){var a=this;if(this[this.toggleFunctionName]){var b=this[this.toggleFunctionName];this.toggleFunctionName=function(){b.apply(arguments);a.toggleAttribute()}}if(!this.stateOneValue){var d=this.style[this.attributeName];this.stateOneValue=d?d:""}this.immediate&&this.toggleAttribute()};a.toggleAttribute=
function(){this.style[this.attributeName]=this.style[this.attributeName]===this.stateOneValue?this.stateTwoValue:this.stateOneValue};a.activateStateTwo=function(){this.style[this.attributeName]=this.stateTwoValue};a.activateStateOne=function(){this.style[this.attributeName]=this.stateOneValue}})(b.cssAttributeToggleBehavior||(b.cssAttributeToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,value:!0},productImageIdentifier:{type:String,value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"}};a.behaviors=[b.elements.bindActionBehavior];a.bindImage=function(a){this.searchLightDOM&&this._bindImage(Polymer.dom(this),a);this.searchShadowDOM&&this._bindImage(Polymer.dom(this.root))};a._bindImage=function(a,b){a=a.querySelectorAll(this.productImageIdentifier);
for(var d=0;d<a.length;d++){var e=a[d];if(!e.onerror){var k=e.attributes.getNamedItem("data-image-onerror");if(k){var h=k.nodeValue;h&&(e.onerror=function(){e.onerror=null;e.setAttribute("src",h)})}}e.setAttribute("src",b)}}})(d.imageBindingBehavior||(d.imageBindingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){b=b.elements||(b.elements={});b.imageTestBehavior=[b.bindActionBehavior,b.imageBindingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={templateString:{type:String},model:{type:Object,observer:"_modelObserver"},stampImmediate:{type:Boolean,value:!1}};a._renderer=new b.html.TemplateRenderer;a.ready=function(){this.updateTemplate();this.stampImmediate&&this.stamp()};a.stamp=function(){var a=this._renderer.render(this.templateString,this.model);Polymer.dom(this).innerHTML=a};a.updateTemplate=function(a){this.templateString=a?a:Polymer.dom(this).innerHTML};a._modelObserver=function(a,
b){this.stamp()}})(d.lightDOMTemplateBehavior||(d.lightDOMTemplateBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.__hashCodeGen=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)}return a()+a()+a()+a()};a.debugMessage=function(a){this.__hashCode||(this.__hashCode=this.__hashCodeGen(),b.common.Logger.debug(""));b.common.Logger.debug("DEBUG ["+this.tagName+" "+this.__hashCode+"] "+a)};a.created=function(){this.debugMessage("created callback invoked")};a.attached=function(){this.debugMessage("attached callback invoked")};a.detached=
function(){this.debugMessage("detached callback invoked")};a.ready=function(){this.debugMessage("ready callback invoked")}})(d.logLifeCycleCallbacksBehavior||(d.logLifeCycleCallbacksBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){var a=function(){function a(b,d){this.elementTemplate=b.node||b;-1<this.elementTemplate.nodeName.indexOf("-")&&CustomElements&&!0!==this.elementTemplate.__upgraded__&&!this.elementTemplate.clone&&(CustomElements.upgradeAll(this.elementTemplate),this.elementTemplate.__upgraded__=!0);this.type=b.type;this.parent=b.parentNode||d;this.previousSibling=b.previousSibling;this.nextSibling=b.nextSibling;try{Polymer.dom(Polymer.dom(this.elementTemplate).parentNode).removeChild(this.elementTemplate)}catch(e){}}
a.prototype.insert=function(a,b,e){var d=void 0!==a&&(void 0!==a.parentElement||Polymer.dom(a).parentNode);if(!a)try{a=this.elementTemplate.clone()}catch(g){throw this.elementTemplate+" does not implement clone()"+g;}d||(this.nextSibling?Polymer.dom(this.parent).insertBefore(a,this.nextSibling):Polymer.dom(this.parent).appendChild(a));Polymer.dom(this.parent).flush();try{b&&setTimeout(function(){b(a,e)})}catch(g){console.log(g)}};a.prototype.insertAll=function(a,b,e,d){for(var g=a.length>b.length?
a.length:b.length,c=0;c<g;c++)this.insert(a[c],e,b[c]);setTimeout(function(){try{d&&d()}catch(a){console.log(a)}})};return a}();b.InsertElementHelper=a})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.debounce("opacity",function(){this.style.opacity=1},100)}})(b.opacityToggleBehavior||(b.opacityToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function d(a){if(a=a.attributes.getNamedItem("data-redirect")){a=a.nodeValue;if(void 0!==a&&0<a.length)return a;if(this.recordData)return this.recordData.record.Deeplink;b.common.Logger.debug("no record data available for data-redirect action")}}function f(a){var b="_blank";if(a=a.attributes.getNamedItem("data-redirect-target"))a=a.nodeValue,void 0!==a&&0<a.length&&(b=a);return b}a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,
value:!0},productImageIdentifier:{type:"String",value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"},redirectIdentifier:{type:"String",value:"[data-redirect]"},redirectTargetIdentifier:{type:"String",value:"[data-redirect-target]"},recommendationIdentifier:{type:"String",value:"data-recommendation"},bindImmediate:{type:Boolean,value:!1}};a.behaviors=[b.elements.bindActionBehavior];var m=new b.communication.Tracking12;a.ready=function(){this.bindImmediate&&
(this.bindProductActions(),this.bindProductImage())};a.bindProductActions=function(){this._bindProductRedirect()};a.bindProductImage=function(){this.searchLightDOM&&this._bindProductImage(Polymer.dom(this));this.searchShadowDOM&&this._bindProductImage(Polymer.dom(this.root))};a._bindProductImage=function(a){a=a.querySelectorAll(this.productImageIdentifier);for(var d=0;d<a.length;d++){var f=a[d];if(!f.onerror){var c=f.attributes.getNamedItem("data-image-onerror");if(c){var g=c.nodeValue;g&&(f.onerror=
function(){f.onerror=null;f.setAttribute("src",g)})}}(c=f.getAttribute("data-image"))?void 0!==c&&0!==c.length&&f.setAttribute("src",c):(c=b.communication,f.setAttribute("src",this.recordData.record[c.fieldRoles?c.fieldRoles.imageUrl:""]||this.recordData.record.ImageUrl))}};a._bindProductRedirect=function(){this.searchLightDOM&&this.bindRedirect(Polymer.dom(this));this.searchShadowDOM&&this.bindRedirect(Polymer.dom(this.root))};a.bindRedirect=function(a){if(a){a=a.querySelectorAll(this.redirectIdentifier);
for(var b=0;b<a.length;b++){var d=a[b],c=Polymer.dom(d).querySelectorAll("[data-track]");if(0<c.length)for(var f=0;f<c.length;f++)c[f].attributes.removeNamedItem("data-track");this.bindElement(d,this._handleTrackingAndRedirect)}}};a._handleRedirect=function(a){var b=a.currentTarget;a=d(b);b=f(b);a&&this.redirect(a,b)};a._handleTrackingAndRedirect=function(a){a.stopPropagation();a=a.currentTarget;var b=this,h=d(a),c=f(a);h&&(a=this.getTrackingData(b),"_self"!==c?(!0===this.isRecommendation?this._trackRecommendationClick(this):
this._trackProductClick(this),this.redirect(h,c)):(a.always=function(){b.redirect(h,c)},m.click(a)))};a.getRedirectLocation=d;a.getRedirectTarget=f;a.getTrackingData=function(a){var d=b.communication.FFCommunicationEventAggregator.currentSearchResult,f;a:{for(f=0;f<d.resultsPerPageList.length;f++){var c=d.resultsPerPageList[f];if(1==c.selected){f=c.value;break a}}f=void 0}c=a.recordData.position||a.recordData.record.__ORIG_POSITION__;d={query:b.communication.Util.getQueryFromSearchParams(),page:d.paging.currentPage,
id:b.communication.Util.trackingHelper.getTrackingProductId(a.recordData),pos:c,origPos:a.recordData.record.__ORIG_POSITION__||c,pageSize:f,origPageSize:d.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(d,a.recordData);this.appendCampaign(d,a.recordData);this.appendInstoreAds(d,a.recordData);this.appendTitle(d,a.recordData);this.appendUserId(d);return d};a.redirect=function(a,b){window.open(a,b)}})(d.recordBindingBehavior||(d.recordBindingBehavior={}))})(b.elements||
(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}})(b.removeUnresolvedAttributeBehavior||(b.removeUnresolvedAttributeBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.clickSelector="[data-track='']";a.productClickSelector='[data-track="productClick"]';a.recommendationClickSelector='[data-track="recommendationClick"]';a.checkoutClickSelector='[data-track="checkoutClick"]';a.cartClickSelector='[data-track="cartClick"]';var d=new b.communication.Tracking12,f=b.communication.Util.trackingHelper.getTrackingProductId,m=b.communication.Util.trackingHelper.getPrice,e=b.communication.Util.trackingHelper.getMasterArticleNumber,k=
b.communication.Util.trackingHelper.getUserId,h=b.communication.Util.trackingHelper.getTitle;a.appendCount=function(a,b){a.count=b.count?b.count:1};a.appendInstoreAds=function(a,b){b.record.__FFInstoreAds__&&"true"===b.record.__FFInstoreAds__&&(a.instoreAds="true")};a.appendCampaign=function(a,b){b.record.__FFCampaign__&&(a.campaign=b.record.__FFCampaign__)};a.appendUserId=function(a){var b=k();b&&(a.userId=b)};a.appendTitle=function(a,b){(b=h(b))&&(a.title=b)};a.appendMasterArticleNumber=function(a,
b){(b=e(b))&&(a.masterId=b)};a.getRecordElement=function(a,e){return e?{recordData:e}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record")};a.bindClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);!0===this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),!0===
this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e))};a.bindProductClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e))};a.bindRecommendationClick=function(b){b=b||this;
if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e))};a.bindCheckoutClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.checkoutClickSelector,function(a){b._trackCheckoutClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.checkoutClickSelector,
function(a){b._trackCheckoutClick(b)},e))};a.bindCartClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e))};a._trackRecommendationClick=function(a,l,h){l=l?{recordData:l}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record");"ff-recommendation"!==
a.tagName.toLowerCase()&&(a=Polymer.dom(a),a=b.common.getParentElementByName(a,"ff-recommendation"));if(l){var k={type:"recommendationClick"};k.mainId=a.recordId;k.id=e(l.recordData)||f(l.recordData);this.appendMasterArticleNumber(k,l.recordData);this.appendUserId(k);h&&(k.always=h);d.recommendationClick(k)}};a._trackCheckoutClick=function(a,e,h){if(e=this.getRecordElement(a,e)){var k={id:f(e.recordData),price:m(e.recordData),query:e.recordData.record.__FFCartQuery__||b.communication.Util.getQueryFromSearchParams()};
this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.checkout(k)}else console.log("no record element found. tracking not possible.")};a._trackCartClick=function(a,e,h){e=this.getRecordElement(a,e);var k={id:f(e.recordData),price:m(e.recordData),query:b.communication.Util.getQueryFromSearchParams()};this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,
e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.cart(k)};a._trackProductClick=function(a,e,h){a=this.getRecordElement(a,e);e=b.communication.FFCommunicationEventAggregator.currentSearchResult;var k;a:{for(k=0;k<e.resultsPerPageList.length;k++){var m=e.resultsPerPageList[k];if(1==m.selected){k=m.value;break a}}k=void 0}m=a.recordData.position||a.recordData.record.__ORIG_POSITION__;e={query:b.communication.Util.getQueryFromSearchParams(),page:e.paging.currentPage,
id:f(a.recordData),pos:m,origPos:a.recordData.record.__ORIG_POSITION__||m,pageSize:k,origPageSize:e.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(e,a.recordData);this.appendCampaign(e,a.recordData);this.appendInstoreAds(e,a.recordData);this.appendTitle(e,a.recordData);this.appendUserId(e);h&&(e.always=h);d.click(e)}})(d.trackingBehavior||(d.trackingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){b=b.elements||(b.elements={});b.trackingBindingBehavior=[b.bindActionBehavior,b.trackingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){var b=Polymer,b=b.Gestures;a.bind=function(a,d,e){return(a=(e?e:Polymer.dom(this)).querySelector(a))?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindElement=function(a,d){return a?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindAll=function(a,d,e){if(a=(e?e:Polymer.dom(this)).querySelectorAll(a)){for(e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",d);return!0}return!1};a.bindElements=function(a,d){if(a){for(var e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",
d);return!0}return!1};a.unbind=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelector(a);b.remove(a,"tap",d)};a.unbindAll=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelectorAll(a);for(e=0;e<a.length;e++)b.remove(a[e],"tap",d)}})(b.bindActionBehavior||(b.bindActionBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){function b(a){var c=a&&a.nodeName?a:a.currentTarget;try{c.__transitionActive__=!1,c.removeEventListener("transitionend",b),"0px"!==c.style.height?(d(c,!1),c.style.height="",c.style.overflow="",setTimeout(function(){d(c,!0)})):d(c,!0)}catch(e){console.log(e)}finally{if(c&&c.__collapseCallback__){var l=c.__collapseCallback__;delete c.__collapseCallback__;setTimeout(function(){try{l()}catch(a){console.log(a)}},16)}}}function d(a,b){a.style["transition-duration"]=
!0===b?"":"0ms"}function m(a){a=a.getBoundingClientRect();for(var b in a)if(0!==a[b])return!0;return!1}function e(a){return a.getBoundingClientRect().height+"px"}function k(a,c,l,k){!0!==a.__transitionActive__&&(a.__transitionActive__=!0,k&&(a.__collapseCallback__=k),k=window.getComputedStyle(a),c=(k=k["transition-duration"]||k.transitionDuration)&&"0"!==k.replace(/\D/g,"")&&c,d(a,!1),c&&m(a)&&(k=e(a),"auto"===l&&(a.style.height="",l=e(a)),a.style.height=k,a.offsetHeight=a.offsetHeight,d(a,c),a.addEventListener("transitionend",
b)),"0px"===l?(a.style.overflow="hidden",a.removeAttribute("opened")):a.setAttribute("opened",""),a.style.height=l,c&&m(a)||(a.offsetHeight=a.offsetHeight,b(a)))}a._hide=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"0px",e)}catch(d){console.log(d)}};a._show=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"auto",e)}catch(d){console.log(d)}};a._toggle=function(a,b,d){void 0===b&&(b=!0);var f=e(a).replace(/\D/g,""),g=a.hasAttribute("opened");0<parseFloat(f)&&!1===g?this._hide(a,b,d):!1===g?this._show(a,
b,d):this._hide(a,b,d)}})(b.collapseElementsBehavior||(b.collapseElementsBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){a.properties={toggleFunctionName:{type:String},immediate:{type:Boolean},attributeName:{type:String},stateOneValue:{type:String},stateTwoValue:{type:String}};a.created=function(){var a=this;if(this[this.toggleFunctionName]){var b=this[this.toggleFunctionName];this.toggleFunctionName=function(){b.apply(arguments);a.toggleAttribute()}}if(!this.stateOneValue){var d=this.style[this.attributeName];this.stateOneValue=d?d:""}this.immediate&&this.toggleAttribute()};a.toggleAttribute=
function(){this.style[this.attributeName]=this.style[this.attributeName]===this.stateOneValue?this.stateTwoValue:this.stateOneValue};a.activateStateTwo=function(){this.style[this.attributeName]=this.stateTwoValue};a.activateStateOne=function(){this.style[this.attributeName]=this.stateOneValue}})(b.cssAttributeToggleBehavior||(b.cssAttributeToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,value:!0},productImageIdentifier:{type:String,value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"}};a.behaviors=[b.elements.bindActionBehavior];a.bindImage=function(a){this.searchLightDOM&&this._bindImage(Polymer.dom(this),a);this.searchShadowDOM&&this._bindImage(Polymer.dom(this.root))};a._bindImage=function(a,b){a=a.querySelectorAll(this.productImageIdentifier);
for(var d=0;d<a.length;d++){var e=a[d];if(!e.onerror){var k=e.attributes.getNamedItem("data-image-onerror");if(k){var h=k.nodeValue;h&&(e.onerror=function(){e.onerror=null;e.setAttribute("src",h)})}}e.setAttribute("src",b)}}})(d.imageBindingBehavior||(d.imageBindingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){b=b.elements||(b.elements={});b.imageTestBehavior=[b.bindActionBehavior,b.imageBindingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={templateString:{type:String},model:{type:Object,observer:"_modelObserver"},stampImmediate:{type:Boolean,value:!1}};a._renderer=new b.html.TemplateRenderer;a.ready=function(){this.updateTemplate();this.stampImmediate&&this.stamp()};a.stamp=function(){var a=this._renderer.render(this.templateString,this.model);Polymer.dom(this).innerHTML=a};a.updateTemplate=function(a){this.templateString=a?a:Polymer.dom(this).innerHTML};a._modelObserver=function(a,
b){this.stamp()}})(d.lightDOMTemplateBehavior||(d.lightDOMTemplateBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.__hashCodeGen=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)}return a()+a()+a()+a()};a.debugMessage=function(a){this.__hashCode||(this.__hashCode=this.__hashCodeGen(),b.common.Logger.debug(""));b.common.Logger.debug("DEBUG ["+this.tagName+" "+this.__hashCode+"] "+a)};a.created=function(){this.debugMessage("created callback invoked")};a.attached=function(){this.debugMessage("attached callback invoked")};a.detached=
function(){this.debugMessage("detached callback invoked")};a.ready=function(){this.debugMessage("ready callback invoked")}})(d.logLifeCycleCallbacksBehavior||(d.logLifeCycleCallbacksBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){var a=function(){function a(b,d){this.elementTemplate=b.node||b;-1<this.elementTemplate.nodeName.indexOf("-")&&CustomElements&&!0!==this.elementTemplate.__upgraded__&&!this.elementTemplate.clone&&(CustomElements.upgradeAll(this.elementTemplate),this.elementTemplate.__upgraded__=!0);this.type=b.type;this.parent=b.parentNode||d;this.previousSibling=b.previousSibling;this.nextSibling=b.nextSibling;try{Polymer.dom(Polymer.dom(this.elementTemplate).parentNode).removeChild(this.elementTemplate)}catch(e){}}
a.prototype.insert=function(a,b,e){var d=void 0!==a&&(void 0!==a.parentElement||Polymer.dom(a).parentNode);if(!a)try{a=this.elementTemplate.clone()}catch(g){throw this.elementTemplate+" does not implement clone()"+g;}d||(this.nextSibling?Polymer.dom(this.parent).insertBefore(a,this.nextSibling):Polymer.dom(this.parent).appendChild(a));Polymer.dom(this.parent).flush();try{b&&setTimeout(function(){b(a,e)})}catch(g){console.log(g)}};a.prototype.insertAll=function(a,b,e,d){for(var g=a.length>b.length?
a.length:b.length,c=0;c<g;c++)this.insert(a[c],e,b[c]);setTimeout(function(){try{d&&d()}catch(a){console.log(a)}})};return a}();b.InsertElementHelper=a})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.debounce("opacity",function(){this.style.opacity=1},100)}})(b.opacityToggleBehavior||(b.opacityToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function d(a){if(a=a.attributes.getNamedItem("data-redirect")){a=a.nodeValue;if(void 0!==a&&0<a.length)return a;if(this.recordData)return this.recordData.record.Deeplink;b.common.Logger.debug("no record data available for data-redirect action")}}function f(a){var b="_blank";if(a=a.attributes.getNamedItem("data-redirect-target"))a=a.nodeValue,void 0!==a&&0<a.length&&(b=a);return b}a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,
value:!0},productImageIdentifier:{type:"String",value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"},redirectIdentifier:{type:"String",value:"[data-redirect]"},redirectTargetIdentifier:{type:"String",value:"[data-redirect-target]"},recommendationIdentifier:{type:"String",value:"data-recommendation"},bindImmediate:{type:Boolean,value:!1}};a.behaviors=[b.elements.bindActionBehavior];var m=new b.communication.Tracking12;a.ready=function(){this.bindImmediate&&
(this.bindProductActions(),this.bindProductImage())};a.bindProductActions=function(){this._bindProductRedirect()};a.bindProductImage=function(){this.searchLightDOM&&this._bindProductImage(Polymer.dom(this));this.searchShadowDOM&&this._bindProductImage(Polymer.dom(this.root))};a._bindProductImage=function(a){a=a.querySelectorAll(this.productImageIdentifier);for(var d=0;d<a.length;d++){var f=a[d];if(!f.onerror){var c=f.attributes.getNamedItem("data-image-onerror");if(c){var g=c.nodeValue;g&&(f.onerror=
function(){f.onerror=null;f.setAttribute("src",g)})}}(c=f.getAttribute("data-image"))?void 0!==c&&0!==c.length&&f.setAttribute("src",c):(c=b.communication,f.setAttribute("src",this.recordData.record[c.fieldRoles?c.fieldRoles.imageUrl:""]||this.recordData.record.ImageUrl))}};a._bindProductRedirect=function(){this.searchLightDOM&&this.bindRedirect(Polymer.dom(this));this.searchShadowDOM&&this.bindRedirect(Polymer.dom(this.root))};a.bindRedirect=function(a){if(a){a=a.querySelectorAll(this.redirectIdentifier);
for(var b=0;b<a.length;b++){var d=a[b],c=Polymer.dom(d).querySelectorAll("[data-track]");if(0<c.length)for(var f=0;f<c.length;f++)c[f].attributes.removeNamedItem("data-track");this.bindElement(d,this._handleTrackingAndRedirect)}}};a._handleRedirect=function(a){var b=a.currentTarget;a=d(b);b=f(b);a&&this.redirect(a,b)};a._handleTrackingAndRedirect=function(a){a.stopPropagation();a=a.currentTarget;var b=this,h=d(a),c=f(a);h&&(a=this.getTrackingData(b),"_self"!==c?(!0===this.isRecommendation?this._trackRecommendationClick(this):
this._trackProductClick(this),this.redirect(h,c)):(a.always=function(){b.redirect(h,c)},m.click(a)))};a.getRedirectLocation=d;a.getRedirectTarget=f;a.getTrackingData=function(a){var d=b.communication.FFCommunicationEventAggregator.currentSearchResult,f;a:{for(f=0;f<d.resultsPerPageList.length;f++){var c=d.resultsPerPageList[f];if(1==c.selected){f=c.value;break a}}f=void 0}c=a.recordData.position||a.recordData.record.__ORIG_POSITION__;d={query:b.communication.Util.getQueryFromSearchParams(),page:d.paging.currentPage,
id:b.communication.Util.trackingHelper.getTrackingProductId(a.recordData),pos:c,origPos:a.recordData.record.__ORIG_POSITION__||c,pageSize:f,origPageSize:d.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(d,a.recordData);this.appendCampaign(d,a.recordData);this.appendInstoreAds(d,a.recordData);this.appendTitle(d,a.recordData);this.appendUserId(d);return d};a.redirect=function(a,b){window.open(a,b)}})(d.recordBindingBehavior||(d.recordBindingBehavior={}))})(b.elements||
(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}})(b.removeUnresolvedAttributeBehavior||(b.removeUnresolvedAttributeBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.clickSelector="[data-track='']";a.productClickSelector='[data-track="productClick"]';a.recommendationClickSelector='[data-track="recommendationClick"]';a.checkoutClickSelector='[data-track="checkoutClick"]';a.cartClickSelector='[data-track="cartClick"]';var d=new b.communication.Tracking12,f=b.communication.Util.trackingHelper.getTrackingProductId,m=b.communication.Util.trackingHelper.getPrice,e=b.communication.Util.trackingHelper.getMasterArticleNumber,k=
b.communication.Util.trackingHelper.getUserId,h=b.communication.Util.trackingHelper.getTitle;a.appendCount=function(a,b){a.count=b.count?b.count:1};a.appendInstoreAds=function(a,b){b.record.__FFInstoreAds__&&"true"===b.record.__FFInstoreAds__&&(a.instoreAds="true")};a.appendCampaign=function(a,b){b.record.__FFCampaign__&&(a.campaign=b.record.__FFCampaign__)};a.appendUserId=function(a){var b=k();b&&(a.userId=b)};a.appendTitle=function(a,b){(b=h(b))&&(a.title=b)};a.appendMasterArticleNumber=function(a,
b){(b=e(b))&&(a.masterId=b)};a.getRecordElement=function(a,e){return e?{recordData:e}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record")};a.bindClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);!0===this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),!0===
this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e))};a.bindProductClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e))};a.bindRecommendationClick=function(b){b=b||this;
if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e))};a.bindCheckoutClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.checkoutClickSelector,function(a){b._trackCheckoutClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.checkoutClickSelector,
function(a){b._trackCheckoutClick(b)},e))};a.bindCartClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e))};a._trackRecommendationClick=function(a,h,k){h=h?{recordData:h}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record");"ff-recommendation"!==
a.tagName.toLowerCase()&&(a=Polymer.dom(a),a=b.common.getParentElementByName(a,"ff-recommendation"));if(h){var m={type:"recommendationClick"};m.mainId=a.recordId;m.id=e(h.recordData)||f(h.recordData);this.appendMasterArticleNumber(m,h.recordData);this.appendUserId(m);k&&(m.always=k);d.recommendationClick(m)}};a._trackCheckoutClick=function(a,e,h){if(e=this.getRecordElement(a,e)){var k={id:f(e.recordData),price:m(e.recordData),query:e.recordData.record.__FFCartQuery__||b.communication.Util.getQueryFromSearchParams()};
this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.checkout(k)}else console.log("no record element found. tracking not possible.")};a._trackCartClick=function(a,e,h){e=this.getRecordElement(a,e);var k={id:f(e.recordData),price:m(e.recordData),query:b.communication.Util.getQueryFromSearchParams()};this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,
e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.cart(k)};a._trackProductClick=function(a,e,h){a=this.getRecordElement(a,e);e=b.communication.FFCommunicationEventAggregator.currentSearchResult;var k;a:{for(k=0;k<e.resultsPerPageList.length;k++){var m=e.resultsPerPageList[k];if(1==m.selected){k=m.value;break a}}k=void 0}m=a.recordData.position||a.recordData.record.__ORIG_POSITION__;e={query:b.communication.Util.getQueryFromSearchParams(),page:e.paging.currentPage,
id:f(a.recordData),pos:m,origPos:a.recordData.record.__ORIG_POSITION__||m,pageSize:k,origPageSize:e.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(e,a.recordData);this.appendCampaign(e,a.recordData);this.appendInstoreAds(e,a.recordData);this.appendTitle(e,a.recordData);this.appendUserId(e);h&&(e.always=h);d.click(e)}})(d.trackingBehavior||(d.trackingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){b=b.elements||(b.elements={});b.trackingBindingBehavior=[b.bindActionBehavior,b.trackingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){var b=Polymer,b=b.Gestures;a.bind=function(a,d,e){return(a=(e?e:Polymer.dom(this)).querySelector(a))?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindElement=function(a,d){return a?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindAll=function(a,d,e){if(a=(e?e:Polymer.dom(this)).querySelectorAll(a)){for(e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",d);return!0}return!1};a.bindElements=function(a,d){if(a){for(var e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",
d);return!0}return!1};a.unbind=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelector(a);b.remove(a,"tap",d)};a.unbindAll=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelectorAll(a);for(e=0;e<a.length;e++)b.remove(a[e],"tap",d)}})(b.bindActionBehavior||(b.bindActionBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){function b(a){var c=a&&a.nodeName?a:a.currentTarget;try{c.__transitionActive__=!1,c.removeEventListener("transitionend",b),"0px"!==c.style.height?(d(c,!1),c.style.height="",c.style.overflow="",setTimeout(function(){d(c,!0)})):d(c,!0)}catch(e){console.log(e)}finally{if(c&&c.__collapseCallback__){var l=c.__collapseCallback__;delete c.__collapseCallback__;setTimeout(function(){try{l()}catch(a){console.log(a)}},16)}}}function d(a,b){a.style["transition-duration"]=
!0===b?"":"0ms"}function m(a){a=a.getBoundingClientRect();for(var b in a)if(0!==a[b])return!0;return!1}function e(a){return a.getBoundingClientRect().height+"px"}function k(a,c,l,k){!0!==a.__transitionActive__&&(a.__transitionActive__=!0,k&&(a.__collapseCallback__=k),k=window.getComputedStyle(a),c=(k=k["transition-duration"]||k.transitionDuration)&&"0"!==k.replace(/\D/g,"")&&c,d(a,!1),c&&m(a)&&(k=e(a),"auto"===l&&(a.style.height="",l=e(a)),a.style.height=k,a.offsetHeight=a.offsetHeight,d(a,c),a.addEventListener("transitionend",
b)),"0px"===l?(a.style.overflow="hidden",a.removeAttribute("opened")):a.setAttribute("opened",""),a.style.height=l,c&&m(a)||(a.offsetHeight=a.offsetHeight,b(a)))}a._hide=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"0px",e)}catch(d){console.log(d)}};a._show=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"auto",e)}catch(d){console.log(d)}};a._toggle=function(a,b,d){void 0===b&&(b=!0);var f=e(a).replace(/\D/g,""),g=a.hasAttribute("opened");0<parseFloat(f)&&!1===g?this._hide(a,b,d):!1===g?this._show(a,
b,d):this._hide(a,b,d)}})(b.collapseElementsBehavior||(b.collapseElementsBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){a.properties={toggleFunctionName:{type:String},immediate:{type:Boolean},attributeName:{type:String},stateOneValue:{type:String},stateTwoValue:{type:String}};a.created=function(){var a=this;if(this[this.toggleFunctionName]){var b=this[this.toggleFunctionName];this.toggleFunctionName=function(){b.apply(arguments);a.toggleAttribute()}}if(!this.stateOneValue){var d=this.style[this.attributeName];this.stateOneValue=d?d:""}this.immediate&&this.toggleAttribute()};a.toggleAttribute=
function(){this.style[this.attributeName]=this.style[this.attributeName]===this.stateOneValue?this.stateTwoValue:this.stateOneValue};a.activateStateTwo=function(){this.style[this.attributeName]=this.stateTwoValue};a.activateStateOne=function(){this.style[this.attributeName]=this.stateOneValue}})(b.cssAttributeToggleBehavior||(b.cssAttributeToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,value:!0},productImageIdentifier:{type:String,value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"}};a.behaviors=[b.elements.bindActionBehavior];a.bindImage=function(a){this.searchLightDOM&&this._bindImage(Polymer.dom(this),a);this.searchShadowDOM&&this._bindImage(Polymer.dom(this.root))};a._bindImage=function(a,b){a=a.querySelectorAll(this.productImageIdentifier);
for(var d=0;d<a.length;d++){var e=a[d];if(!e.onerror){var k=e.attributes.getNamedItem("data-image-onerror");if(k){var h=k.nodeValue;h&&(e.onerror=function(){e.onerror=null;e.setAttribute("src",h)})}}e.setAttribute("src",b)}}})(d.imageBindingBehavior||(d.imageBindingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){b=b.elements||(b.elements={});b.imageTestBehavior=[b.bindActionBehavior,b.imageBindingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={templateString:{type:String},model:{type:Object,observer:"_modelObserver"},stampImmediate:{type:Boolean,value:!1}};a._renderer=new b.html.TemplateRenderer;a.ready=function(){this.updateTemplate();this.stampImmediate&&this.stamp()};a.stamp=function(){var a=this._renderer.render(this.templateString,this.model);Polymer.dom(this).innerHTML=a};a.updateTemplate=function(a){this.templateString=a?a:Polymer.dom(this).innerHTML};a._modelObserver=function(a,
b){this.stamp()}})(d.lightDOMTemplateBehavior||(d.lightDOMTemplateBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.__hashCodeGen=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)}return a()+a()+a()+a()};a.debugMessage=function(a){this.__hashCode||(this.__hashCode=this.__hashCodeGen(),b.common.Logger.debug(""));b.common.Logger.debug("DEBUG ["+this.tagName+" "+this.__hashCode+"] "+a)};a.created=function(){this.debugMessage("created callback invoked")};a.attached=function(){this.debugMessage("attached callback invoked")};a.detached=
function(){this.debugMessage("detached callback invoked")};a.ready=function(){this.debugMessage("ready callback invoked")}})(d.logLifeCycleCallbacksBehavior||(d.logLifeCycleCallbacksBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){var a=function(){function a(b,d){this.elementTemplate=b.node||b;-1<this.elementTemplate.nodeName.indexOf("-")&&CustomElements&&!0!==this.elementTemplate.__upgraded__&&!this.elementTemplate.clone&&(CustomElements.upgradeAll(this.elementTemplate),this.elementTemplate.__upgraded__=!0);this.type=b.type;this.parent=b.parentNode||d;this.previousSibling=b.previousSibling;this.nextSibling=b.nextSibling;try{Polymer.dom(Polymer.dom(this.elementTemplate).parentNode).removeChild(this.elementTemplate)}catch(e){}}
a.prototype.insert=function(a,b,e){var d=void 0!==a&&(void 0!==a.parentElement||Polymer.dom(a).parentNode);if(!a)try{a=this.elementTemplate.clone()}catch(g){throw this.elementTemplate+" does not implement clone()"+g;}d||(this.nextSibling?Polymer.dom(this.parent).insertBefore(a,this.nextSibling):Polymer.dom(this.parent).appendChild(a));Polymer.dom(this.parent).flush();try{b&&setTimeout(function(){b(a,e)})}catch(g){console.log(g)}};a.prototype.insertAll=function(a,b,e,d){for(var g=a.length>b.length?
a.length:b.length,c=0;c<g;c++)this.insert(a[c],e,b[c]);setTimeout(function(){try{d&&d()}catch(a){console.log(a)}})};return a}();b.InsertElementHelper=a})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.debounce("opacity",function(){this.style.opacity=1},100)}})(b.opacityToggleBehavior||(b.opacityToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function d(a){if(a=a.attributes.getNamedItem("data-redirect")){a=a.nodeValue;if(void 0!==a&&0<a.length)return a;if(this.recordData)return this.recordData.record.Deeplink;b.common.Logger.debug("no record data available for data-redirect action")}}function f(a){var b="_blank";if(a=a.attributes.getNamedItem("data-redirect-target"))a=a.nodeValue,void 0!==a&&0<a.length&&(b=a);return b}a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,
value:!0},productImageIdentifier:{type:"String",value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"},redirectIdentifier:{type:"String",value:"[data-redirect]"},redirectTargetIdentifier:{type:"String",value:"[data-redirect-target]"},recommendationIdentifier:{type:"String",value:"data-recommendation"},bindImmediate:{type:Boolean,value:!1}};a.behaviors=[b.elements.bindActionBehavior];var m=new b.communication.Tracking12;a.ready=function(){this.bindImmediate&&
(this.bindProductActions(),this.bindProductImage())};a.bindProductActions=function(){this._bindProductRedirect()};a.bindProductImage=function(){this.searchLightDOM&&this._bindProductImage(Polymer.dom(this));this.searchShadowDOM&&this._bindProductImage(Polymer.dom(this.root))};a._bindProductImage=function(a){a=a.querySelectorAll(this.productImageIdentifier);for(var d=0;d<a.length;d++){var f=a[d];if(!f.onerror){var c=f.attributes.getNamedItem("data-image-onerror");if(c){var g=c.nodeValue;g&&(f.onerror=
function(){f.onerror=null;f.setAttribute("src",g)})}}(c=f.getAttribute("data-image"))?void 0!==c&&0!==c.length&&f.setAttribute("src",c):(c=b.communication,f.setAttribute("src",this.recordData.record[c.fieldRoles?c.fieldRoles.imageUrl:""]||this.recordData.record.ImageUrl))}};a._bindProductRedirect=function(){this.searchLightDOM&&this.bindRedirect(Polymer.dom(this));this.searchShadowDOM&&this.bindRedirect(Polymer.dom(this.root))};a.bindRedirect=function(a){if(a){a=a.querySelectorAll(this.redirectIdentifier);
for(var b=0;b<a.length;b++){var d=a[b],c=Polymer.dom(d).querySelectorAll("[data-track]");if(0<c.length)for(var f=0;f<c.length;f++)c[f].attributes.removeNamedItem("data-track");this.bindElement(d,this._handleTrackingAndRedirect)}}};a._handleRedirect=function(a){var b=a.currentTarget;a=d(b);b=f(b);a&&this.redirect(a,b)};a._handleTrackingAndRedirect=function(a){a.stopPropagation();a=a.currentTarget;var b=this,h=d(a),c=f(a);h&&(a=this.getTrackingData(b),"_self"!==c?(!0===this.isRecommendation?this._trackRecommendationClick(this):
this._trackProductClick(this),this.redirect(h,c)):(a.always=function(){b.redirect(h,c)},m.click(a)))};a.getRedirectLocation=d;a.getRedirectTarget=f;a.getTrackingData=function(a){var d=b.communication.FFCommunicationEventAggregator.currentSearchResult,f;a:{for(f=0;f<d.resultsPerPageList.length;f++){var c=d.resultsPerPageList[f];if(1==c.selected){f=c.value;break a}}f=void 0}c=a.recordData.position||a.recordData.record.__ORIG_POSITION__;d={query:b.communication.Util.getQueryFromSearchParams(),page:d.paging.currentPage,
id:b.communication.Util.trackingHelper.getTrackingProductId(a.recordData),pos:c,origPos:a.recordData.record.__ORIG_POSITION__||c,pageSize:f,origPageSize:d.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(d,a.recordData);this.appendCampaign(d,a.recordData);this.appendInstoreAds(d,a.recordData);this.appendTitle(d,a.recordData);this.appendUserId(d);return d};a.redirect=function(a,b){window.open(a,b)}})(d.recordBindingBehavior||(d.recordBindingBehavior={}))})(b.elements||
(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}})(b.removeUnresolvedAttributeBehavior||(b.removeUnresolvedAttributeBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.clickSelector="[data-track='']";a.productClickSelector='[data-track="productClick"]';a.recommendationClickSelector='[data-track="recommendationClick"]';a.checkoutClickSelector='[data-track="checkoutClick"]';a.cartClickSelector='[data-track="cartClick"]';var d=new b.communication.Tracking12,f=b.communication.Util.trackingHelper.getTrackingProductId,m=b.communication.Util.trackingHelper.getPrice,e=b.communication.Util.trackingHelper.getMasterArticleNumber,k=
b.communication.Util.trackingHelper.getUserId,h=b.communication.Util.trackingHelper.getTitle;a.appendCount=function(a,b){a.count=b.count?b.count:1};a.appendInstoreAds=function(a,b){b.record.__FFInstoreAds__&&"true"===b.record.__FFInstoreAds__&&(a.instoreAds="true")};a.appendCampaign=function(a,b){b.record.__FFCampaign__&&(a.campaign=b.record.__FFCampaign__)};a.appendUserId=function(a){var b=k();b&&(a.userId=b)};a.appendTitle=function(a,b){(b=h(b))&&(a.title=b)};a.appendMasterArticleNumber=function(a,
b){(b=e(b))&&(a.masterId=b)};a.getRecordElement=function(a,e){return e?{recordData:e}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record")};a.bindClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);!0===this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),!0===
this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e))};a.bindProductClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e))};a.bindRecommendationClick=function(b){b=b||this;
if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e))};a.bindCheckoutClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.checkoutClickSelector,function(a){b._trackCheckoutClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.checkoutClickSelector,
function(a){b._trackCheckoutClick(b)},e))};a.bindCartClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e))};a._trackRecommendationClick=function(a,h,k){h=h?{recordData:h}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record");"ff-recommendation"!==
a.tagName.toLowerCase()&&(a=Polymer.dom(a),a=b.common.getParentElementByName(a,"ff-recommendation"));if(h){var m={type:"recommendationClick"};m.mainId=a.recordId;m.id=e(h.recordData)||f(h.recordData);this.appendMasterArticleNumber(m,h.recordData);this.appendUserId(m);k&&(m.always=k);d.recommendationClick(m)}};a._trackCheckoutClick=function(a,e,h){if(e=this.getRecordElement(a,e)){var k={id:f(e.recordData),price:m(e.recordData),query:e.recordData.record.__FFCartQuery__||b.communication.Util.getQueryFromSearchParams()};
this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.checkout(k)}else console.log("no record element found. tracking not possible.")};a._trackCartClick=function(a,e,h){e=this.getRecordElement(a,e);var k={id:f(e.recordData),price:m(e.recordData),query:b.communication.Util.getQueryFromSearchParams()};this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,
e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.cart(k)};a._trackProductClick=function(a,e,h){a=this.getRecordElement(a,e);e=b.communication.FFCommunicationEventAggregator.currentSearchResult;var k;a:{for(k=0;k<e.resultsPerPageList.length;k++){var m=e.resultsPerPageList[k];if(1==m.selected){k=m.value;break a}}k=void 0}m=a.recordData.position||a.recordData.record.__ORIG_POSITION__;e={query:b.communication.Util.getQueryFromSearchParams(),page:e.paging.currentPage,
id:f(a.recordData),pos:m,origPos:a.recordData.record.__ORIG_POSITION__||m,pageSize:k,origPageSize:e.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(e,a.recordData);this.appendCampaign(e,a.recordData);this.appendInstoreAds(e,a.recordData);this.appendTitle(e,a.recordData);this.appendUserId(e);h&&(e.always=h);d.click(e)}})(d.trackingBehavior||(d.trackingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){b=b.elements||(b.elements={});b.trackingBindingBehavior=[b.bindActionBehavior,b.trackingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){var b=Polymer,b=b.Gestures;a.bind=function(a,d,e){return(a=(e?e:Polymer.dom(this)).querySelector(a))?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindElement=function(a,d){return a?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindAll=function(a,d,e){if(a=(e?e:Polymer.dom(this)).querySelectorAll(a)){for(e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",d);return!0}return!1};a.bindElements=function(a,d){if(a){for(var e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",
d);return!0}return!1};a.unbind=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelector(a);b.remove(a,"tap",d)};a.unbindAll=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelectorAll(a);for(e=0;e<a.length;e++)b.remove(a[e],"tap",d)}})(b.bindActionBehavior||(b.bindActionBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){function b(a){var c=a&&a.nodeName?a:a.currentTarget;try{c.__transitionActive__=!1,c.removeEventListener("transitionend",b),"0px"!==c.style.height?(d(c,!1),c.style.height="",c.style.overflow="",setTimeout(function(){d(c,!0)})):d(c,!0)}catch(e){console.log(e)}finally{if(c&&c.__collapseCallback__){var l=c.__collapseCallback__;delete c.__collapseCallback__;setTimeout(function(){try{l()}catch(a){console.log(a)}},16)}}}function d(a,b){a.style["transition-duration"]=
!0===b?"":"0ms"}function m(a){a=a.getBoundingClientRect();for(var b in a)if(0!==a[b])return!0;return!1}function e(a){return a.getBoundingClientRect().height+"px"}function k(a,c,l,k){!0!==a.__transitionActive__&&(a.__transitionActive__=!0,k&&(a.__collapseCallback__=k),k=window.getComputedStyle(a),c=(k=k["transition-duration"]||k.transitionDuration)&&"0"!==k.replace(/\D/g,"")&&c,d(a,!1),c&&m(a)&&(k=e(a),"auto"===l&&(a.style.height="",l=e(a)),a.style.height=k,a.offsetHeight=a.offsetHeight,d(a,c),a.addEventListener("transitionend",
b)),"0px"===l?(a.style.overflow="hidden",a.removeAttribute("opened")):a.setAttribute("opened",""),a.style.height=l,c&&m(a)||(a.offsetHeight=a.offsetHeight,b(a)))}a._hide=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"0px",e)}catch(d){console.log(d)}};a._show=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"auto",e)}catch(d){console.log(d)}};a._toggle=function(a,b,d){void 0===b&&(b=!0);var f=e(a).replace(/\D/g,""),g=a.hasAttribute("opened");0<parseFloat(f)&&!1===g?this._hide(a,b,d):!1===g?this._show(a,
b,d):this._hide(a,b,d)}})(b.collapseElementsBehavior||(b.collapseElementsBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){a.properties={toggleFunctionName:{type:String},immediate:{type:Boolean},attributeName:{type:String},stateOneValue:{type:String},stateTwoValue:{type:String}};a.created=function(){var a=this;if(this[this.toggleFunctionName]){var b=this[this.toggleFunctionName];this.toggleFunctionName=function(){b.apply(arguments);a.toggleAttribute()}}if(!this.stateOneValue){var d=this.style[this.attributeName];this.stateOneValue=d?d:""}this.immediate&&this.toggleAttribute()};a.toggleAttribute=
function(){this.style[this.attributeName]=this.style[this.attributeName]===this.stateOneValue?this.stateTwoValue:this.stateOneValue};a.activateStateTwo=function(){this.style[this.attributeName]=this.stateTwoValue};a.activateStateOne=function(){this.style[this.attributeName]=this.stateOneValue}})(b.cssAttributeToggleBehavior||(b.cssAttributeToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,value:!0},productImageIdentifier:{type:String,value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"}};a.behaviors=[b.elements.bindActionBehavior];a.bindImage=function(a){this.searchLightDOM&&this._bindImage(Polymer.dom(this),a);this.searchShadowDOM&&this._bindImage(Polymer.dom(this.root))};a._bindImage=function(a,b){a=a.querySelectorAll(this.productImageIdentifier);
for(var d=0;d<a.length;d++){var e=a[d];if(!e.onerror){var k=e.attributes.getNamedItem("data-image-onerror");if(k){var h=k.nodeValue;h&&(e.onerror=function(){e.onerror=null;e.setAttribute("src",h)})}}e.setAttribute("src",b)}}})(d.imageBindingBehavior||(d.imageBindingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){b=b.elements||(b.elements={});b.imageTestBehavior=[b.bindActionBehavior,b.imageBindingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={templateString:{type:String},model:{type:Object,observer:"_modelObserver"},stampImmediate:{type:Boolean,value:!1}};a._renderer=new b.html.TemplateRenderer;a.ready=function(){this.updateTemplate();this.stampImmediate&&this.stamp()};a.stamp=function(){var a=this._renderer.render(this.templateString,this.model);Polymer.dom(this).innerHTML=a};a.updateTemplate=function(a){this.templateString=a?a:Polymer.dom(this).innerHTML};a._modelObserver=function(a,
b){this.stamp()}})(d.lightDOMTemplateBehavior||(d.lightDOMTemplateBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.__hashCodeGen=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)}return a()+a()+a()+a()};a.debugMessage=function(a){this.__hashCode||(this.__hashCode=this.__hashCodeGen(),b.common.Logger.debug(""));b.common.Logger.debug("DEBUG ["+this.tagName+" "+this.__hashCode+"] "+a)};a.created=function(){this.debugMessage("created callback invoked")};a.attached=function(){this.debugMessage("attached callback invoked")};a.detached=
function(){this.debugMessage("detached callback invoked")};a.ready=function(){this.debugMessage("ready callback invoked")}})(d.logLifeCycleCallbacksBehavior||(d.logLifeCycleCallbacksBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){var a=function(){function a(b,d){this.elementTemplate=b.node||b;-1<this.elementTemplate.nodeName.indexOf("-")&&CustomElements&&!0!==this.elementTemplate.__upgraded__&&!this.elementTemplate.clone&&(CustomElements.upgradeAll(this.elementTemplate),this.elementTemplate.__upgraded__=!0);this.type=b.type;this.parent=b.parentNode||d;this.previousSibling=b.previousSibling;this.nextSibling=b.nextSibling;try{Polymer.dom(Polymer.dom(this.elementTemplate).parentNode).removeChild(this.elementTemplate)}catch(e){}}
a.prototype.insert=function(a,b,e){var d=void 0!==a&&(void 0!==a.parentElement||Polymer.dom(a).parentNode);if(!a)try{a=this.elementTemplate.clone()}catch(g){throw this.elementTemplate+" does not implement clone()"+g;}d||(this.nextSibling?Polymer.dom(this.parent).insertBefore(a,this.nextSibling):Polymer.dom(this.parent).appendChild(a));Polymer.dom(this.parent).flush();try{b&&setTimeout(function(){b(a,e)})}catch(g){console.log(g)}};a.prototype.insertAll=function(a,b,e,d){for(var g=a.length>b.length?
a.length:b.length,c=0;c<g;c++)this.insert(a[c],e,b[c]);setTimeout(function(){try{d&&d()}catch(a){console.log(a)}})};return a}();b.InsertElementHelper=a})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.debounce("opacity",function(){this.style.opacity=1},100)}})(b.opacityToggleBehavior||(b.opacityToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function d(a){if(a=a.attributes.getNamedItem("data-redirect")){a=a.nodeValue;if(void 0!==a&&0<a.length)return a;if(this.recordData)return this.recordData.record.Deeplink;b.common.Logger.debug("no record data available for data-redirect action")}}function f(a){var b="_blank";if(a=a.attributes.getNamedItem("data-redirect-target"))a=a.nodeValue,void 0!==a&&0<a.length&&(b=a);return b}a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,
value:!0},productImageIdentifier:{type:"String",value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"},redirectIdentifier:{type:"String",value:"[data-redirect]"},redirectTargetIdentifier:{type:"String",value:"[data-redirect-target]"},recommendationIdentifier:{type:"String",value:"data-recommendation"},bindImmediate:{type:Boolean,value:!1}};a.behaviors=[b.elements.bindActionBehavior];var m=new b.communication.Tracking12;a.ready=function(){this.bindImmediate&&
(this.bindProductActions(),this.bindProductImage())};a.bindProductActions=function(){this._bindProductRedirect()};a.bindProductImage=function(){this.searchLightDOM&&this._bindProductImage(Polymer.dom(this));this.searchShadowDOM&&this._bindProductImage(Polymer.dom(this.root))};a._bindProductImage=function(a){a=a.querySelectorAll(this.productImageIdentifier);for(var d=0;d<a.length;d++){var f=a[d];if(!f.onerror){var c=f.attributes.getNamedItem("data-image-onerror");if(c){var g=c.nodeValue;g&&(f.onerror=
function(){f.onerror=null;f.setAttribute("src",g)})}}(c=f.getAttribute("data-image"))?void 0!==c&&0!==c.length&&f.setAttribute("src",c):(c=b.communication,f.setAttribute("src",this.recordData.record[c.fieldRoles?c.fieldRoles.imageUrl:""]||this.recordData.record.ImageUrl))}};a._bindProductRedirect=function(){this.searchLightDOM&&this.bindRedirect(Polymer.dom(this));this.searchShadowDOM&&this.bindRedirect(Polymer.dom(this.root))};a.bindRedirect=function(a){if(a){a=a.querySelectorAll(this.redirectIdentifier);
for(var b=0;b<a.length;b++){var d=a[b],c=Polymer.dom(d).querySelectorAll("[data-track]");if(0<c.length)for(var f=0;f<c.length;f++)c[f].attributes.removeNamedItem("data-track");this.bindElement(d,this._handleTrackingAndRedirect)}}};a._handleRedirect=function(a){var b=a.currentTarget;a=d(b);b=f(b);a&&this.redirect(a,b)};a._handleTrackingAndRedirect=function(a){a.stopPropagation();a=a.currentTarget;var b=this,h=d(a),c=f(a);h&&(a=this.getTrackingData(b),"_self"!==c?(!0===this.isRecommendation?this._trackRecommendationClick(this):
this._trackProductClick(this),this.redirect(h,c)):(a.always=function(){b.redirect(h,c)},m.click(a)))};a.getRedirectLocation=d;a.getRedirectTarget=f;a.getTrackingData=function(a){var d=b.communication.FFCommunicationEventAggregator.currentSearchResult,f;a:{for(f=0;f<d.resultsPerPageList.length;f++){var c=d.resultsPerPageList[f];if(1==c.selected){f=c.value;break a}}f=void 0}c=a.recordData.position||a.recordData.record.__ORIG_POSITION__;d={query:b.communication.Util.getQueryFromSearchParams(),page:d.paging.currentPage,
id:b.communication.Util.trackingHelper.getTrackingProductId(a.recordData),pos:c,origPos:a.recordData.record.__ORIG_POSITION__||c,pageSize:f,origPageSize:d.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(d,a.recordData);this.appendCampaign(d,a.recordData);this.appendInstoreAds(d,a.recordData);this.appendTitle(d,a.recordData);this.appendUserId(d);return d};a.redirect=function(a,b){window.open(a,b)}})(d.recordBindingBehavior||(d.recordBindingBehavior={}))})(b.elements||
(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}})(b.removeUnresolvedAttributeBehavior||(b.removeUnresolvedAttributeBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.clickSelector="[data-track='']";a.productClickSelector='[data-track="productClick"]';a.recommendationClickSelector='[data-track="recommendationClick"]';a.checkoutClickSelector='[data-track="checkoutClick"]';a.cartClickSelector='[data-track="cartClick"]';var d=new b.communication.Tracking12,f=b.communication.Util.trackingHelper.getTrackingProductId,m=b.communication.Util.trackingHelper.getPrice,e=b.communication.Util.trackingHelper.getMasterArticleNumber,k=
b.communication.Util.trackingHelper.getUserId,h=b.communication.Util.trackingHelper.getTitle;a.appendCount=function(a,b){a.count=b.count?b.count:1};a.appendInstoreAds=function(a,b){b.record.__FFInstoreAds__&&"true"===b.record.__FFInstoreAds__&&(a.instoreAds="true")};a.appendCampaign=function(a,b){b.record.__FFCampaign__&&(a.campaign=b.record.__FFCampaign__)};a.appendUserId=function(a){var b=k();b&&(a.userId=b)};a.appendTitle=function(a,b){(b=h(b))&&(a.title=b)};a.appendMasterArticleNumber=function(a,
b){(b=e(b))&&(a.masterId=b)};a.getRecordElement=function(a,e){return e?{recordData:e}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record")};a.bindClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);!0===this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),!0===
this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e))};a.bindProductClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e))};a.bindRecommendationClick=function(b){b=b||this;
if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e))};a.bindCheckoutClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.checkoutClickSelector,function(a){b._trackCheckoutClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.checkoutClickSelector,
function(a){b._trackCheckoutClick(b)},e))};a.bindCartClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e))};a._trackRecommendationClick=function(a,h,k){h=h?{recordData:h}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record");"ff-recommendation"!==
a.tagName.toLowerCase()&&(a=Polymer.dom(a),a=b.common.getParentElementByName(a,"ff-recommendation"));if(h){var m={type:"recommendationClick"};m.mainId=a.recordId;m.id=e(h.recordData)||f(h.recordData);this.appendMasterArticleNumber(m,h.recordData);this.appendUserId(m);k&&(m.always=k);d.recommendationClick(m)}};a._trackCheckoutClick=function(a,e,h){if(e=this.getRecordElement(a,e)){var k={id:f(e.recordData),price:m(e.recordData),query:e.recordData.record.__FFCartQuery__||b.communication.Util.getQueryFromSearchParams()};
this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.checkout(k)}else console.log("no record element found. tracking not possible.")};a._trackCartClick=function(a,e,h){e=this.getRecordElement(a,e);var k={id:f(e.recordData),price:m(e.recordData),query:b.communication.Util.getQueryFromSearchParams()};this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,
e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.cart(k)};a._trackProductClick=function(a,e,h){a=this.getRecordElement(a,e);e=b.communication.FFCommunicationEventAggregator.currentSearchResult;var k;a:{for(k=0;k<e.resultsPerPageList.length;k++){var m=e.resultsPerPageList[k];if(1==m.selected){k=m.value;break a}}k=void 0}m=a.recordData.position||a.recordData.record.__ORIG_POSITION__;e={query:b.communication.Util.getQueryFromSearchParams(),page:e.paging.currentPage,
id:f(a.recordData),pos:m,origPos:a.recordData.record.__ORIG_POSITION__||m,pageSize:k,origPageSize:e.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(e,a.recordData);this.appendCampaign(e,a.recordData);this.appendInstoreAds(e,a.recordData);this.appendTitle(e,a.recordData);this.appendUserId(e);h&&(e.always=h);d.click(e)}})(d.trackingBehavior||(d.trackingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){b=b.elements||(b.elements={});b.trackingBindingBehavior=[b.bindActionBehavior,b.trackingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){var b=Polymer,b=b.Gestures;a.bind=function(a,d,e){return(a=(e?e:Polymer.dom(this)).querySelector(a))?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindElement=function(a,d){return a?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindAll=function(a,d,e){if(a=(e?e:Polymer.dom(this)).querySelectorAll(a)){for(e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",d);return!0}return!1};a.bindElements=function(a,d){if(a){for(var e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",
d);return!0}return!1};a.unbind=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelector(a);b.remove(a,"tap",d)};a.unbindAll=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelectorAll(a);for(e=0;e<a.length;e++)b.remove(a[e],"tap",d)}})(b.bindActionBehavior||(b.bindActionBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){function b(a){var c=a&&a.nodeName?a:a.currentTarget;try{c.__transitionActive__=!1,c.removeEventListener("transitionend",b),"0px"!==c.style.height?(d(c,!1),c.style.height="",c.style.overflow="",setTimeout(function(){d(c,!0)})):d(c,!0)}catch(e){console.log(e)}finally{if(c&&c.__collapseCallback__){var l=c.__collapseCallback__;delete c.__collapseCallback__;setTimeout(function(){try{l()}catch(a){console.log(a)}},16)}}}function d(a,b){a.style["transition-duration"]=
!0===b?"":"0ms"}function m(a){a=a.getBoundingClientRect();for(var b in a)if(0!==a[b])return!0;return!1}function e(a){return a.getBoundingClientRect().height+"px"}function k(a,c,l,k){!0!==a.__transitionActive__&&(a.__transitionActive__=!0,k&&(a.__collapseCallback__=k),k=window.getComputedStyle(a),c=(k=k["transition-duration"]||k.transitionDuration)&&"0"!==k.replace(/\D/g,"")&&c,d(a,!1),c&&m(a)&&(k=e(a),"auto"===l&&(a.style.height="",l=e(a)),a.style.height=k,a.offsetHeight=a.offsetHeight,d(a,c),a.addEventListener("transitionend",
b)),"0px"===l?(a.style.overflow="hidden",a.removeAttribute("opened")):a.setAttribute("opened",""),a.style.height=l,c&&m(a)||(a.offsetHeight=a.offsetHeight,b(a)))}a._hide=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"0px",e)}catch(d){console.log(d)}};a._show=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"auto",e)}catch(d){console.log(d)}};a._toggle=function(a,b,d){void 0===b&&(b=!0);var f=e(a).replace(/\D/g,""),g=a.hasAttribute("opened");0<parseFloat(f)&&!1===g?this._hide(a,b,d):!1===g?this._show(a,
b,d):this._hide(a,b,d)}})(b.collapseElementsBehavior||(b.collapseElementsBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){a.properties={toggleFunctionName:{type:String},immediate:{type:Boolean},attributeName:{type:String},stateOneValue:{type:String},stateTwoValue:{type:String}};a.created=function(){var a=this;if(this[this.toggleFunctionName]){var b=this[this.toggleFunctionName];this.toggleFunctionName=function(){b.apply(arguments);a.toggleAttribute()}}if(!this.stateOneValue){var d=this.style[this.attributeName];this.stateOneValue=d?d:""}this.immediate&&this.toggleAttribute()};a.toggleAttribute=
function(){this.style[this.attributeName]=this.style[this.attributeName]===this.stateOneValue?this.stateTwoValue:this.stateOneValue};a.activateStateTwo=function(){this.style[this.attributeName]=this.stateTwoValue};a.activateStateOne=function(){this.style[this.attributeName]=this.stateOneValue}})(b.cssAttributeToggleBehavior||(b.cssAttributeToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,value:!0},productImageIdentifier:{type:String,value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"}};a.behaviors=[b.elements.bindActionBehavior];a.bindImage=function(a){this.searchLightDOM&&this._bindImage(Polymer.dom(this),a);this.searchShadowDOM&&this._bindImage(Polymer.dom(this.root))};a._bindImage=function(a,b){a=a.querySelectorAll(this.productImageIdentifier);
for(var d=0;d<a.length;d++){var e=a[d];if(!e.onerror){var k=e.attributes.getNamedItem("data-image-onerror");if(k){var h=k.nodeValue;h&&(e.onerror=function(){e.onerror=null;e.setAttribute("src",h)})}}e.setAttribute("src",b)}}})(d.imageBindingBehavior||(d.imageBindingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){b=b.elements||(b.elements={});b.imageTestBehavior=[b.bindActionBehavior,b.imageBindingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={templateString:{type:String},model:{type:Object,observer:"_modelObserver"},stampImmediate:{type:Boolean,value:!1}};a._renderer=new b.html.TemplateRenderer;a.ready=function(){this.updateTemplate();this.stampImmediate&&this.stamp()};a.stamp=function(){var a=this._renderer.render(this.templateString,this.model);Polymer.dom(this).innerHTML=a};a.updateTemplate=function(a){this.templateString=a?a:Polymer.dom(this).innerHTML};a._modelObserver=function(a,
b){this.stamp()}})(d.lightDOMTemplateBehavior||(d.lightDOMTemplateBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.__hashCodeGen=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)}return a()+a()+a()+a()};a.debugMessage=function(a){this.__hashCode||(this.__hashCode=this.__hashCodeGen(),b.common.Logger.debug(""));b.common.Logger.debug("DEBUG ["+this.tagName+" "+this.__hashCode+"] "+a)};a.created=function(){this.debugMessage("created callback invoked")};a.attached=function(){this.debugMessage("attached callback invoked")};a.detached=
function(){this.debugMessage("detached callback invoked")};a.ready=function(){this.debugMessage("ready callback invoked")}})(d.logLifeCycleCallbacksBehavior||(d.logLifeCycleCallbacksBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){var a=function(){function a(b,d){this.elementTemplate=b.node||b;-1<this.elementTemplate.nodeName.indexOf("-")&&CustomElements&&!0!==this.elementTemplate.__upgraded__&&!this.elementTemplate.clone&&(CustomElements.upgradeAll(this.elementTemplate),this.elementTemplate.__upgraded__=!0);this.type=b.type;this.parent=b.parentNode||d;this.previousSibling=b.previousSibling;this.nextSibling=b.nextSibling;try{Polymer.dom(Polymer.dom(this.elementTemplate).parentNode).removeChild(this.elementTemplate)}catch(e){}}
a.prototype.insert=function(a,b,e){var d=void 0!==a&&(void 0!==a.parentElement||Polymer.dom(a).parentNode);if(!a)try{a=this.elementTemplate.clone()}catch(g){throw this.elementTemplate+" does not implement clone()"+g;}d||(this.nextSibling?Polymer.dom(this.parent).insertBefore(a,this.nextSibling):Polymer.dom(this.parent).appendChild(a));Polymer.dom(this.parent).flush();try{b&&setTimeout(function(){b(a,e)})}catch(g){console.log(g)}};a.prototype.insertAll=function(a,b,e,d){for(var g=a.length>b.length?
a.length:b.length,c=0;c<g;c++)this.insert(a[c],e,b[c]);setTimeout(function(){try{d&&d()}catch(a){console.log(a)}})};return a}();b.InsertElementHelper=a})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.debounce("opacity",function(){this.style.opacity=1},100)}})(b.opacityToggleBehavior||(b.opacityToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function d(a){if(a=a.attributes.getNamedItem("data-redirect")){a=a.nodeValue;if(void 0!==a&&0<a.length)return a;if(this.recordData)return this.recordData.record.Deeplink;b.common.Logger.debug("no record data available for data-redirect action")}}function f(a){var b="_blank";if(a=a.attributes.getNamedItem("data-redirect-target"))a=a.nodeValue,void 0!==a&&0<a.length&&(b=a);return b}a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,
value:!0},productImageIdentifier:{type:"String",value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"},redirectIdentifier:{type:"String",value:"[data-redirect]"},redirectTargetIdentifier:{type:"String",value:"[data-redirect-target]"},recommendationIdentifier:{type:"String",value:"data-recommendation"},bindImmediate:{type:Boolean,value:!1}};a.behaviors=[b.elements.bindActionBehavior];var m=new b.communication.Tracking12;a.ready=function(){this.bindImmediate&&
(this.bindProductActions(),this.bindProductImage())};a.bindProductActions=function(){this._bindProductRedirect()};a.bindProductImage=function(){this.searchLightDOM&&this._bindProductImage(Polymer.dom(this));this.searchShadowDOM&&this._bindProductImage(Polymer.dom(this.root))};a._bindProductImage=function(a){a=a.querySelectorAll(this.productImageIdentifier);for(var d=0;d<a.length;d++){var f=a[d];if(!f.onerror){var c=f.attributes.getNamedItem("data-image-onerror");if(c){var g=c.nodeValue;g&&(f.onerror=
function(){f.onerror=null;f.setAttribute("src",g)})}}(c=f.getAttribute("data-image"))?void 0!==c&&0!==c.length&&f.setAttribute("src",c):(c=b.communication,f.setAttribute("src",this.recordData.record[c.fieldRoles?c.fieldRoles.imageUrl:""]||this.recordData.record.ImageUrl))}};a._bindProductRedirect=function(){this.searchLightDOM&&this.bindRedirect(Polymer.dom(this));this.searchShadowDOM&&this.bindRedirect(Polymer.dom(this.root))};a.bindRedirect=function(a){if(a){a=a.querySelectorAll(this.redirectIdentifier);
for(var b=0;b<a.length;b++){var d=a[b],c=Polymer.dom(d).querySelectorAll("[data-track]");if(0<c.length)for(var f=0;f<c.length;f++)c[f].attributes.removeNamedItem("data-track");this.bindElement(d,this._handleTrackingAndRedirect)}}};a._handleRedirect=function(a){var b=a.currentTarget;a=d(b);b=f(b);a&&this.redirect(a,b)};a._handleTrackingAndRedirect=function(a){a.stopPropagation();a=a.currentTarget;var b=this,h=d(a),c=f(a);h&&(a=this.getTrackingData(b),"_self"!==c?(!0===this.isRecommendation?this._trackRecommendationClick(this):
this._trackProductClick(this),this.redirect(h,c)):(a.always=function(){b.redirect(h,c)},m.click(a)))};a.getRedirectLocation=d;a.getRedirectTarget=f;a.getTrackingData=function(a){var d=b.communication.FFCommunicationEventAggregator.currentSearchResult,f;a:{for(f=0;f<d.resultsPerPageList.length;f++){var c=d.resultsPerPageList[f];if(1==c.selected){f=c.value;break a}}f=void 0}c=a.recordData.position||a.recordData.record.__ORIG_POSITION__;d={query:b.communication.Util.getQueryFromSearchParams(),page:d.paging.currentPage,
id:b.communication.Util.trackingHelper.getTrackingProductId(a.recordData),pos:c,origPos:a.recordData.record.__ORIG_POSITION__||c,pageSize:f,origPageSize:d.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(d,a.recordData);this.appendCampaign(d,a.recordData);this.appendInstoreAds(d,a.recordData);this.appendTitle(d,a.recordData);this.appendUserId(d);return d};a.redirect=function(a,b){window.open(a,b)}})(d.recordBindingBehavior||(d.recordBindingBehavior={}))})(b.elements||
(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}})(b.removeUnresolvedAttributeBehavior||(b.removeUnresolvedAttributeBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.clickSelector="[data-track='']";a.productClickSelector='[data-track="productClick"]';a.recommendationClickSelector='[data-track="recommendationClick"]';a.checkoutClickSelector='[data-track="checkoutClick"]';a.cartClickSelector='[data-track="cartClick"]';var d=new b.communication.Tracking12,f=b.communication.Util.trackingHelper.getTrackingProductId,m=b.communication.Util.trackingHelper.getPrice,e=b.communication.Util.trackingHelper.getMasterArticleNumber,k=
b.communication.Util.trackingHelper.getUserId,h=b.communication.Util.trackingHelper.getTitle;a.appendCount=function(a,b){a.count=b.count?b.count:1};a.appendInstoreAds=function(a,b){b.record.__FFInstoreAds__&&"true"===b.record.__FFInstoreAds__&&(a.instoreAds="true")};a.appendCampaign=function(a,b){b.record.__FFCampaign__&&(a.campaign=b.record.__FFCampaign__)};a.appendUserId=function(a){var b=k();b&&(a.userId=b)};a.appendTitle=function(a,b){(b=h(b))&&(a.title=b)};a.appendMasterArticleNumber=function(a,
b){(b=e(b))&&(a.masterId=b)};a.getRecordElement=function(a,e){return e?{recordData:e}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record")};a.bindClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);!0===this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),!0===
this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e))};a.bindProductClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e))};a.bindRecommendationClick=function(b){b=b||this;
if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e))};a.bindCheckoutClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.checkoutClickSelector,function(a){b._trackCheckoutClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.checkoutClickSelector,
function(a){b._trackCheckoutClick(b)},e))};a.bindCartClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e))};a._trackRecommendationClick=function(a,h,k){h=h?{recordData:h}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record");"ff-recommendation"!==
a.tagName.toLowerCase()&&(a=Polymer.dom(a),a=b.common.getParentElementByName(a,"ff-recommendation"));if(h){var m={type:"recommendationClick"};m.mainId=a.recordId;m.id=e(h.recordData)||f(h.recordData);this.appendMasterArticleNumber(m,h.recordData);this.appendUserId(m);k&&(m.always=k);d.recommendationClick(m)}};a._trackCheckoutClick=function(a,e,h){if(e=this.getRecordElement(a,e)){var k={id:f(e.recordData),price:m(e.recordData),query:e.recordData.record.__FFCartQuery__||b.communication.Util.getQueryFromSearchParams()};
this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.checkout(k)}else console.log("no record element found. tracking not possible.")};a._trackCartClick=function(a,e,h){e=this.getRecordElement(a,e);var k={id:f(e.recordData),price:m(e.recordData),query:b.communication.Util.getQueryFromSearchParams()};this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,
e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.cart(k)};a._trackProductClick=function(a,e,h){a=this.getRecordElement(a,e);e=b.communication.FFCommunicationEventAggregator.currentSearchResult;var k;a:{for(k=0;k<e.resultsPerPageList.length;k++){var m=e.resultsPerPageList[k];if(1==m.selected){k=m.value;break a}}k=void 0}m=a.recordData.position||a.recordData.record.__ORIG_POSITION__;e={query:b.communication.Util.getQueryFromSearchParams(),page:e.paging.currentPage,
id:f(a.recordData),pos:m,origPos:a.recordData.record.__ORIG_POSITION__||m,pageSize:k,origPageSize:e.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(e,a.recordData);this.appendCampaign(e,a.recordData);this.appendInstoreAds(e,a.recordData);this.appendTitle(e,a.recordData);this.appendUserId(e);h&&(e.always=h);d.click(e)}})(d.trackingBehavior||(d.trackingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){b=b.elements||(b.elements={});b.trackingBindingBehavior=[b.bindActionBehavior,b.trackingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){var b=Polymer,b=b.Gestures;a.bind=function(a,d,e){return(a=(e?e:Polymer.dom(this)).querySelector(a))?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindElement=function(a,d){return a?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindAll=function(a,d,e){if(a=(e?e:Polymer.dom(this)).querySelectorAll(a)){for(e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",d);return!0}return!1};a.bindElements=function(a,d){if(a){for(var e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",
d);return!0}return!1};a.unbind=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelector(a);b.remove(a,"tap",d)};a.unbindAll=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelectorAll(a);for(e=0;e<a.length;e++)b.remove(a[e],"tap",d)}})(b.bindActionBehavior||(b.bindActionBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){function b(a){var c=a&&a.nodeName?a:a.currentTarget;try{c.__transitionActive__=!1,c.removeEventListener("transitionend",b),"0px"!==c.style.height?(d(c,!1),c.style.height="",c.style.overflow="",setTimeout(function(){d(c,!0)})):d(c,!0)}catch(e){console.log(e)}finally{if(c&&c.__collapseCallback__){var l=c.__collapseCallback__;delete c.__collapseCallback__;setTimeout(function(){try{l()}catch(a){console.log(a)}},16)}}}function d(a,b){a.style["transition-duration"]=
!0===b?"":"0ms"}function m(a){a=a.getBoundingClientRect();for(var b in a)if(0!==a[b])return!0;return!1}function e(a){return a.getBoundingClientRect().height+"px"}function k(a,c,l,k){!0!==a.__transitionActive__&&(a.__transitionActive__=!0,k&&(a.__collapseCallback__=k),k=window.getComputedStyle(a),c=(k=k["transition-duration"]||k.transitionDuration)&&"0"!==k.replace(/\D/g,"")&&c,d(a,!1),c&&m(a)&&(k=e(a),"auto"===l&&(a.style.height="",l=e(a)),a.style.height=k,a.offsetHeight=a.offsetHeight,d(a,c),a.addEventListener("transitionend",
b)),"0px"===l?(a.style.overflow="hidden",a.removeAttribute("opened")):a.setAttribute("opened",""),a.style.height=l,c&&m(a)||(a.offsetHeight=a.offsetHeight,b(a)))}a._hide=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"0px",e)}catch(d){console.log(d)}};a._show=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"auto",e)}catch(d){console.log(d)}};a._toggle=function(a,b,d){void 0===b&&(b=!0);var f=e(a).replace(/\D/g,""),g=a.hasAttribute("opened");0<parseFloat(f)&&!1===g?this._hide(a,b,d):!1===g?this._show(a,
b,d):this._hide(a,b,d)}})(b.collapseElementsBehavior||(b.collapseElementsBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){a.properties={toggleFunctionName:{type:String},immediate:{type:Boolean},attributeName:{type:String},stateOneValue:{type:String},stateTwoValue:{type:String}};a.created=function(){var a=this;if(this[this.toggleFunctionName]){var b=this[this.toggleFunctionName];this.toggleFunctionName=function(){b.apply(arguments);a.toggleAttribute()}}if(!this.stateOneValue){var d=this.style[this.attributeName];this.stateOneValue=d?d:""}this.immediate&&this.toggleAttribute()};a.toggleAttribute=
function(){this.style[this.attributeName]=this.style[this.attributeName]===this.stateOneValue?this.stateTwoValue:this.stateOneValue};a.activateStateTwo=function(){this.style[this.attributeName]=this.stateTwoValue};a.activateStateOne=function(){this.style[this.attributeName]=this.stateOneValue}})(b.cssAttributeToggleBehavior||(b.cssAttributeToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,value:!0},productImageIdentifier:{type:String,value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"}};a.behaviors=[b.elements.bindActionBehavior];a.bindImage=function(a){this.searchLightDOM&&this._bindImage(Polymer.dom(this),a);this.searchShadowDOM&&this._bindImage(Polymer.dom(this.root))};a._bindImage=function(a,b){a=a.querySelectorAll(this.productImageIdentifier);
for(var d=0;d<a.length;d++){var e=a[d];if(!e.onerror){var k=e.attributes.getNamedItem("data-image-onerror");if(k){var h=k.nodeValue;h&&(e.onerror=function(){e.onerror=null;e.setAttribute("src",h)})}}e.setAttribute("src",b)}}})(d.imageBindingBehavior||(d.imageBindingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){b=b.elements||(b.elements={});b.imageTestBehavior=[b.bindActionBehavior,b.imageBindingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={templateString:{type:String},model:{type:Object,observer:"_modelObserver"},stampImmediate:{type:Boolean,value:!1}};a._renderer=new b.html.TemplateRenderer;a.ready=function(){this.updateTemplate();this.stampImmediate&&this.stamp()};a.stamp=function(){var a=this._renderer.render(this.templateString,this.model);Polymer.dom(this).innerHTML=a};a.updateTemplate=function(a){this.templateString=a?a:Polymer.dom(this).innerHTML};a._modelObserver=function(a,
b){this.stamp()}})(d.lightDOMTemplateBehavior||(d.lightDOMTemplateBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.__hashCodeGen=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)}return a()+a()+a()+a()};a.debugMessage=function(a){this.__hashCode||(this.__hashCode=this.__hashCodeGen(),b.common.Logger.debug(""));b.common.Logger.debug("DEBUG ["+this.tagName+" "+this.__hashCode+"] "+a)};a.created=function(){this.debugMessage("created callback invoked")};a.attached=function(){this.debugMessage("attached callback invoked")};a.detached=
function(){this.debugMessage("detached callback invoked")};a.ready=function(){this.debugMessage("ready callback invoked")}})(d.logLifeCycleCallbacksBehavior||(d.logLifeCycleCallbacksBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){var a=function(){function a(b,d){this.elementTemplate=b.node||b;-1<this.elementTemplate.nodeName.indexOf("-")&&CustomElements&&!0!==this.elementTemplate.__upgraded__&&!this.elementTemplate.clone&&(CustomElements.upgradeAll(this.elementTemplate),this.elementTemplate.__upgraded__=!0);this.type=b.type;this.parent=b.parentNode||d;this.previousSibling=b.previousSibling;this.nextSibling=b.nextSibling;try{Polymer.dom(Polymer.dom(this.elementTemplate).parentNode).removeChild(this.elementTemplate)}catch(e){}}
a.prototype.insert=function(a,b,e){var d=void 0!==a&&(void 0!==a.parentElement||Polymer.dom(a).parentNode);if(!a)try{a=this.elementTemplate.clone()}catch(g){throw this.elementTemplate+" does not implement clone()"+g;}d||(this.nextSibling?Polymer.dom(this.parent).insertBefore(a,this.nextSibling):Polymer.dom(this.parent).appendChild(a));Polymer.dom(this.parent).flush();try{b&&setTimeout(function(){b(a,e)})}catch(g){console.log(g)}};a.prototype.insertAll=function(a,b,e,d){for(var g=a.length>b.length?
a.length:b.length,c=0;c<g;c++)this.insert(a[c],e,b[c]);setTimeout(function(){try{d&&d()}catch(a){console.log(a)}})};return a}();b.InsertElementHelper=a})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.debounce("opacity",function(){this.style.opacity=1},100)}})(b.opacityToggleBehavior||(b.opacityToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function d(a){if(a=a.attributes.getNamedItem("data-redirect")){a=a.nodeValue;if(void 0!==a&&0<a.length)return a;if(this.recordData)return this.recordData.record.Deeplink;b.common.Logger.debug("no record data available for data-redirect action")}}function f(a){var b="_blank";if(a=a.attributes.getNamedItem("data-redirect-target"))a=a.nodeValue,void 0!==a&&0<a.length&&(b=a);return b}a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,
value:!0},productImageIdentifier:{type:"String",value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"},redirectIdentifier:{type:"String",value:"[data-redirect]"},redirectTargetIdentifier:{type:"String",value:"[data-redirect-target]"},recommendationIdentifier:{type:"String",value:"data-recommendation"},bindImmediate:{type:Boolean,value:!1}};a.behaviors=[b.elements.bindActionBehavior];var m=new b.communication.Tracking12;a.ready=function(){this.bindImmediate&&
(this.bindProductActions(),this.bindProductImage())};a.bindProductActions=function(){this._bindProductRedirect()};a.bindProductImage=function(){this.searchLightDOM&&this._bindProductImage(Polymer.dom(this));this.searchShadowDOM&&this._bindProductImage(Polymer.dom(this.root))};a._bindProductImage=function(a){a=a.querySelectorAll(this.productImageIdentifier);for(var d=0;d<a.length;d++){var f=a[d];if(!f.onerror){var c=f.attributes.getNamedItem("data-image-onerror");if(c){var g=c.nodeValue;g&&(f.onerror=
function(){f.onerror=null;f.setAttribute("src",g)})}}(c=f.getAttribute("data-image"))?void 0!==c&&0!==c.length&&f.setAttribute("src",c):(c=b.communication,f.setAttribute("src",this.recordData.record[c.fieldRoles?c.fieldRoles.imageUrl:""]||this.recordData.record.ImageUrl))}};a._bindProductRedirect=function(){this.searchLightDOM&&this.bindRedirect(Polymer.dom(this));this.searchShadowDOM&&this.bindRedirect(Polymer.dom(this.root))};a.bindRedirect=function(a){if(a){a=a.querySelectorAll(this.redirectIdentifier);
for(var b=0;b<a.length;b++){var d=a[b],c=Polymer.dom(d).querySelectorAll("[data-track]");if(0<c.length)for(var f=0;f<c.length;f++)c[f].attributes.removeNamedItem("data-track");this.bindElement(d,this._handleTrackingAndRedirect)}}};a._handleRedirect=function(a){var b=a.currentTarget;a=d(b);b=f(b);a&&this.redirect(a,b)};a._handleTrackingAndRedirect=function(a){a.stopPropagation();a=a.currentTarget;var b=this,h=d(a),c=f(a);h&&(a=this.getTrackingData(b),"_self"!==c?(!0===this.isRecommendation?this._trackRecommendationClick(this):
this._trackProductClick(this),this.redirect(h,c)):(a.always=function(){b.redirect(h,c)},m.click(a)))};a.getRedirectLocation=d;a.getRedirectTarget=f;a.getTrackingData=function(a){var d=b.communication.FFCommunicationEventAggregator.currentSearchResult,f;a:{for(f=0;f<d.resultsPerPageList.length;f++){var c=d.resultsPerPageList[f];if(1==c.selected){f=c.value;break a}}f=void 0}c=a.recordData.position||a.recordData.record.__ORIG_POSITION__;d={query:b.communication.Util.getQueryFromSearchParams(),page:d.paging.currentPage,
id:b.communication.Util.trackingHelper.getTrackingProductId(a.recordData),pos:c,origPos:a.recordData.record.__ORIG_POSITION__||c,pageSize:f,origPageSize:d.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(d,a.recordData);this.appendCampaign(d,a.recordData);this.appendInstoreAds(d,a.recordData);this.appendTitle(d,a.recordData);this.appendUserId(d);return d};a.redirect=function(a,b){window.open(a,b)}})(d.recordBindingBehavior||(d.recordBindingBehavior={}))})(b.elements||
(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}})(b.removeUnresolvedAttributeBehavior||(b.removeUnresolvedAttributeBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.clickSelector="[data-track='']";a.productClickSelector='[data-track="productClick"]';a.recommendationClickSelector='[data-track="recommendationClick"]';a.checkoutClickSelector='[data-track="checkoutClick"]';a.cartClickSelector='[data-track="cartClick"]';var d=new b.communication.Tracking12,f=b.communication.Util.trackingHelper.getTrackingProductId,m=b.communication.Util.trackingHelper.getPrice,e=b.communication.Util.trackingHelper.getMasterArticleNumber,k=
b.communication.Util.trackingHelper.getUserId,h=b.communication.Util.trackingHelper.getTitle;a.appendCount=function(a,b){a.count=b.count?b.count:1};a.appendInstoreAds=function(a,b){b.record.__FFInstoreAds__&&"true"===b.record.__FFInstoreAds__&&(a.instoreAds="true")};a.appendCampaign=function(a,b){b.record.__FFCampaign__&&(a.campaign=b.record.__FFCampaign__)};a.appendUserId=function(a){var b=k();b&&(a.userId=b)};a.appendTitle=function(a,b){(b=h(b))&&(a.title=b)};a.appendMasterArticleNumber=function(a,
b){(b=e(b))&&(a.masterId=b)};a.getRecordElement=function(a,e){return e?{recordData:e}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record")};a.bindClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);!0===this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),!0===
this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e))};a.bindProductClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e))};a.bindRecommendationClick=function(b){b=b||this;
if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e))};a.bindCheckoutClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.checkoutClickSelector,function(a){b._trackCheckoutClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.checkoutClickSelector,
function(a){b._trackCheckoutClick(b)},e))};a.bindCartClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e))};a._trackRecommendationClick=function(a,h,k){h=h?{recordData:h}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record");"ff-recommendation"!==
a.tagName.toLowerCase()&&(a=Polymer.dom(a),a=b.common.getParentElementByName(a,"ff-recommendation"));if(h){var m={type:"recommendationClick"};m.mainId=a.recordId;m.id=e(h.recordData)||f(h.recordData);this.appendMasterArticleNumber(m,h.recordData);this.appendUserId(m);k&&(m.always=k);d.recommendationClick(m)}};a._trackCheckoutClick=function(a,e,h){if(e=this.getRecordElement(a,e)){var k={id:f(e.recordData),price:m(e.recordData),query:e.recordData.record.__FFCartQuery__||b.communication.Util.getQueryFromSearchParams()};
this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.checkout(k)}else console.log("no record element found. tracking not possible.")};a._trackCartClick=function(a,e,h){e=this.getRecordElement(a,e);var k={id:f(e.recordData),price:m(e.recordData),query:b.communication.Util.getQueryFromSearchParams()};this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,
e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.cart(k)};a._trackProductClick=function(a,e,h){a=this.getRecordElement(a,e);e=b.communication.FFCommunicationEventAggregator.currentSearchResult;var k;a:{for(k=0;k<e.resultsPerPageList.length;k++){var m=e.resultsPerPageList[k];if(1==m.selected){k=m.value;break a}}k=void 0}m=a.recordData.position||a.recordData.record.__ORIG_POSITION__;e={query:b.communication.Util.getQueryFromSearchParams(),page:e.paging.currentPage,
id:f(a.recordData),pos:m,origPos:a.recordData.record.__ORIG_POSITION__||m,pageSize:k,origPageSize:e.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(e,a.recordData);this.appendCampaign(e,a.recordData);this.appendInstoreAds(e,a.recordData);this.appendTitle(e,a.recordData);this.appendUserId(e);h&&(e.always=h);d.click(e)}})(d.trackingBehavior||(d.trackingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){b=b.elements||(b.elements={});b.trackingBindingBehavior=[b.bindActionBehavior,b.trackingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){var b=Polymer,b=b.Gestures;a.bind=function(a,d,e){return(a=(e?e:Polymer.dom(this)).querySelector(a))?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindElement=function(a,d){return a?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindAll=function(a,d,e){if(a=(e?e:Polymer.dom(this)).querySelectorAll(a)){for(e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",d);return!0}return!1};a.bindElements=function(a,d){if(a){for(var e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",
d);return!0}return!1};a.unbind=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelector(a);b.remove(a,"tap",d)};a.unbindAll=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelectorAll(a);for(e=0;e<a.length;e++)b.remove(a[e],"tap",d)}})(b.bindActionBehavior||(b.bindActionBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){function b(a){var c=a&&a.nodeName?a:a.currentTarget;try{c.__transitionActive__=!1,c.removeEventListener("transitionend",b),"0px"!==c.style.height?(d(c,!1),c.style.height="",c.style.overflow="",setTimeout(function(){d(c,!0)})):d(c,!0)}catch(e){console.log(e)}finally{if(c&&c.__collapseCallback__){var k=c.__collapseCallback__;delete c.__collapseCallback__;setTimeout(function(){try{k()}catch(a){console.log(a)}},16)}}}function d(a,b){a.style["transition-duration"]=
!0===b?"":"0ms"}function m(a){a=a.getBoundingClientRect();for(var b in a)if(0!==a[b])return!0;return!1}function e(a){return a.getBoundingClientRect().height+"px"}function k(a,c,k,n){!0!==a.__transitionActive__&&(a.__transitionActive__=!0,n&&(a.__collapseCallback__=n),n=window.getComputedStyle(a),c=(n=n["transition-duration"]||n.transitionDuration)&&"0"!==n.replace(/\D/g,"")&&c,d(a,!1),c&&m(a)&&(n=e(a),"auto"===k&&(a.style.height="",k=e(a)),a.style.height=n,a.offsetHeight=a.offsetHeight,d(a,c),a.addEventListener("transitionend",
b)),"0px"===k?(a.style.overflow="hidden",a.removeAttribute("opened")):a.setAttribute("opened",""),a.style.height=k,c&&m(a)||(a.offsetHeight=a.offsetHeight,b(a)))}a._hide=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"0px",e)}catch(d){console.log(d)}};a._show=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"auto",e)}catch(d){console.log(d)}};a._toggle=function(a,b,d){void 0===b&&(b=!0);var f=e(a).replace(/\D/g,""),g=a.hasAttribute("opened");0<parseFloat(f)&&!1===g?this._hide(a,b,d):!1===g?this._show(a,
b,d):this._hide(a,b,d)}})(b.collapseElementsBehavior||(b.collapseElementsBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){a.properties={toggleFunctionName:{type:String},immediate:{type:Boolean},attributeName:{type:String},stateOneValue:{type:String},stateTwoValue:{type:String}};a.created=function(){var a=this;if(this[this.toggleFunctionName]){var b=this[this.toggleFunctionName];this.toggleFunctionName=function(){b.apply(arguments);a.toggleAttribute()}}if(!this.stateOneValue){var d=this.style[this.attributeName];this.stateOneValue=d?d:""}this.immediate&&this.toggleAttribute()};a.toggleAttribute=
function(){this.style[this.attributeName]=this.style[this.attributeName]===this.stateOneValue?this.stateTwoValue:this.stateOneValue};a.activateStateTwo=function(){this.style[this.attributeName]=this.stateTwoValue};a.activateStateOne=function(){this.style[this.attributeName]=this.stateOneValue}})(b.cssAttributeToggleBehavior||(b.cssAttributeToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,value:!0},productImageIdentifier:{type:String,value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"}};a.behaviors=[b.elements.bindActionBehavior];a.bindImage=function(a){this.searchLightDOM&&this._bindImage(Polymer.dom(this),a);this.searchShadowDOM&&this._bindImage(Polymer.dom(this.root))};a._bindImage=function(a,b){a=a.querySelectorAll(this.productImageIdentifier);
for(var d=0;d<a.length;d++){var e=a[d];if(!e.onerror){var k=e.attributes.getNamedItem("data-image-onerror");if(k){var h=k.nodeValue;h&&(e.onerror=function(){e.onerror=null;e.setAttribute("src",h)})}}e.setAttribute("src",b)}}})(d.imageBindingBehavior||(d.imageBindingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){b=b.elements||(b.elements={});b.imageTestBehavior=[b.bindActionBehavior,b.imageBindingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={templateString:{type:String},model:{type:Object,observer:"_modelObserver"},stampImmediate:{type:Boolean,value:!1}};a._renderer=new b.html.TemplateRenderer;a.ready=function(){this.updateTemplate();this.stampImmediate&&this.stamp()};a.stamp=function(){var a=this._renderer.render(this.templateString,this.model);Polymer.dom(this).innerHTML=a};a.updateTemplate=function(a){this.templateString=a?a:Polymer.dom(this).innerHTML};a._modelObserver=function(a,
b){this.stamp()}})(d.lightDOMTemplateBehavior||(d.lightDOMTemplateBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.__hashCodeGen=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)}return a()+a()+a()+a()};a.debugMessage=function(a){this.__hashCode||(this.__hashCode=this.__hashCodeGen(),b.common.Logger.debug(""));b.common.Logger.debug("DEBUG ["+this.tagName+" "+this.__hashCode+"] "+a)};a.created=function(){this.debugMessage("created callback invoked")};a.attached=function(){this.debugMessage("attached callback invoked")};a.detached=
function(){this.debugMessage("detached callback invoked")};a.ready=function(){this.debugMessage("ready callback invoked")}})(d.logLifeCycleCallbacksBehavior||(d.logLifeCycleCallbacksBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){var a=function(){function a(b,d){this.elementTemplate=b.node||b;-1<this.elementTemplate.nodeName.indexOf("-")&&CustomElements&&!0!==this.elementTemplate.__upgraded__&&!this.elementTemplate.clone&&(CustomElements.upgradeAll(this.elementTemplate),this.elementTemplate.__upgraded__=!0);this.type=b.type;this.parent=b.parentNode||d;this.previousSibling=b.previousSibling;this.nextSibling=b.nextSibling;try{Polymer.dom(Polymer.dom(this.elementTemplate).parentNode).removeChild(this.elementTemplate)}catch(e){}}
a.prototype.insert=function(a,b,e){var d=void 0!==a&&(void 0!==a.parentElement||Polymer.dom(a).parentNode);if(!a)try{a=this.elementTemplate.clone()}catch(g){throw this.elementTemplate+" does not implement clone()"+g;}d||(this.nextSibling?Polymer.dom(this.parent).insertBefore(a,this.nextSibling):Polymer.dom(this.parent).appendChild(a));Polymer.dom(this.parent).flush();try{b&&setTimeout(function(){b(a,e)})}catch(g){console.log(g)}};a.prototype.insertAll=function(a,b,e,d){for(var g=a.length>b.length?
a.length:b.length,c=0;c<g;c++)this.insert(a[c],e,b[c]);setTimeout(function(){try{d&&d()}catch(a){console.log(a)}})};return a}();b.InsertElementHelper=a})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.debounce("opacity",function(){this.style.opacity=1},100)}})(b.opacityToggleBehavior||(b.opacityToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function d(a){if(a=a.attributes.getNamedItem("data-redirect")){a=a.nodeValue;if(void 0!==a&&0<a.length)return a;if(this.recordData)return this.recordData.record.Deeplink;b.common.Logger.debug("no record data available for data-redirect action")}}function f(a){var b="_blank";if(a=a.attributes.getNamedItem("data-redirect-target"))a=a.nodeValue,void 0!==a&&0<a.length&&(b=a);return b}a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,
value:!0},productImageIdentifier:{type:"String",value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"},redirectIdentifier:{type:"String",value:"[data-redirect]"},redirectTargetIdentifier:{type:"String",value:"[data-redirect-target]"},recommendationIdentifier:{type:"String",value:"data-recommendation"},bindImmediate:{type:Boolean,value:!1}};a.behaviors=[b.elements.bindActionBehavior];var m=new b.communication.Tracking12;a.ready=function(){this.bindImmediate&&
(this.bindProductActions(),this.bindProductImage())};a.bindProductActions=function(){this._bindProductRedirect()};a.bindProductImage=function(){this.searchLightDOM&&this._bindProductImage(Polymer.dom(this));this.searchShadowDOM&&this._bindProductImage(Polymer.dom(this.root))};a._bindProductImage=function(a){a=a.querySelectorAll(this.productImageIdentifier);for(var d=0;d<a.length;d++){var f=a[d];if(!f.onerror){var c=f.attributes.getNamedItem("data-image-onerror");if(c){var g=c.nodeValue;g&&(f.onerror=
function(){f.onerror=null;f.setAttribute("src",g)})}}(c=f.getAttribute("data-image"))?void 0!==c&&0!==c.length&&f.setAttribute("src",c):(c=b.communication,f.setAttribute("src",this.recordData.record[c.fieldRoles?c.fieldRoles.imageUrl:""]||this.recordData.record.ImageUrl))}};a._bindProductRedirect=function(){this.searchLightDOM&&this.bindRedirect(Polymer.dom(this));this.searchShadowDOM&&this.bindRedirect(Polymer.dom(this.root))};a.bindRedirect=function(a){if(a){a=a.querySelectorAll(this.redirectIdentifier);
for(var b=0;b<a.length;b++){var d=a[b],c=Polymer.dom(d).querySelectorAll("[data-track]");if(0<c.length)for(var f=0;f<c.length;f++)c[f].attributes.removeNamedItem("data-track");this.bindElement(d,this._handleTrackingAndRedirect)}}};a._handleRedirect=function(a){var b=a.currentTarget;a=d(b);b=f(b);a&&this.redirect(a,b)};a._handleTrackingAndRedirect=function(a){a.stopPropagation();a=a.currentTarget;var b=this,h=d(a),c=f(a);h&&(a=this.getTrackingData(b),"_self"!==c?(!0===this.isRecommendation?this._trackRecommendationClick(this):
this._trackProductClick(this),this.redirect(h,c)):(a.always=function(){b.redirect(h,c)},m.click(a)))};a.getRedirectLocation=d;a.getRedirectTarget=f;a.getTrackingData=function(a){var d=b.communication.FFCommunicationEventAggregator.currentSearchResult,f;a:{for(f=0;f<d.resultsPerPageList.length;f++){var c=d.resultsPerPageList[f];if(1==c.selected){f=c.value;break a}}f=void 0}c=a.recordData.position||a.recordData.record.__ORIG_POSITION__;d={query:b.communication.Util.getQueryFromSearchParams(),page:d.paging.currentPage,
id:b.communication.Util.trackingHelper.getTrackingProductId(a.recordData),pos:c,origPos:a.recordData.record.__ORIG_POSITION__||c,pageSize:f,origPageSize:d.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(d,a.recordData);this.appendCampaign(d,a.recordData);this.appendInstoreAds(d,a.recordData);this.appendTitle(d,a.recordData);this.appendUserId(d);return d};a.redirect=function(a,b){window.open(a,b)}})(d.recordBindingBehavior||(d.recordBindingBehavior={}))})(b.elements||
(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}})(b.removeUnresolvedAttributeBehavior||(b.removeUnresolvedAttributeBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.clickSelector="[data-track='']";a.productClickSelector='[data-track="productClick"]';a.recommendationClickSelector='[data-track="recommendationClick"]';a.checkoutClickSelector='[data-track="checkoutClick"]';a.cartClickSelector='[data-track="cartClick"]';var d=new b.communication.Tracking12,f=b.communication.Util.trackingHelper.getTrackingProductId,m=b.communication.Util.trackingHelper.getPrice,e=b.communication.Util.trackingHelper.getMasterArticleNumber,k=
b.communication.Util.trackingHelper.getUserId,h=b.communication.Util.trackingHelper.getTitle;a.appendCount=function(a,b){a.count=b.count?b.count:1};a.appendInstoreAds=function(a,b){b.record.__FFInstoreAds__&&"true"===b.record.__FFInstoreAds__&&(a.instoreAds="true")};a.appendCampaign=function(a,b){b.record.__FFCampaign__&&(a.campaign=b.record.__FFCampaign__)};a.appendUserId=function(a){var b=k();b&&(a.userId=b)};a.appendTitle=function(a,b){(b=h(b))&&(a.title=b)};a.appendMasterArticleNumber=function(a,
b){(b=e(b))&&(a.masterId=b)};a.getRecordElement=function(a,e){return e?{recordData:e}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record")};a.bindClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);!0===this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),!0===
this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e))};a.bindProductClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e))};a.bindRecommendationClick=function(b){b=b||this;
if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e))};a.bindCheckoutClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.checkoutClickSelector,function(a){b._trackCheckoutClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.checkoutClickSelector,
function(a){b._trackCheckoutClick(b)},e))};a.bindCartClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e))};a._trackRecommendationClick=function(a,h,k){h=h?{recordData:h}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record");"ff-recommendation"!==
a.tagName.toLowerCase()&&(a=Polymer.dom(a),a=b.common.getParentElementByName(a,"ff-recommendation"));if(h){var m={type:"recommendationClick"};m.mainId=a.recordId;m.id=e(h.recordData)||f(h.recordData);this.appendMasterArticleNumber(m,h.recordData);this.appendUserId(m);k&&(m.always=k);d.recommendationClick(m)}};a._trackCheckoutClick=function(a,e,h){if(e=this.getRecordElement(a,e)){var k={id:f(e.recordData),price:m(e.recordData),query:e.recordData.record.__FFCartQuery__||b.communication.Util.getQueryFromSearchParams()};
this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.checkout(k)}else console.log("no record element found. tracking not possible.")};a._trackCartClick=function(a,e,h){e=this.getRecordElement(a,e);var k={id:f(e.recordData),price:m(e.recordData),query:b.communication.Util.getQueryFromSearchParams()};this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,
e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.cart(k)};a._trackProductClick=function(a,e,h){a=this.getRecordElement(a,e);e=b.communication.FFCommunicationEventAggregator.currentSearchResult;var k;a:{for(k=0;k<e.resultsPerPageList.length;k++){var m=e.resultsPerPageList[k];if(1==m.selected){k=m.value;break a}}k=void 0}m=a.recordData.position||a.recordData.record.__ORIG_POSITION__;e={query:b.communication.Util.getQueryFromSearchParams(),page:e.paging.currentPage,
id:f(a.recordData),pos:m,origPos:a.recordData.record.__ORIG_POSITION__||m,pageSize:k,origPageSize:e.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(e,a.recordData);this.appendCampaign(e,a.recordData);this.appendInstoreAds(e,a.recordData);this.appendTitle(e,a.recordData);this.appendUserId(e);h&&(e.always=h);d.click(e)}})(d.trackingBehavior||(d.trackingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){b=b.elements||(b.elements={});b.trackingBindingBehavior=[b.bindActionBehavior,b.trackingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){var b=Polymer,b=b.Gestures;a.bind=function(a,d,e){return(a=(e?e:Polymer.dom(this)).querySelector(a))?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindElement=function(a,d){return a?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindAll=function(a,d,e){if(a=(e?e:Polymer.dom(this)).querySelectorAll(a)){for(e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",d);return!0}return!1};a.bindElements=function(a,d){if(a){for(var e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",
d);return!0}return!1};a.unbind=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelector(a);b.remove(a,"tap",d)};a.unbindAll=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelectorAll(a);for(e=0;e<a.length;e++)b.remove(a[e],"tap",d)}})(b.bindActionBehavior||(b.bindActionBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){function b(a){var c=a&&a.nodeName?a:a.currentTarget;try{c.__transitionActive__=!1,c.removeEventListener("transitionend",b),"0px"!==c.style.height?(d(c,!1),c.style.height="",c.style.overflow="",setTimeout(function(){d(c,!0)})):d(c,!0)}catch(e){console.log(e)}finally{if(c&&c.__collapseCallback__){var k=c.__collapseCallback__;delete c.__collapseCallback__;setTimeout(function(){try{k()}catch(a){console.log(a)}},16)}}}function d(a,b){a.style["transition-duration"]=
!0===b?"":"0ms"}function m(a){a=a.getBoundingClientRect();for(var b in a)if(0!==a[b])return!0;return!1}function e(a){return a.getBoundingClientRect().height+"px"}function k(a,c,k,n){!0!==a.__transitionActive__&&(a.__transitionActive__=!0,n&&(a.__collapseCallback__=n),n=window.getComputedStyle(a),c=(n=n["transition-duration"]||n.transitionDuration)&&"0"!==n.replace(/\D/g,"")&&c,d(a,!1),c&&m(a)&&(n=e(a),"auto"===k&&(a.style.height="",k=e(a)),a.style.height=n,a.offsetHeight=a.offsetHeight,d(a,c),a.addEventListener("transitionend",
b)),"0px"===k?(a.style.overflow="hidden",a.removeAttribute("opened")):a.setAttribute("opened",""),a.style.height=k,c&&m(a)||(a.offsetHeight=a.offsetHeight,b(a)))}a._hide=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"0px",e)}catch(d){console.log(d)}};a._show=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"auto",e)}catch(d){console.log(d)}};a._toggle=function(a,b,d){void 0===b&&(b=!0);var f=e(a).replace(/\D/g,""),g=a.hasAttribute("opened");0<parseFloat(f)&&!1===g?this._hide(a,b,d):!1===g?this._show(a,
b,d):this._hide(a,b,d)}})(b.collapseElementsBehavior||(b.collapseElementsBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){a.properties={toggleFunctionName:{type:String},immediate:{type:Boolean},attributeName:{type:String},stateOneValue:{type:String},stateTwoValue:{type:String}};a.created=function(){var a=this;if(this[this.toggleFunctionName]){var b=this[this.toggleFunctionName];this.toggleFunctionName=function(){b.apply(arguments);a.toggleAttribute()}}if(!this.stateOneValue){var d=this.style[this.attributeName];this.stateOneValue=d?d:""}this.immediate&&this.toggleAttribute()};a.toggleAttribute=
function(){this.style[this.attributeName]=this.style[this.attributeName]===this.stateOneValue?this.stateTwoValue:this.stateOneValue};a.activateStateTwo=function(){this.style[this.attributeName]=this.stateTwoValue};a.activateStateOne=function(){this.style[this.attributeName]=this.stateOneValue}})(b.cssAttributeToggleBehavior||(b.cssAttributeToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,value:!0},productImageIdentifier:{type:String,value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"}};a.behaviors=[b.elements.bindActionBehavior];a.bindImage=function(a){this.searchLightDOM&&this._bindImage(Polymer.dom(this),a);this.searchShadowDOM&&this._bindImage(Polymer.dom(this.root))};a._bindImage=function(a,b){a=a.querySelectorAll(this.productImageIdentifier);
for(var d=0;d<a.length;d++){var e=a[d];if(!e.onerror){var k=e.attributes.getNamedItem("data-image-onerror");if(k){var h=k.nodeValue;h&&(e.onerror=function(){e.onerror=null;e.setAttribute("src",h)})}}e.setAttribute("src",b)}}})(d.imageBindingBehavior||(d.imageBindingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){b=b.elements||(b.elements={});b.imageTestBehavior=[b.bindActionBehavior,b.imageBindingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={templateString:{type:String},model:{type:Object,observer:"_modelObserver"},stampImmediate:{type:Boolean,value:!1}};a._renderer=new b.html.TemplateRenderer;a.ready=function(){this.updateTemplate();this.stampImmediate&&this.stamp()};a.stamp=function(){var a=this._renderer.render(this.templateString,this.model);Polymer.dom(this).innerHTML=a};a.updateTemplate=function(a){this.templateString=a?a:Polymer.dom(this).innerHTML};a._modelObserver=function(a,
b){this.stamp()}})(d.lightDOMTemplateBehavior||(d.lightDOMTemplateBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.__hashCodeGen=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)}return a()+a()+a()+a()};a.debugMessage=function(a){this.__hashCode||(this.__hashCode=this.__hashCodeGen(),b.common.Logger.debug(""));b.common.Logger.debug("DEBUG ["+this.tagName+" "+this.__hashCode+"] "+a)};a.created=function(){this.debugMessage("created callback invoked")};a.attached=function(){this.debugMessage("attached callback invoked")};a.detached=
function(){this.debugMessage("detached callback invoked")};a.ready=function(){this.debugMessage("ready callback invoked")}})(d.logLifeCycleCallbacksBehavior||(d.logLifeCycleCallbacksBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){var a=function(){function a(b,d){this.elementTemplate=b.node||b;-1<this.elementTemplate.nodeName.indexOf("-")&&CustomElements&&!0!==this.elementTemplate.__upgraded__&&!this.elementTemplate.clone&&(CustomElements.upgradeAll(this.elementTemplate),this.elementTemplate.__upgraded__=!0);this.type=b.type;this.parent=b.parentNode||d;this.previousSibling=b.previousSibling;this.nextSibling=b.nextSibling;try{Polymer.dom(Polymer.dom(this.elementTemplate).parentNode).removeChild(this.elementTemplate)}catch(e){}}
a.prototype.insert=function(a,b,e){var d=void 0!==a&&(void 0!==a.parentElement||Polymer.dom(a).parentNode);if(!a)try{a=this.elementTemplate.clone()}catch(g){throw this.elementTemplate+" does not implement clone()"+g;}d||(this.nextSibling?Polymer.dom(this.parent).insertBefore(a,this.nextSibling):Polymer.dom(this.parent).appendChild(a));Polymer.dom(this.parent).flush();try{b&&setTimeout(function(){b(a,e)})}catch(g){console.log(g)}};a.prototype.insertAll=function(a,b,e,d){for(var g=a.length>b.length?
a.length:b.length,c=0;c<g;c++)this.insert(a[c],e,b[c]);setTimeout(function(){try{d&&d()}catch(a){console.log(a)}})};return a}();b.InsertElementHelper=a})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.debounce("opacity",function(){this.style.opacity=1},100)}})(b.opacityToggleBehavior||(b.opacityToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function d(a){if(a=a.attributes.getNamedItem("data-redirect")){a=a.nodeValue;if(void 0!==a&&0<a.length)return a;if(this.recordData)return this.recordData.record.Deeplink;b.common.Logger.debug("no record data available for data-redirect action")}}function f(a){var b="_blank";if(a=a.attributes.getNamedItem("data-redirect-target"))a=a.nodeValue,void 0!==a&&0<a.length&&(b=a);return b}a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,
value:!0},productImageIdentifier:{type:"String",value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"},redirectIdentifier:{type:"String",value:"[data-redirect]"},redirectTargetIdentifier:{type:"String",value:"[data-redirect-target]"},recommendationIdentifier:{type:"String",value:"data-recommendation"},bindImmediate:{type:Boolean,value:!1}};a.behaviors=[b.elements.bindActionBehavior];var m=new b.communication.Tracking12;a.ready=function(){this.bindImmediate&&
(this.bindProductActions(),this.bindProductImage())};a.bindProductActions=function(){this._bindProductRedirect()};a.bindProductImage=function(){this.searchLightDOM&&this._bindProductImage(Polymer.dom(this));this.searchShadowDOM&&this._bindProductImage(Polymer.dom(this.root))};a._bindProductImage=function(a){a=a.querySelectorAll(this.productImageIdentifier);for(var d=0;d<a.length;d++){var f=a[d];if(!f.onerror){var c=f.attributes.getNamedItem("data-image-onerror");if(c){var g=c.nodeValue;g&&(f.onerror=
function(){f.onerror=null;f.setAttribute("src",g)})}}(c=f.getAttribute("data-image"))?void 0!==c&&0!==c.length&&f.setAttribute("src",c):(c=b.communication,f.setAttribute("src",this.recordData.record[c.fieldRoles?c.fieldRoles.imageUrl:""]||this.recordData.record.ImageUrl))}};a._bindProductRedirect=function(){this.searchLightDOM&&this.bindRedirect(Polymer.dom(this));this.searchShadowDOM&&this.bindRedirect(Polymer.dom(this.root))};a.bindRedirect=function(a){if(a){a=a.querySelectorAll(this.redirectIdentifier);
for(var b=0;b<a.length;b++){var d=a[b],c=Polymer.dom(d).querySelectorAll("[data-track]");if(0<c.length)for(var f=0;f<c.length;f++)c[f].attributes.removeNamedItem("data-track");this.bindElement(d,this._handleTrackingAndRedirect)}}};a._handleRedirect=function(a){var b=a.currentTarget;a=d(b);b=f(b);a&&this.redirect(a,b)};a._handleTrackingAndRedirect=function(a){a.stopPropagation();a=a.currentTarget;var b=this,h=d(a),c=f(a);h&&(a=this.getTrackingData(b),"_self"!==c?(!0===this.isRecommendation?this._trackRecommendationClick(this):
this._trackProductClick(this),this.redirect(h,c)):(a.always=function(){b.redirect(h,c)},m.click(a)))};a.getRedirectLocation=d;a.getRedirectTarget=f;a.getTrackingData=function(a){var d=b.communication.FFCommunicationEventAggregator.currentSearchResult,f;a:{for(f=0;f<d.resultsPerPageList.length;f++){var c=d.resultsPerPageList[f];if(1==c.selected){f=c.value;break a}}f=void 0}c=a.recordData.position||a.recordData.record.__ORIG_POSITION__;d={query:b.communication.Util.getQueryFromSearchParams(),page:d.paging.currentPage,
id:b.communication.Util.trackingHelper.getTrackingProductId(a.recordData),pos:c,origPos:a.recordData.record.__ORIG_POSITION__||c,pageSize:f,origPageSize:d.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(d,a.recordData);this.appendCampaign(d,a.recordData);this.appendInstoreAds(d,a.recordData);this.appendTitle(d,a.recordData);this.appendUserId(d);return d};a.redirect=function(a,b){window.open(a,b)}})(d.recordBindingBehavior||(d.recordBindingBehavior={}))})(b.elements||
(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}})(b.removeUnresolvedAttributeBehavior||(b.removeUnresolvedAttributeBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.clickSelector="[data-track='']";a.productClickSelector='[data-track="productClick"]';a.recommendationClickSelector='[data-track="recommendationClick"]';a.checkoutClickSelector='[data-track="checkoutClick"]';a.cartClickSelector='[data-track="cartClick"]';var d=new b.communication.Tracking12,f=b.communication.Util.trackingHelper.getTrackingProductId,m=b.communication.Util.trackingHelper.getPrice,e=b.communication.Util.trackingHelper.getMasterArticleNumber,k=
b.communication.Util.trackingHelper.getUserId,h=b.communication.Util.trackingHelper.getTitle;a.appendCount=function(a,b){a.count=b.count?b.count:1};a.appendInstoreAds=function(a,b){b.record.__FFInstoreAds__&&"true"===b.record.__FFInstoreAds__&&(a.instoreAds="true")};a.appendCampaign=function(a,b){b.record.__FFCampaign__&&(a.campaign=b.record.__FFCampaign__)};a.appendUserId=function(a){var b=k();b&&(a.userId=b)};a.appendTitle=function(a,b){(b=h(b))&&(a.title=b)};a.appendMasterArticleNumber=function(a,
b){(b=e(b))&&(a.masterId=b)};a.getRecordElement=function(a,e){return e?{recordData:e}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record")};a.bindClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);!0===this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),!0===
this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e))};a.bindProductClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e))};a.bindRecommendationClick=function(b){b=b||this;
if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e))};a.bindCheckoutClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.checkoutClickSelector,function(a){b._trackCheckoutClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.checkoutClickSelector,
function(a){b._trackCheckoutClick(b)},e))};a.bindCartClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e))};a._trackRecommendationClick=function(a,h,k){h=h?{recordData:h}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record");"ff-recommendation"!==
a.tagName.toLowerCase()&&(a=Polymer.dom(a),a=b.common.getParentElementByName(a,"ff-recommendation"));if(h){var m={type:"recommendationClick"};m.mainId=a.recordId;m.id=e(h.recordData)||f(h.recordData);this.appendMasterArticleNumber(m,h.recordData);this.appendUserId(m);k&&(m.always=k);d.recommendationClick(m)}};a._trackCheckoutClick=function(a,e,h){if(e=this.getRecordElement(a,e)){var k={id:f(e.recordData),price:m(e.recordData),query:e.recordData.record.__FFCartQuery__||b.communication.Util.getQueryFromSearchParams()};
this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.checkout(k)}else console.log("no record element found. tracking not possible.")};a._trackCartClick=function(a,e,h){e=this.getRecordElement(a,e);var k={id:f(e.recordData),price:m(e.recordData),query:b.communication.Util.getQueryFromSearchParams()};this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,
e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.cart(k)};a._trackProductClick=function(a,e,h){a=this.getRecordElement(a,e);e=b.communication.FFCommunicationEventAggregator.currentSearchResult;var k;a:{for(k=0;k<e.resultsPerPageList.length;k++){var m=e.resultsPerPageList[k];if(1==m.selected){k=m.value;break a}}k=void 0}m=a.recordData.position||a.recordData.record.__ORIG_POSITION__;e={query:b.communication.Util.getQueryFromSearchParams(),page:e.paging.currentPage,
id:f(a.recordData),pos:m,origPos:a.recordData.record.__ORIG_POSITION__||m,pageSize:k,origPageSize:e.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(e,a.recordData);this.appendCampaign(e,a.recordData);this.appendInstoreAds(e,a.recordData);this.appendTitle(e,a.recordData);this.appendUserId(e);h&&(e.always=h);d.click(e)}})(d.trackingBehavior||(d.trackingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){b=b.elements||(b.elements={});b.trackingBindingBehavior=[b.bindActionBehavior,b.trackingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){var b=Polymer,b=b.Gestures;a.bind=function(a,d,e){return(a=(e?e:Polymer.dom(this)).querySelector(a))?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindElement=function(a,d){return a?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindAll=function(a,d,e){if(a=(e?e:Polymer.dom(this)).querySelectorAll(a)){for(e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",d);return!0}return!1};a.bindElements=function(a,d){if(a){for(var e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",
d);return!0}return!1};a.unbind=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelector(a);b.remove(a,"tap",d)};a.unbindAll=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelectorAll(a);for(e=0;e<a.length;e++)b.remove(a[e],"tap",d)}})(b.bindActionBehavior||(b.bindActionBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){function b(a){var c=a&&a.nodeName?a:a.currentTarget;try{c.__transitionActive__=!1,c.removeEventListener("transitionend",b),"0px"!==c.style.height?(d(c,!1),c.style.height="",c.style.overflow="",setTimeout(function(){d(c,!0)})):d(c,!0)}catch(e){console.log(e)}finally{if(c&&c.__collapseCallback__){var k=c.__collapseCallback__;delete c.__collapseCallback__;setTimeout(function(){try{k()}catch(a){console.log(a)}},16)}}}function d(a,b){a.style["transition-duration"]=
!0===b?"":"0ms"}function m(a){a=a.getBoundingClientRect();for(var b in a)if(0!==a[b])return!0;return!1}function e(a){return a.getBoundingClientRect().height+"px"}function k(a,c,k,n){!0!==a.__transitionActive__&&(a.__transitionActive__=!0,n&&(a.__collapseCallback__=n),n=window.getComputedStyle(a),c=(n=n["transition-duration"]||n.transitionDuration)&&"0"!==n.replace(/\D/g,"")&&c,d(a,!1),c&&m(a)&&(n=e(a),"auto"===k&&(a.style.height="",k=e(a)),a.style.height=n,a.offsetHeight=a.offsetHeight,d(a,c),a.addEventListener("transitionend",
b)),"0px"===k?(a.style.overflow="hidden",a.removeAttribute("opened")):a.setAttribute("opened",""),a.style.height=k,c&&m(a)||(a.offsetHeight=a.offsetHeight,b(a)))}a._hide=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"0px",e)}catch(d){console.log(d)}};a._show=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"auto",e)}catch(d){console.log(d)}};a._toggle=function(a,b,d){void 0===b&&(b=!0);var f=e(a).replace(/\D/g,""),g=a.hasAttribute("opened");0<parseFloat(f)&&!1===g?this._hide(a,b,d):!1===g?this._show(a,
b,d):this._hide(a,b,d)}})(b.collapseElementsBehavior||(b.collapseElementsBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){a.properties={toggleFunctionName:{type:String},immediate:{type:Boolean},attributeName:{type:String},stateOneValue:{type:String},stateTwoValue:{type:String}};a.created=function(){var a=this;if(this[this.toggleFunctionName]){var b=this[this.toggleFunctionName];this.toggleFunctionName=function(){b.apply(arguments);a.toggleAttribute()}}if(!this.stateOneValue){var d=this.style[this.attributeName];this.stateOneValue=d?d:""}this.immediate&&this.toggleAttribute()};a.toggleAttribute=
function(){this.style[this.attributeName]=this.style[this.attributeName]===this.stateOneValue?this.stateTwoValue:this.stateOneValue};a.activateStateTwo=function(){this.style[this.attributeName]=this.stateTwoValue};a.activateStateOne=function(){this.style[this.attributeName]=this.stateOneValue}})(b.cssAttributeToggleBehavior||(b.cssAttributeToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,value:!0},productImageIdentifier:{type:String,value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"}};a.behaviors=[b.elements.bindActionBehavior];a.bindImage=function(a){this.searchLightDOM&&this._bindImage(Polymer.dom(this),a);this.searchShadowDOM&&this._bindImage(Polymer.dom(this.root))};a._bindImage=function(a,b){a=a.querySelectorAll(this.productImageIdentifier);
for(var d=0;d<a.length;d++){var e=a[d];if(!e.onerror){var k=e.attributes.getNamedItem("data-image-onerror");if(k){var h=k.nodeValue;h&&(e.onerror=function(){e.onerror=null;e.setAttribute("src",h)})}}e.setAttribute("src",b)}}})(d.imageBindingBehavior||(d.imageBindingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){b=b.elements||(b.elements={});b.imageTestBehavior=[b.bindActionBehavior,b.imageBindingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={templateString:{type:String},model:{type:Object,observer:"_modelObserver"},stampImmediate:{type:Boolean,value:!1}};a._renderer=new b.html.TemplateRenderer;a.ready=function(){this.updateTemplate();this.stampImmediate&&this.stamp()};a.stamp=function(){var a=this._renderer.render(this.templateString,this.model);Polymer.dom(this).innerHTML=a};a.updateTemplate=function(a){this.templateString=a?a:Polymer.dom(this).innerHTML};a._modelObserver=function(a,
b){this.stamp()}})(d.lightDOMTemplateBehavior||(d.lightDOMTemplateBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.__hashCodeGen=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)}return a()+a()+a()+a()};a.debugMessage=function(a){this.__hashCode||(this.__hashCode=this.__hashCodeGen(),b.common.Logger.debug(""));b.common.Logger.debug("DEBUG ["+this.tagName+" "+this.__hashCode+"] "+a)};a.created=function(){this.debugMessage("created callback invoked")};a.attached=function(){this.debugMessage("attached callback invoked")};a.detached=
function(){this.debugMessage("detached callback invoked")};a.ready=function(){this.debugMessage("ready callback invoked")}})(d.logLifeCycleCallbacksBehavior||(d.logLifeCycleCallbacksBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){var a=function(){function a(b,d){this.elementTemplate=b.node||b;-1<this.elementTemplate.nodeName.indexOf("-")&&CustomElements&&!0!==this.elementTemplate.__upgraded__&&!this.elementTemplate.clone&&(CustomElements.upgradeAll(this.elementTemplate),this.elementTemplate.__upgraded__=!0);this.type=b.type;this.parent=b.parentNode||d;this.previousSibling=b.previousSibling;this.nextSibling=b.nextSibling;try{Polymer.dom(Polymer.dom(this.elementTemplate).parentNode).removeChild(this.elementTemplate)}catch(e){}}
a.prototype.insert=function(a,b,e){var d=void 0!==a&&(void 0!==a.parentElement||Polymer.dom(a).parentNode);if(!a)try{a=this.elementTemplate.clone()}catch(g){throw this.elementTemplate+" does not implement clone()"+g;}d||(this.nextSibling?Polymer.dom(this.parent).insertBefore(a,this.nextSibling):Polymer.dom(this.parent).appendChild(a));Polymer.dom(this.parent).flush();try{b&&setTimeout(function(){b(a,e)})}catch(g){console.log(g)}};a.prototype.insertAll=function(a,b,e,d){for(var g=a.length>b.length?
a.length:b.length,c=0;c<g;c++)this.insert(a[c],e,b[c]);setTimeout(function(){try{d&&d()}catch(a){console.log(a)}})};return a}();b.InsertElementHelper=a})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.debounce("opacity",function(){this.style.opacity=1},100)}})(b.opacityToggleBehavior||(b.opacityToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function d(a){if(a=a.attributes.getNamedItem("data-redirect")){a=a.nodeValue;if(void 0!==a&&0<a.length)return a;if(this.recordData)return this.recordData.record.Deeplink;b.common.Logger.debug("no record data available for data-redirect action")}}function f(a){var b="_blank";if(a=a.attributes.getNamedItem("data-redirect-target"))a=a.nodeValue,void 0!==a&&0<a.length&&(b=a);return b}a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,
value:!0},productImageIdentifier:{type:"String",value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"},redirectIdentifier:{type:"String",value:"[data-redirect]"},redirectTargetIdentifier:{type:"String",value:"[data-redirect-target]"},recommendationIdentifier:{type:"String",value:"data-recommendation"},bindImmediate:{type:Boolean,value:!1}};a.behaviors=[b.elements.bindActionBehavior];var m=new b.communication.Tracking12;a.ready=function(){this.bindImmediate&&
(this.bindProductActions(),this.bindProductImage())};a.bindProductActions=function(){this._bindProductRedirect()};a.bindProductImage=function(){this.searchLightDOM&&this._bindProductImage(Polymer.dom(this));this.searchShadowDOM&&this._bindProductImage(Polymer.dom(this.root))};a._bindProductImage=function(a){a=a.querySelectorAll(this.productImageIdentifier);for(var d=0;d<a.length;d++){var f=a[d];if(!f.onerror){var c=f.attributes.getNamedItem("data-image-onerror");if(c){var g=c.nodeValue;g&&(f.onerror=
function(){f.onerror=null;f.setAttribute("src",g)})}}(c=f.getAttribute("data-image"))?void 0!==c&&0!==c.length&&f.setAttribute("src",c):(c=b.communication,f.setAttribute("src",this.recordData.record[c.fieldRoles?c.fieldRoles.imageUrl:""]||this.recordData.record.ImageUrl))}};a._bindProductRedirect=function(){this.searchLightDOM&&this.bindRedirect(Polymer.dom(this));this.searchShadowDOM&&this.bindRedirect(Polymer.dom(this.root))};a.bindRedirect=function(a){if(a){a=a.querySelectorAll(this.redirectIdentifier);
for(var b=0;b<a.length;b++){var d=a[b],c=Polymer.dom(d).querySelectorAll("[data-track]");if(0<c.length)for(var f=0;f<c.length;f++)c[f].attributes.removeNamedItem("data-track");this.bindElement(d,this._handleTrackingAndRedirect)}}};a._handleRedirect=function(a){var b=a.currentTarget;a=d(b);b=f(b);a&&this.redirect(a,b)};a._handleTrackingAndRedirect=function(a){a.stopPropagation();a=a.currentTarget;var b=this,h=d(a),c=f(a);h&&(a=this.getTrackingData(b),"_self"!==c?(!0===this.isRecommendation?this._trackRecommendationClick(this):
this._trackProductClick(this),this.redirect(h,c)):(a.always=function(){b.redirect(h,c)},m.click(a)))};a.getRedirectLocation=d;a.getRedirectTarget=f;a.getTrackingData=function(a){var d=b.communication.FFCommunicationEventAggregator.currentSearchResult,f;a:{for(f=0;f<d.resultsPerPageList.length;f++){var c=d.resultsPerPageList[f];if(1==c.selected){f=c.value;break a}}f=void 0}c=a.recordData.position||a.recordData.record.__ORIG_POSITION__;d={query:b.communication.Util.getQueryFromSearchParams(),page:d.paging.currentPage,
id:b.communication.Util.trackingHelper.getTrackingProductId(a.recordData),pos:c,origPos:a.recordData.record.__ORIG_POSITION__||c,pageSize:f,origPageSize:d.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(d,a.recordData);this.appendCampaign(d,a.recordData);this.appendInstoreAds(d,a.recordData);this.appendTitle(d,a.recordData);this.appendUserId(d);return d};a.redirect=function(a,b){window.open(a,b)}})(d.recordBindingBehavior||(d.recordBindingBehavior={}))})(b.elements||
(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}})(b.removeUnresolvedAttributeBehavior||(b.removeUnresolvedAttributeBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.clickSelector="[data-track='']";a.productClickSelector='[data-track="productClick"]';a.recommendationClickSelector='[data-track="recommendationClick"]';a.checkoutClickSelector='[data-track="checkoutClick"]';a.cartClickSelector='[data-track="cartClick"]';var d=new b.communication.Tracking12,f=b.communication.Util.trackingHelper.getTrackingProductId,m=b.communication.Util.trackingHelper.getPrice,e=b.communication.Util.trackingHelper.getMasterArticleNumber,k=
b.communication.Util.trackingHelper.getUserId,h=b.communication.Util.trackingHelper.getTitle;a.appendCount=function(a,b){a.count=b.count?b.count:1};a.appendInstoreAds=function(a,b){b.record.__FFInstoreAds__&&"true"===b.record.__FFInstoreAds__&&(a.instoreAds="true")};a.appendCampaign=function(a,b){b.record.__FFCampaign__&&(a.campaign=b.record.__FFCampaign__)};a.appendUserId=function(a){var b=k();b&&(a.userId=b)};a.appendTitle=function(a,b){(b=h(b))&&(a.title=b)};a.appendMasterArticleNumber=function(a,
b){(b=e(b))&&(a.masterId=b)};a.getRecordElement=function(a,e){return e?{recordData:e}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record")};a.bindClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);!0===this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),!0===
this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e))};a.bindProductClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e))};a.bindRecommendationClick=function(b){b=b||this;
if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e))};a.bindCheckoutClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.checkoutClickSelector,function(a){b._trackCheckoutClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.checkoutClickSelector,
function(a){b._trackCheckoutClick(b)},e))};a.bindCartClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e))};a._trackRecommendationClick=function(a,h,k){h=h?{recordData:h}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record");"ff-recommendation"!==
a.tagName.toLowerCase()&&(a=Polymer.dom(a),a=b.common.getParentElementByName(a,"ff-recommendation"));if(h){var m={type:"recommendationClick"};m.mainId=a.recordId;m.id=e(h.recordData)||f(h.recordData);this.appendMasterArticleNumber(m,h.recordData);this.appendUserId(m);k&&(m.always=k);d.recommendationClick(m)}};a._trackCheckoutClick=function(a,e,h){if(e=this.getRecordElement(a,e)){var k={id:f(e.recordData),price:m(e.recordData),query:e.recordData.record.__FFCartQuery__||b.communication.Util.getQueryFromSearchParams()};
this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.checkout(k)}else console.log("no record element found. tracking not possible.")};a._trackCartClick=function(a,e,h){e=this.getRecordElement(a,e);var k={id:f(e.recordData),price:m(e.recordData),query:b.communication.Util.getQueryFromSearchParams()};this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,
e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.cart(k)};a._trackProductClick=function(a,e,h){a=this.getRecordElement(a,e);e=b.communication.FFCommunicationEventAggregator.currentSearchResult;var k;a:{for(k=0;k<e.resultsPerPageList.length;k++){var m=e.resultsPerPageList[k];if(1==m.selected){k=m.value;break a}}k=void 0}m=a.recordData.position||a.recordData.record.__ORIG_POSITION__;e={query:b.communication.Util.getQueryFromSearchParams(),page:e.paging.currentPage,
id:f(a.recordData),pos:m,origPos:a.recordData.record.__ORIG_POSITION__||m,pageSize:k,origPageSize:e.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(e,a.recordData);this.appendCampaign(e,a.recordData);this.appendInstoreAds(e,a.recordData);this.appendTitle(e,a.recordData);this.appendUserId(e);h&&(e.always=h);d.click(e)}})(d.trackingBehavior||(d.trackingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){b=b.elements||(b.elements={});b.trackingBindingBehavior=[b.bindActionBehavior,b.trackingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){var b=Polymer,b=b.Gestures;a.bind=function(a,d,e){return(a=(e?e:Polymer.dom(this)).querySelector(a))?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindElement=function(a,d){return a?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindAll=function(a,d,e){if(a=(e?e:Polymer.dom(this)).querySelectorAll(a)){for(e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",d);return!0}return!1};a.bindElements=function(a,d){if(a){for(var e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",
d);return!0}return!1};a.unbind=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelector(a);b.remove(a,"tap",d)};a.unbindAll=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelectorAll(a);for(e=0;e<a.length;e++)b.remove(a[e],"tap",d)}})(b.bindActionBehavior||(b.bindActionBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){function b(a){var c=a&&a.nodeName?a:a.currentTarget;try{c.__transitionActive__=!1,c.removeEventListener("transitionend",b),"0px"!==c.style.height?(d(c,!1),c.style.height="",c.style.overflow="",setTimeout(function(){d(c,!0)})):d(c,!0)}catch(e){console.log(e)}finally{if(c&&c.__collapseCallback__){var k=c.__collapseCallback__;delete c.__collapseCallback__;setTimeout(function(){try{k()}catch(a){console.log(a)}},16)}}}function d(a,b){a.style["transition-duration"]=
!0===b?"":"0ms"}function m(a){a=a.getBoundingClientRect();for(var b in a)if(0!==a[b])return!0;return!1}function e(a){return a.getBoundingClientRect().height+"px"}function k(a,c,k,n){!0!==a.__transitionActive__&&(a.__transitionActive__=!0,n&&(a.__collapseCallback__=n),n=window.getComputedStyle(a),c=(n=n["transition-duration"]||n.transitionDuration)&&"0"!==n.replace(/\D/g,"")&&c,d(a,!1),c&&m(a)&&(n=e(a),"auto"===k&&(a.style.height="",k=e(a)),a.style.height=n,a.offsetHeight=a.offsetHeight,d(a,c),a.addEventListener("transitionend",
b)),"0px"===k?(a.style.overflow="hidden",a.removeAttribute("opened")):a.setAttribute("opened",""),a.style.height=k,c&&m(a)||(a.offsetHeight=a.offsetHeight,b(a)))}a._hide=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"0px",e)}catch(d){console.log(d)}};a._show=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"auto",e)}catch(d){console.log(d)}};a._toggle=function(a,b,d){void 0===b&&(b=!0);var f=e(a).replace(/\D/g,""),g=a.hasAttribute("opened");0<parseFloat(f)&&!1===g?this._hide(a,b,d):!1===g?this._show(a,
b,d):this._hide(a,b,d)}})(b.collapseElementsBehavior||(b.collapseElementsBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){a.properties={toggleFunctionName:{type:String},immediate:{type:Boolean},attributeName:{type:String},stateOneValue:{type:String},stateTwoValue:{type:String}};a.created=function(){var a=this;if(this[this.toggleFunctionName]){var b=this[this.toggleFunctionName];this.toggleFunctionName=function(){b.apply(arguments);a.toggleAttribute()}}if(!this.stateOneValue){var d=this.style[this.attributeName];this.stateOneValue=d?d:""}this.immediate&&this.toggleAttribute()};a.toggleAttribute=
function(){this.style[this.attributeName]=this.style[this.attributeName]===this.stateOneValue?this.stateTwoValue:this.stateOneValue};a.activateStateTwo=function(){this.style[this.attributeName]=this.stateTwoValue};a.activateStateOne=function(){this.style[this.attributeName]=this.stateOneValue}})(b.cssAttributeToggleBehavior||(b.cssAttributeToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,value:!0},productImageIdentifier:{type:String,value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"}};a.behaviors=[b.elements.bindActionBehavior];a.bindImage=function(a){this.searchLightDOM&&this._bindImage(Polymer.dom(this),a);this.searchShadowDOM&&this._bindImage(Polymer.dom(this.root))};a._bindImage=function(a,b){a=a.querySelectorAll(this.productImageIdentifier);
for(var d=0;d<a.length;d++){var e=a[d];if(!e.onerror){var k=e.attributes.getNamedItem("data-image-onerror");if(k){var h=k.nodeValue;h&&(e.onerror=function(){e.onerror=null;e.setAttribute("src",h)})}}e.setAttribute("src",b)}}})(d.imageBindingBehavior||(d.imageBindingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){b=b.elements||(b.elements={});b.imageTestBehavior=[b.bindActionBehavior,b.imageBindingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={templateString:{type:String},model:{type:Object,observer:"_modelObserver"},stampImmediate:{type:Boolean,value:!1}};a._renderer=new b.html.TemplateRenderer;a.ready=function(){this.updateTemplate();this.stampImmediate&&this.stamp()};a.stamp=function(){var a=this._renderer.render(this.templateString,this.model);Polymer.dom(this).innerHTML=a};a.updateTemplate=function(a){this.templateString=a?a:Polymer.dom(this).innerHTML};a._modelObserver=function(a,
b){this.stamp()}})(d.lightDOMTemplateBehavior||(d.lightDOMTemplateBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.__hashCodeGen=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)}return a()+a()+a()+a()};a.debugMessage=function(a){this.__hashCode||(this.__hashCode=this.__hashCodeGen(),b.common.Logger.debug(""));b.common.Logger.debug("DEBUG ["+this.tagName+" "+this.__hashCode+"] "+a)};a.created=function(){this.debugMessage("created callback invoked")};a.attached=function(){this.debugMessage("attached callback invoked")};a.detached=
function(){this.debugMessage("detached callback invoked")};a.ready=function(){this.debugMessage("ready callback invoked")}})(d.logLifeCycleCallbacksBehavior||(d.logLifeCycleCallbacksBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){var a=function(){function a(b,d){this.elementTemplate=b.node||b;-1<this.elementTemplate.nodeName.indexOf("-")&&CustomElements&&!0!==this.elementTemplate.__upgraded__&&!this.elementTemplate.clone&&(CustomElements.upgradeAll(this.elementTemplate),this.elementTemplate.__upgraded__=!0);this.type=b.type;this.parent=b.parentNode||d;this.previousSibling=b.previousSibling;this.nextSibling=b.nextSibling;try{Polymer.dom(Polymer.dom(this.elementTemplate).parentNode).removeChild(this.elementTemplate)}catch(e){}}
a.prototype.insert=function(a,b,e){var d=void 0!==a&&(void 0!==a.parentElement||Polymer.dom(a).parentNode);if(!a)try{a=this.elementTemplate.clone()}catch(g){throw this.elementTemplate+" does not implement clone()"+g;}d||(this.nextSibling?Polymer.dom(this.parent).insertBefore(a,this.nextSibling):Polymer.dom(this.parent).appendChild(a));Polymer.dom(this.parent).flush();try{b&&setTimeout(function(){b(a,e)})}catch(g){console.log(g)}};a.prototype.insertAll=function(a,b,e,d){for(var g=a.length>b.length?
a.length:b.length,c=0;c<g;c++)this.insert(a[c],e,b[c]);setTimeout(function(){try{d&&d()}catch(a){console.log(a)}})};return a}();b.InsertElementHelper=a})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.debounce("opacity",function(){this.style.opacity=1},100)}})(b.opacityToggleBehavior||(b.opacityToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function d(a){if(a=a.attributes.getNamedItem("data-redirect")){a=a.nodeValue;if(void 0!==a&&0<a.length)return a;if(this.recordData)return this.recordData.record.Deeplink;b.common.Logger.debug("no record data available for data-redirect action")}}function f(a){var b="_blank";if(a=a.attributes.getNamedItem("data-redirect-target"))a=a.nodeValue,void 0!==a&&0<a.length&&(b=a);return b}a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,
value:!0},productImageIdentifier:{type:"String",value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"},redirectIdentifier:{type:"String",value:"[data-redirect]"},redirectTargetIdentifier:{type:"String",value:"[data-redirect-target]"},recommendationIdentifier:{type:"String",value:"data-recommendation"},bindImmediate:{type:Boolean,value:!1}};a.behaviors=[b.elements.bindActionBehavior];var m=new b.communication.Tracking12;a.ready=function(){this.bindImmediate&&
(this.bindProductActions(),this.bindProductImage())};a.bindProductActions=function(){this._bindProductRedirect()};a.bindProductImage=function(){this.searchLightDOM&&this._bindProductImage(Polymer.dom(this));this.searchShadowDOM&&this._bindProductImage(Polymer.dom(this.root))};a._bindProductImage=function(a){a=a.querySelectorAll(this.productImageIdentifier);for(var d=0;d<a.length;d++){var f=a[d];if(!f.onerror){var c=f.attributes.getNamedItem("data-image-onerror");if(c){var g=c.nodeValue;g&&(f.onerror=
function(){f.onerror=null;f.setAttribute("src",g)})}}(c=f.getAttribute("data-image"))?void 0!==c&&0!==c.length&&f.setAttribute("src",c):(c=b.communication,f.setAttribute("src",this.recordData.record[c.fieldRoles?c.fieldRoles.imageUrl:""]||this.recordData.record.ImageUrl))}};a._bindProductRedirect=function(){this.searchLightDOM&&this.bindRedirect(Polymer.dom(this));this.searchShadowDOM&&this.bindRedirect(Polymer.dom(this.root))};a.bindRedirect=function(a){if(a){a=a.querySelectorAll(this.redirectIdentifier);
for(var b=0;b<a.length;b++){var d=a[b],c=Polymer.dom(d).querySelectorAll("[data-track]");if(0<c.length)for(var f=0;f<c.length;f++)c[f].attributes.removeNamedItem("data-track");this.bindElement(d,this._handleTrackingAndRedirect)}}};a._handleRedirect=function(a){var b=a.currentTarget;a=d(b);b=f(b);a&&this.redirect(a,b)};a._handleTrackingAndRedirect=function(a){a.stopPropagation();a=a.currentTarget;var b=this,h=d(a),c=f(a);h&&(a=this.getTrackingData(b),"_self"!==c?(!0===this.isRecommendation?this._trackRecommendationClick(this):
this._trackProductClick(this),this.redirect(h,c)):(a.always=function(){b.redirect(h,c)},m.click(a)))};a.getRedirectLocation=d;a.getRedirectTarget=f;a.getTrackingData=function(a){var d=b.communication.FFCommunicationEventAggregator.currentSearchResult,f;a:{for(f=0;f<d.resultsPerPageList.length;f++){var c=d.resultsPerPageList[f];if(1==c.selected){f=c.value;break a}}f=void 0}c=a.recordData.position||a.recordData.record.__ORIG_POSITION__;d={query:b.communication.Util.getQueryFromSearchParams(),page:d.paging.currentPage,
id:b.communication.Util.trackingHelper.getTrackingProductId(a.recordData),pos:c,origPos:a.recordData.record.__ORIG_POSITION__||c,pageSize:f,origPageSize:d.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(d,a.recordData);this.appendCampaign(d,a.recordData);this.appendInstoreAds(d,a.recordData);this.appendTitle(d,a.recordData);this.appendUserId(d);return d};a.redirect=function(a,b){window.open(a,b)}})(d.recordBindingBehavior||(d.recordBindingBehavior={}))})(b.elements||
(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}})(b.removeUnresolvedAttributeBehavior||(b.removeUnresolvedAttributeBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.clickSelector="[data-track='']";a.productClickSelector='[data-track="productClick"]';a.recommendationClickSelector='[data-track="recommendationClick"]';a.checkoutClickSelector='[data-track="checkoutClick"]';a.cartClickSelector='[data-track="cartClick"]';var d=new b.communication.Tracking12,f=b.communication.Util.trackingHelper.getTrackingProductId,m=b.communication.Util.trackingHelper.getPrice,e=b.communication.Util.trackingHelper.getMasterArticleNumber,k=
b.communication.Util.trackingHelper.getUserId,h=b.communication.Util.trackingHelper.getTitle;a.appendCount=function(a,b){a.count=b.count?b.count:1};a.appendInstoreAds=function(a,b){b.record.__FFInstoreAds__&&"true"===b.record.__FFInstoreAds__&&(a.instoreAds="true")};a.appendCampaign=function(a,b){b.record.__FFCampaign__&&(a.campaign=b.record.__FFCampaign__)};a.appendUserId=function(a){var b=k();b&&(a.userId=b)};a.appendTitle=function(a,b){(b=h(b))&&(a.title=b)};a.appendMasterArticleNumber=function(a,
b){(b=e(b))&&(a.masterId=b)};a.getRecordElement=function(a,e){return e?{recordData:e}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record")};a.bindClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);!0===this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),!0===
this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e))};a.bindProductClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e))};a.bindRecommendationClick=function(b){b=b||this;
if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e))};a.bindCheckoutClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.checkoutClickSelector,function(a){b._trackCheckoutClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.checkoutClickSelector,
function(a){b._trackCheckoutClick(b)},e))};a.bindCartClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e))};a._trackRecommendationClick=function(a,h,k){h=h?{recordData:h}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record");"ff-recommendation"!==
a.tagName.toLowerCase()&&(a=Polymer.dom(a),a=b.common.getParentElementByName(a,"ff-recommendation"));if(h){var m={type:"recommendationClick"};m.mainId=a.recordId;m.id=e(h.recordData)||f(h.recordData);this.appendMasterArticleNumber(m,h.recordData);this.appendUserId(m);k&&(m.always=k);d.recommendationClick(m)}};a._trackCheckoutClick=function(a,e,h){if(e=this.getRecordElement(a,e)){var k={id:f(e.recordData),price:m(e.recordData),query:e.recordData.record.__FFCartQuery__||b.communication.Util.getQueryFromSearchParams()};
this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.checkout(k)}else console.log("no record element found. tracking not possible.")};a._trackCartClick=function(a,e,h){e=this.getRecordElement(a,e);var k={id:f(e.recordData),price:m(e.recordData),query:b.communication.Util.getQueryFromSearchParams()};this.appendMasterArticleNumber(k,e.recordData);this.appendCount(k,a);this.appendCampaign(k,
e.recordData);this.appendInstoreAds(k,e.recordData);this.appendUserId(k);h&&(k.always=h);d.cart(k)};a._trackProductClick=function(a,e,h){a=this.getRecordElement(a,e);e=b.communication.FFCommunicationEventAggregator.currentSearchResult;var k;a:{for(k=0;k<e.resultsPerPageList.length;k++){var m=e.resultsPerPageList[k];if(1==m.selected){k=m.value;break a}}k=void 0}m=a.recordData.position||a.recordData.record.__ORIG_POSITION__;e={query:b.communication.Util.getQueryFromSearchParams(),page:e.paging.currentPage,
id:f(a.recordData),pos:m,origPos:a.recordData.record.__ORIG_POSITION__||m,pageSize:k,origPageSize:e.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(e,a.recordData);this.appendCampaign(e,a.recordData);this.appendInstoreAds(e,a.recordData);this.appendTitle(e,a.recordData);this.appendUserId(e);h&&(e.always=h);d.click(e)}})(d.trackingBehavior||(d.trackingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){b=b.elements||(b.elements={});b.trackingBindingBehavior=[b.bindActionBehavior,b.trackingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){var b=Polymer,b=b.Gestures;a.bind=function(a,d,e){return(a=(e?e:Polymer.dom(this)).querySelector(a))?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindElement=function(a,d){return a?(d=d.bind(this),b.add(a,"tap",d),!0):!1};a.bindAll=function(a,d,e){if(a=(e?e:Polymer.dom(this)).querySelectorAll(a)){for(e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",d);return!0}return!1};a.bindElements=function(a,d){if(a){for(var e=0;e<a.length;e++)d=d.bind(this),b.add(a[e],"tap",
d);return!0}return!1};a.unbind=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelector(a);b.remove(a,"tap",d)};a.unbindAll=function(a,d,e){a=(e?e:Polymer.dom(this)).querySelectorAll(a);for(e=0;e<a.length;e++)b.remove(a[e],"tap",d)}})(b.bindActionBehavior||(b.bindActionBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){function b(a){var c=a&&a.nodeName?a:a.currentTarget;try{c.__transitionActive__=!1,c.removeEventListener("transitionend",b),"0px"!==c.style.height?(d(c,!1),c.style.height="",c.style.overflow="",setTimeout(function(){d(c,!0)})):d(c,!0)}catch(e){console.log(e)}finally{if(c&&c.__collapseCallback__){var k=c.__collapseCallback__;delete c.__collapseCallback__;setTimeout(function(){try{k()}catch(a){console.log(a)}},16)}}}function d(a,b){a.style["transition-duration"]=
!0===b?"":"0ms"}function m(a){a=a.getBoundingClientRect();for(var b in a)if(0!==a[b])return!0;return!1}function e(a){return a.getBoundingClientRect().height+"px"}function k(a,c,k,n){!0!==a.__transitionActive__&&(a.__transitionActive__=!0,n&&(a.__collapseCallback__=n),n=window.getComputedStyle(a),c=(n=n["transition-duration"]||n.transitionDuration)&&"0"!==n.replace(/\D/g,"")&&c,d(a,!1),c&&m(a)&&(n=e(a),"auto"===k&&(a.style.height="",k=e(a)),a.style.height=n,a.offsetHeight=a.offsetHeight,d(a,c),a.addEventListener("transitionend",
b)),"0px"===k?(a.style.overflow="hidden",a.removeAttribute("opened")):a.setAttribute("opened",""),a.style.height=k,c&&m(a)||(a.offsetHeight=a.offsetHeight,b(a)))}a._hide=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"0px",e)}catch(d){console.log(d)}};a._show=function(a,b,e){void 0===b&&(b=!0);try{k(a,b,"auto",e)}catch(d){console.log(d)}};a._toggle=function(a,b,d){void 0===b&&(b=!0);var f=e(a).replace(/\D/g,""),g=a.hasAttribute("opened");0<parseFloat(f)&&!1===g?this._hide(a,b,d):!1===g?this._show(a,
b,d):this._hide(a,b,d)}})(b.collapseElementsBehavior||(b.collapseElementsBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){(function(a){a.properties={toggleFunctionName:{type:String},immediate:{type:Boolean},attributeName:{type:String},stateOneValue:{type:String},stateTwoValue:{type:String}};a.created=function(){var a=this;if(this[this.toggleFunctionName]){var b=this[this.toggleFunctionName];this.toggleFunctionName=function(){b.apply(arguments);a.toggleAttribute()}}if(!this.stateOneValue){var d=this.style[this.attributeName];this.stateOneValue=d?d:""}this.immediate&&this.toggleAttribute()};a.toggleAttribute=
function(){this.style[this.attributeName]=this.style[this.attributeName]===this.stateOneValue?this.stateTwoValue:this.stateOneValue};a.activateStateTwo=function(){this.style[this.attributeName]=this.stateTwoValue};a.activateStateOne=function(){this.style[this.attributeName]=this.stateOneValue}})(b.cssAttributeToggleBehavior||(b.cssAttributeToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,value:!0},productImageIdentifier:{type:String,value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"}};a.behaviors=[b.elements.bindActionBehavior];a.bindImage=function(a){this.searchLightDOM&&this._bindImage(Polymer.dom(this),a);this.searchShadowDOM&&this._bindImage(Polymer.dom(this.root))};a._bindImage=function(a,b){a=a.querySelectorAll(this.productImageIdentifier);
for(var d=0;d<a.length;d++){var e=a[d];if(!e.onerror){var k=e.attributes.getNamedItem("data-image-onerror");if(k){var h=k.nodeValue;h&&(e.onerror=function(){e.onerror=null;e.setAttribute("src",h)})}}e.setAttribute("src",b)}}})(d.imageBindingBehavior||(d.imageBindingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){b=b.elements||(b.elements={});b.imageTestBehavior=[b.bindActionBehavior,b.imageBindingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.properties={templateString:{type:String},model:{type:Object,observer:"_modelObserver"},stampImmediate:{type:Boolean,value:!1}};a._renderer=new b.html.TemplateRenderer;a.ready=function(){this.updateTemplate();this.stampImmediate&&this.stamp()};a.stamp=function(){var a=this._renderer.render(this.templateString,this.model);Polymer.dom(this).innerHTML=a};a.updateTemplate=function(a){this.templateString=a?a:Polymer.dom(this).innerHTML};a._modelObserver=function(a,
b){this.stamp()}})(d.lightDOMTemplateBehavior||(d.lightDOMTemplateBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.__hashCodeGen=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)}return a()+a()+a()+a()};a.debugMessage=function(a){this.__hashCode||(this.__hashCode=this.__hashCodeGen(),b.common.Logger.debug(""));b.common.Logger.debug("DEBUG ["+this.tagName+" "+this.__hashCode+"] "+a)};a.created=function(){this.debugMessage("created callback invoked")};a.attached=function(){this.debugMessage("attached callback invoked")};a.detached=
function(){this.debugMessage("detached callback invoked")};a.ready=function(){this.debugMessage("ready callback invoked")}})(d.logLifeCycleCallbacksBehavior||(d.logLifeCycleCallbacksBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(b){var a=function(){function a(b,d){this.elementTemplate=b.node||b;-1<this.elementTemplate.nodeName.indexOf("-")&&CustomElements&&!0!==this.elementTemplate.__upgraded__&&!this.elementTemplate.clone&&(CustomElements.upgradeAll(this.elementTemplate),this.elementTemplate.__upgraded__=!0);this.type=b.type;this.parent=b.parentNode||d;this.previousSibling=b.previousSibling;this.nextSibling=b.nextSibling;try{Polymer.dom(Polymer.dom(this.elementTemplate).parentNode).removeChild(this.elementTemplate)}catch(e){}}
a.prototype.insert=function(a,b,e){var d=void 0!==a&&(void 0!==a.parentElement||Polymer.dom(a).parentNode);if(!a)try{a=this.elementTemplate.clone()}catch(g){throw this.elementTemplate+" does not implement clone()"+g;}d||(this.nextSibling?Polymer.dom(this.parent).insertBefore(a,this.nextSibling):Polymer.dom(this.parent).appendChild(a));Polymer.dom(this.parent).flush();try{b&&setTimeout(function(){b(a,e)})}catch(g){console.log(g)}};a.prototype.insertAll=function(a,b,e,d){for(var g=a.length>b.length?
a.length:b.length,c=0;c<g;c++)this.insert(a[c],e,b[c]);setTimeout(function(){try{d&&d()}catch(a){console.log(a)}})};return a}();b.InsertElementHelper=a})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.debounce("opacity",function(){this.style.opacity=1},100)}})(b.opacityToggleBehavior||(b.opacityToggleBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function d(a){if(a=a.attributes.getNamedItem("data-redirect")){a=a.nodeValue;if(void 0!==a&&0<a.length)return a;if(this.recordData)return this.recordData.record.Deeplink;b.common.Logger.debug("no record data available for data-redirect action")}}function f(a){var b="_blank";if(a=a.attributes.getNamedItem("data-redirect-target"))a=a.nodeValue,void 0!==a&&0<a.length&&(b=a);return b}a.properties={searchLightDOM:{type:Boolean,value:!0},searchShadowDOM:{type:Boolean,
value:!0},productImageIdentifier:{type:"String",value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"},redirectIdentifier:{type:"String",value:"[data-redirect]"},redirectTargetIdentifier:{type:"String",value:"[data-redirect-target]"},recommendationIdentifier:{type:"String",value:"data-recommendation"},bindImmediate:{type:Boolean,value:!1}};a.behaviors=[b.elements.bindActionBehavior];var m=new b.communication.Tracking12;a.ready=function(){this.bindImmediate&&
(this.bindProductActions(),this.bindProductImage())};a.bindProductActions=function(){this._bindProductRedirect()};a.bindProductImage=function(){this.searchLightDOM&&this._bindProductImage(Polymer.dom(this));this.searchShadowDOM&&this._bindProductImage(Polymer.dom(this.root))};a._bindProductImage=function(a){a=a.querySelectorAll(this.productImageIdentifier);for(var d=0;d<a.length;d++){var f=a[d];if(!f.onerror){var c=f.attributes.getNamedItem("data-image-onerror");if(c){var g=c.nodeValue;g&&(f.onerror=
function(){f.onerror=null;f.setAttribute("src",g)})}}(c=f.getAttribute("data-image"))?void 0!==c&&0!==c.length&&f.setAttribute("src",c):(c=b.communication,f.setAttribute("src",this.recordData.record[c.fieldRoles?c.fieldRoles.imageUrl:""]||this.recordData.record.ImageUrl))}};a._bindProductRedirect=function(){this.searchLightDOM&&this.bindRedirect(Polymer.dom(this));this.searchShadowDOM&&this.bindRedirect(Polymer.dom(this.root))};a.bindRedirect=function(a){if(a){a=a.querySelectorAll(this.redirectIdentifier);
for(var b=0;b<a.length;b++){var d=a[b],c=Polymer.dom(d).querySelectorAll("[data-track]");if(0<c.length)for(var f=0;f<c.length;f++)c[f].attributes.removeNamedItem("data-track");this.bindElement(d,this._handleTrackingAndRedirect)}}};a._handleRedirect=function(a){var b=a.currentTarget;a=d(b);b=f(b);a&&this.redirect(a,b)};a._handleTrackingAndRedirect=function(a){a.stopPropagation();a=a.currentTarget;var b=this,h=d(a),c=f(a);h&&(a=this.getTrackingData(b),"_self"!==c?(!0===this.isRecommendation?this._trackRecommendationClick(this):
this._trackProductClick(this),this.redirect(h,c)):(a.always=function(){b.redirect(h,c)},m.click(a)))};a.getRedirectLocation=d;a.getRedirectTarget=f;a.getTrackingData=function(a){var d=b.communication.FFCommunicationEventAggregator.currentSearchResult,f;a:{for(f=0;f<d.resultsPerPageList.length;f++){var c=d.resultsPerPageList[f];if(1==c.selected){f=c.value;break a}}f=void 0}c=a.recordData.position||a.recordData.record.__ORIG_POSITION__;d={query:b.communication.Util.getQueryFromSearchParams(),page:d.paging.currentPage,
id:b.communication.Util.trackingHelper.getTrackingProductId(a.recordData),pos:c,origPos:a.recordData.record.__ORIG_POSITION__||c,pageSize:f,origPageSize:d.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(d,a.recordData);this.appendCampaign(d,a.recordData);this.appendInstoreAds(d,a.recordData);this.appendTitle(d,a.recordData);this.appendUserId(d);return d};a.redirect=function(a,b){window.open(a,b)}})(d.recordBindingBehavior||(d.recordBindingBehavior={}))})(b.elements||
(b.elements={}))})(factfinder||(factfinder={}));(function(b){(function(b){(function(a){a.attached=function(){this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}})(b.removeUnresolvedAttributeBehavior||(b.removeUnresolvedAttributeBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.clickSelector="[data-track='']";a.productClickSelector='[data-track="productClick"]';a.recommendationClickSelector='[data-track="recommendationClick"]';a.checkoutClickSelector='[data-track="checkoutClick"]';a.cartClickSelector='[data-track="cartClick"]';var d=new b.communication.Tracking12,f=b.communication.Util.trackingHelper.getTrackingProductId,m=b.communication.Util.trackingHelper.getPrice,e=b.communication.Util.trackingHelper.getMasterArticleNumber,k=
b.communication.Util.trackingHelper.getUserId,h=b.communication.Util.trackingHelper.getTitle;a.appendCount=function(a,b){a.count=b.count?b.count:1};a.appendInstoreAds=function(a,b){b.record.__FFInstoreAds__&&"true"===b.record.__FFInstoreAds__&&(a.instoreAds="true")};a.appendCampaign=function(a,b){b.record.__FFCampaign__&&(a.campaign=b.record.__FFCampaign__)};a.appendUserId=function(a){var b=k();b&&(a.userId=b)};a.appendTitle=function(a,b){(b=h(b))&&(a.title=b)};a.appendMasterArticleNumber=function(a,
b){(b=e(b))&&(a.masterId=b)};a.getRecordElement=function(a,e){return e?{recordData:e}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record")};a.bindClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);!0===this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),!0===
this.isRecommendation?this.bindAll(a.clickSelector,function(a){b._trackRecommendationClick(b)},e):this.bindAll(a.clickSelector,function(a){b._trackProductClick(b)},e))};a.bindProductClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.productClickSelector,function(a){b._trackProductClick(b)},e))};a.bindRecommendationClick=function(b){b=b||this;
if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.recommendationClickSelector,function(a){b._trackRecommendationClick(b)},e))};a.bindCheckoutClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.checkoutClickSelector,function(a){b._trackCheckoutClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.checkoutClickSelector,
function(a){b._trackCheckoutClick(b)},e))};a.bindCartClick=function(b){b=b||this;if(this.searchShadowDOM){var e=Polymer.dom(b.root);this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e)}this.searchLightDOM&&(e=Polymer.dom(b),this.bindAll(a.cartClickSelector,function(a){b._trackCartClick(b)},e))};a._trackRecommendationClick=function(a,k,h){k=k?{recordData:k}:a.tagName&&"ff-record"===a.tagName.toLowerCase()?this:b.common.getParentElementByName(Polymer.dom(a),"ff-record");"ff-recommendation"!==
a.tagName.toLowerCase()&&(a=Polymer.dom(a),a=b.common.getParentElementByName(a,"ff-recommendation"));if(k){var m={type:"recommendationClick"};m.mainId=a.recordId;m.id=e(k.recordData)||f(k.recordData);this.appendMasterArticleNumber(m,k.recordData);this.appendUserId(m);h&&(m.always=h);d.recommendationClick(m)}};a._trackCheckoutClick=function(a,e,k){if(e=this.getRecordElement(a,e)){var h={id:f(e.recordData),price:m(e.recordData),query:e.recordData.record.__FFCartQuery__||b.communication.Util.getQueryFromSearchParams()};
this.appendMasterArticleNumber(h,e.recordData);this.appendCount(h,a);this.appendCampaign(h,e.recordData);this.appendInstoreAds(h,e.recordData);this.appendUserId(h);k&&(h.always=k);d.checkout(h)}else console.log("no record element found. tracking not possible.")};a._trackCartClick=function(a,e,k){e=this.getRecordElement(a,e);var h={id:f(e.recordData),price:m(e.recordData),query:b.communication.Util.getQueryFromSearchParams()};this.appendMasterArticleNumber(h,e.recordData);this.appendCount(h,a);this.appendCampaign(h,
e.recordData);this.appendInstoreAds(h,e.recordData);this.appendUserId(h);k&&(h.always=k);d.cart(h)};a._trackProductClick=function(a,e,k){a=this.getRecordElement(a,e);e=b.communication.FFCommunicationEventAggregator.currentSearchResult;var h;a:{for(h=0;h<e.resultsPerPageList.length;h++){var m=e.resultsPerPageList[h];if(1==m.selected){h=m.value;break a}}h=void 0}m=a.recordData.position||a.recordData.record.__ORIG_POSITION__;e={query:b.communication.Util.getQueryFromSearchParams(),page:e.paging.currentPage,
id:f(a.recordData),pos:m,origPos:a.recordData.record.__ORIG_POSITION__||m,pageSize:h,origPageSize:e.resultsPerPageList[0].value,simi:a.recordData.searchSimilarity};this.appendMasterArticleNumber(e,a.recordData);this.appendCampaign(e,a.recordData);this.appendInstoreAds(e,a.recordData);this.appendTitle(e,a.recordData);this.appendUserId(e);k&&(e.always=k);d.click(e)}})(d.trackingBehavior||(d.trackingBehavior={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){b=b.elements||(b.elements={});b.trackingBindingBehavior=[b.bindActionBehavior,b.trackingBehavior]})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.is="ff-slider";a.properties={stepSize:{type:"Number",value:1},selectedMinValue:{type:"Number",observer:"_sliderOneMoved"},selectedMaxValue:{type:"Number",observer:"_sliderTwoMoved"},submitOnRelease:{type:Boolean,value:!0},absoluteMaxValue:{type:"Number"},absoluteMinValue:{type:"Number"}};a._slider1;a._slider2;a._pixelValueRatio;a._oldCurrentMinValue;a._oldCurrentMaxValue;a._sliderMovedCalled=!1;a.behaviors=[b.elements.removeUnresolvedAttributeBehavior];a.ready=
function(){this.isInitialzied=!1};a.attached=function(){};a.init=function(a){var d=this;Polymer.dom(d);this._oldCurrentMaxValue=a.absoluteMaxValue;this._oldCurrentMinValue=a.absoluteMinValue;a=Polymer.dom(d.root).querySelector("#slider1");d._slider1=new DYN_WEB.Slider(a,d,"h");d._slider1.on_move=function(a,b){d._onSliderMoved(a,b,1)};d._slider1.on_move_end=function(a,b){d.submitOnRelease&&d.submit()};a=Polymer.dom(d.root).querySelector("#slider2");d._slider2=new DYN_WEB.Slider(a,d,"h",!0);d._slider2.on_move=
function(a,b){d._onSliderMoved(a,b,2)};d._slider2.on_move_end=function(a,e){d.submitOnRelease?d.submit():b.common.Logger.debug("submit-on-release[false] - no request is send")};d._slider1.Dragbar.slider2=d._slider2.Dragbar.id;d._slider2.Dragbar.slider1=d._slider1.Dragbar.id;d._computePixelValueRatio();d.style.opacity=1;d.offsetHeight;d.async(function(){var a=b.common.getParentElementByName(Polymer.dom(this),"FF-Slider-CONTROL");a&&a.init()});this.isInitialized=!0};a.update=function(a){this.absoluteMaxValue=
a.absoluteMaxValue;this.absoluteMinValue=a.absoluteMinValue;this.isInitialized||this.init(a);this._computePixelValueRatio();this.selectedMinValue=a.selectedMinValue;this.selectedMaxValue=a.selectedMaxValue};a.submit=function(){var a=b.communication.FFCommunicationEventAggregator.currentSearchResult;if(a){var a=a.searchParams,a=a.split("?")[1],d=b.common.getParentElementByName(Polymer.dom(this),"ff-asn-group-slider");d?(d=d.group.elements[0].associatedFieldName,a=b.common.parameterStringToDict(a),
a["filter"+d]=this.selectedMinValue+" - "+this.selectedMaxValue,a.type="search",b.communication.FFCommunicationEventAggregator.addFFEvent(a)):b.common.Logger.debug("ff-slider: no asn-group available, search is not exectued")}else b.common.Logger.debug("ff-slider: no search result available, cant submit slider filter data")};a._computePixelValueRatio=function(){try{this._pixelValueRatio=this._slider1.maxX/(this.absoluteMaxValue-this.absoluteMinValue+1)}catch(a){}};a._onSliderMoved=function(b,d,m){a._sliderMovedCalled=
!0;0===b&&(b+=1E-10);b===this._slider1.maxX&&(b-=1E-11);b=Math.floor(Math.ceil(b/this._pixelValueRatio)+this.absoluteMinValue-1);1===m?(this.selectedMinValue=b,this.fire("slider-moved",{selectedMinValue:this.selectedMinValue,selectedMaxValue:this.selectedMaxValue,slider:1}),this.selectedMinValue!==this._oldCurrentMinValue&&(this._oldCurrentMinValue=this.selectedMinValue,this.fire("value-changed",{selectedMinValue:this.selectedMinValue,selectedMaxValue:this.selectedMaxValue,slider:1}))):(this.selectedMaxValue=
b,this.fire("slider-moved",{selectedMinValue:this.selectedMinValue,selectedMaxValue:this.selectedMaxValue,slider:2}),this.selectedMaxValue!==this._oldCurrentMaxValue&&(this._oldCurrentMaxValue=this.selectedMaxValue,this.fire("value-changed",{selectedMinValue:this.selectedMinValue,selectedMaxValue:this.selectedMaxValue,slider:2})));a._sliderMovedCalled=!1};a._sliderOneMoved=function(d,f){0<=d&&d<=this.absoluteMaxValue?a._sliderMovedCalled||(d=Polymer.dom(this.root).querySelector("#slider1"),this.selectedMinValue>
this.selectedMaxValue?b.common.Logger.error("selected min value ["+this.selectedMinValue+"] is higher than max value ["+this.selectedMaxValue+"]"):(f=Math.floor((Math.abs(this.selectedMinValue-this.absoluteMinValue)+1)*this._pixelValueRatio),1===f/Math.floor(this._pixelValueRatio)?f=0:this.selectedMinValue!==this.absoluteMinValue&&(f-=this._pixelValueRatio/2),d.style.left=f+"px",this.fire("value-changed",{selectedMinValue:this.selectedMinValue,selectedMaxValue:this.selectedMaxValue,slider:1}))):d>
this.absoluteMaxValue?0<=d-1?this.selectedMinValue=d-1:this.selectedMinValue=0:this.selectedMinValue=0};a._sliderTwoMoved=function(d,f){d<=this.absoluteMaxValue?a._sliderMovedCalled||(d=Polymer.dom(this.root).querySelector("#slider2"),this.selectedMinValue>this.selectedMaxValue?b.common.Logger.error("selected max value ["+this.selectedMaxValue+"] is lower than min value ["+this.selectedMinValue+"]"):(f=Math.floor((Math.abs(this.absoluteMinValue-this.selectedMaxValue)+1)*this._pixelValueRatio),f=this.selectedMaxValue!==
this.absoluteMaxValue?f-this._pixelValueRatio/2:f,d.style.left=f+"px",this.fire("value-changed",{selectedMinValue:this.selectedMinValue,selectedMaxValue:this.selectedMaxValue,slider:2}))):this.selectedMaxValue=this.absoluteMaxValue||f}})(d=d.sliderPrototype||(d.sliderPrototype={}));Polymer(d)})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.is="ff-slider-control";a.behaviors=[b.elements.removeUnresolvedAttributeBehavior];a.properties={submitOnInput:{type:Boolean,value:!1}};a.inputField1;a.inputField2;a.slider;a.init=function(){var a=this;"true"===this.getAttribute("submit-on-input")===!1&&(this.submitOnInput=!1);this.inputField1=Polymer.dom(this).querySelector("[data-control='1']");this.inputField1||(this.inputField1=Polymer.dom(this.root).querySelector("[data-control='1']"));this.inputField2=
Polymer.dom(this).querySelector("[data-control='2']");this.inputField2||(this.inputField2=Polymer.dom(this.root).querySelector("[data-control='2']"));this.slider=Polymer.dom(this).querySelector("ff-slider");this.slider||(this.slider=Polymer.dom(this.root).querySelector("ff-slider"));this.slider.addEventListener("value-changed",this._valueChanged.bind(this));this.inputField1.value=Math.round(this.slider.selectedMinValue);this.inputField2.value=Math.round(this.slider.selectedMaxValue);this.submitOnInput?
this._initInputSubmit():this._disableFocusInput();this.async(function(){a.style.opacity=1})};a._disableFocusInput=function(){var a=this.inputField2;a.onfocus=b.common.concatFunctions(a.onfocus,function(){a.blur()});var d=this.inputField1;d.onfocus=b.common.concatFunctions(d.onfocus,function(){d.blur()})};a._initInputSubmit=function(){var a=this;this.inputField1.onkeypress=function(b){b||(b=window.event);if("13"==(b.keyCode||b.which)){b=a.inputField1.value%a.slider.stepSize;var d=b/a.slider.stepSize,
d=.5<=d?a.inputField1.value-b+a.slider.stepSize:a.inputField1.value-b;a.slider.selectedMinValue=d;a.inputField1.blur();!0===a.submitOnInput&&a.slider.submit();return!1}};this.inputField2.onkeypress=function(b){b||(b=window.event);if("13"==(b.keyCode||b.which)){b=a.inputField2.value%a.slider.stepSize;var d=b/a.slider.stepSize,d=.5<=d?a.inputField2.value-b+a.slider.stepSize:a.inputField2.value-b;a.slider.selectedMaxValue=d;a.inputField2.blur();!0===a.submitOnInput&&a.slider.submit();return!1}}};a._valueChanged=
function(a){a=a.detail;1===a.slider?this.inputField1.value=Math.round(a.selectedMinValue):this.inputField2.value=Math.round(a.selectedMaxValue)}})(d=d.sliderControlPrototype||(d.sliderControlPrototype={}));Polymer(d)})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.is="ff-asn-group";a.properties={collapsible:{type:"String",value:!0},opened:{type:Boolean,reflectToAttribute:!0},forGroup:{type:String,reflectToAttribute:!0},filterStyle:{type:String,reflectToAttribute:!0},group:{type:Object,observer:"_asnGroupChanged"}};a.behaviors=[b.elements.bindActionBehavior,b.elements.collapseElementsBehavior,b.elements.removeUnresolvedAttributeBehavior];a._ffCommunication=b.communication.FFCommunicationEventAggregator;a._asnGroupElementTemplate;
a._renderer=new b.html.TemplateRenderer;a.ready=function(){this.style.display="none";this.style.offsetHeight};a.attached=function(){this._init()};a._init=function(){if(!0!==this.__isInitialized__){var a=Polymer.dom(this).querySelector("ff-asn-group-element");a&&(this._asnGroupElementTemplate=a)&&(a=Polymer.dom(this._asnGroupElementTemplate).parentNode,Polymer.dom(a).removeChild(this._asnGroupElementTemplate));this._wrapper=Polymer.dom(this.root).querySelector("#wrapper");this._initHiddenLinksContainer();
this._initDetailedLinksContainer();this._initGroupCaption();this._initRemoveFilter();this._initShowMore();this._initShowLess();this.opened?this.show():this.hide();this.__isInitialized__=!0}};a._asnGroupChanged=function(a){a?(this.forGroup&&"all"!==this.forGroup||(this.forGroup=a.name),this.filterStyle||(this.filterStyle=a.filterStyle),Polymer.dom(this),this._processGroupCaption(),this._processDetailedLinksContainer(a),this._processHiddenLinksContainer(a),this._processShowLess(),this._processShowMore(),
this._processRemoveFilter(a),Polymer.dom(this).flush(),this.style.display="",this.offsetHeight,a.selectedElements&&0<a.selectedElements.length&&!1===this.opened&&this.show(),this.style.opacity=1):(this.style.display="none",this.offsetHeight,this.style.opacity=0)};a._addAndProcessAsnElements=function(a,b,d,e){if(a=b.querySelector(a)){b=Polymer.dom(a.parentElement);var k=b.querySelectorAll("ff-asn-group-element"),h=0;for(h;h<k.length&&d[h];h++){var c=k[h];c.element=d[h];c.group=e}for(h;h<d.length;h++)this._asnGroupElementTemplate?
(c=this._asnGroupElementTemplate.clone(),c.element=d[h],c.group=e,b.insertBefore(c,a)):"SLIDER"!==this.group.filterStyle&&console.log("no asn-group-element template to clone");for(h;h<k.length;h++)c=k[h],c.element=void 0;Polymer.dom(this).flush()}else console.warn('no [data-content] available. Filter elements are not processed. Please add a [data-content="detailedLinks"] and [data-content="hiddenLinks"] element.')};a._processHiddenLinksContainer=function(a){var b=a.selectedElements.concat(a.elements),
b=b.splice(a.detailedLinks,b.length-1);this._addAndProcessAsnElements('[data-content="hiddenLinks"]',Polymer.dom(this),b,a)};a._processDetailedLinksContainer=function(a){var b=a.selectedElements.concat(a.elements),b=b.splice(0,a.detailedLinks);this._addAndProcessAsnElements('[data-content="detailedLinks"]',Polymer.dom(this),b,a)};a._processGroupCaption=function(){Polymer.dom(this._groupCaptionContainer).innerHTML=this._renderer.render(this._groupCaptionTemplate,{group:this.group})};a._processShowMore=
function(){var a=this._showMoreContainer;a&&(this.group.detailedLinks<this.group.selectedElements.length+this.group.elements.length?(a.innerHTML=this._renderer.render(a.innerHTML,{group:this.group}),a.style.display=""):a.style.display="none")};a._processShowLess=function(){var a=this._showLessContainer;a&&(this.group.detailedLinks<this.group.selectedElements.length+this.group.elements.length?(a.innerHTML=this._renderer.render(a.innerHTML,this.group),a.style.display=""):a.style.display="none")};a._initGroupCaption=
function(){this._groupCaptionContainer=Polymer.dom(this).querySelector('[data-container="groupCaption"]');if(!this._groupCaptionContainer){var a=document.createElement("div");a.innerHTML='<div data-container="groupCaption" class="cursor"><div class="groupCaption"> {{group.name}}</div></div>';this._groupCaptionContainer=a.firstElementChild;Polymer.dom(this).appendChild(this._groupCaptionContainer);Polymer.dom(this).flush()}var b=this;"true"===String(b.collapsible)&&this.bind('[data-container="groupCaption"]',
function(){b.toggle()});b._groupCaptionTemplate=Polymer.dom(this._groupCaptionContainer).innerHTML};a._initRemoveFilter=function(){if(this._removeFilterContainer=Polymer.dom(this).querySelector('[data-container="removeFilter"]')){var a=this;this.bind('[data-container="removeFilter"]',function(){a._ffCommunication.addFFEvent({type:"filter",groupName:this.group.name,removeAll:!0})})}};a._processRemoveFilter=function(a){this._removeFilterContainer&&(this._removeFilterContainer.style.display=0<a.selectedElements.length?
"inline":"none")};a._initShowMore=function(){var a=this;a._showMoreContainer=Polymer.dom(this).querySelector('[data-container="showMore"]');this.bind('[data-container="showMore"]',function(b){a._toggle(a._showMoreContainer);this.async(function(){a._toggle(a._hiddenLinksContainer)})})};a._initShowLess=function(){var a=this;a._showLessContianer=Polymer.dom(this).querySelector('[data-container="showLess"]');this.bind('[data-container="showLess"]',function(b){a._toggle(a._hiddenLinksContainer);this.async(function(){a._toggle(a._showMoreContainer)})})};
a._initHiddenLinksContainer=function(){this._hiddenLinksContainer=Polymer.dom(this).querySelector('[data-container="hiddenLinks"]');if(!this._hiddenLinksContainer){var a=document.createElement("div");a.innerHTML='<div opened data-container="hiddenLinks"><div data-content="hiddenLinks"></div><div class="marginBottom"></div></div>';this._hiddenLinksContainer=a.firstElementChild;Polymer.dom(this).appendChild(this._hiddenLinksContainer);Polymer.dom(this).flush()}this._hiddenLinksContainer&&(this._hiddenLinksContainer.hasAttribute("opened")||
this._hide(this._hiddenLinksContainer))};a._initDetailedLinksContainer=function(){this._detailedLinksContainer=Polymer.dom(this).querySelector('[data-container="detailedLinks"]');if(!this._detailedLinksContainer){var a=document.createElement("div");a.innerHTML='<div opened data-container="detailedLinks"><div data-content="detailedLinks"></div><div class="marginBottom"></div></div>';this._detailedLinksContainer=a.firstElementChild;Polymer.dom(this).appendChild(this._detailedLinksContainer);Polymer.dom(this).flush()}};
a.toggle=function(a){if("false"!==this.collapsible)if(this._wrapper&&this._wrapper.hasAttribute("opened")){var b=this;this._toggle(this._wrapper,a,function(){b.opened=!1})}else this._toggle(this._wrapper,a),this.opened=!0};a.show=function(a){"false"!==this.collapsible&&(this._show(this._wrapper,a),this.opened=!0)};a.hide=function(a){if("false"!==this.collapsible){var b=this;this._hide(this._wrapper,a,function(){b.opened=!1})}};a.toggleDetailedLinksContainer=function(a){this._toggle(this._detailedLinksContainer,
a)};a.showDetailedLinksContainer=function(a){this._show(this._detailedLinksContainer,a)};a.hideDetailedLinksContainer=function(a){this._hide(this._detailedLinksContainer,a)};a.toggleHiddenLinksContainer=function(a){this._toggle(this._hiddenLinksContainer,a)};a.showHiddenLinksContainer=function(a){this._show(this._hiddenLinksContainer,a)};a.hideHiddenLinksContainer=function(a){this._hide(this._hiddenLinksContainer,a)};a.clone=function(){var a=document.createElement("ff-asn-group");b.common.copyHTMLAttributes(this,
a);var d=Polymer.dom(a);this._asnGroupElementTemplate&&(d.node._asnGroupElementTemplate=this._asnGroupElementTemplate.clone());Polymer.dom(a).innerHTML=Polymer.dom(this).innerHTML;Polymer.dom(a).flush();a.ready();return a}})(d=d.asnGroupPrototype||(d.asnGroupPrototype={}));Polymer(d)})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.is="ff-asn-group-slider";a.properties={collapsible:{type:"String",value:!0},opened:{type:Boolean,reflectToAttribute:!0},forGroup:{type:String,reflectToAttribute:!0},filterStyle:{type:"String",readOnly:!0,value:"SLIDER",reflectToAttribute:!0},group:{type:Object,observer:"_asnGroupChanged"}};a.behaviors=[b.elements.bindActionBehavior,b.elements.collapseElementsBehavior,b.elements.removeUnresolvedAttributeBehavior];a._ffCommunication=b.communication.FFCommunicationEventAggregator;
a._renderer=new b.html.TemplateRenderer;a.attached=function(){this._init()};a._init=function(){!0!==this.__isInitialized__&&(this._wrapper=Polymer.dom(this.root).querySelector("#wrapper"),this._initGroupCaption(),this._initRemoveFilter(),this.opened?this.show():this.hide(!1),this.__isInitialized__=!0)};a._asnGroupChanged=function(a){if(a){var d;try{this._processGroupCaption();this._processRemoveFilter(a);d=a.elements[0];var m=Polymer.dom(this).querySelector("ff-slider"),m=m?m:Polymer.dom(this.root).querySelector("ff-slider");
this.async(function(){m&&m.update(d)});this.style.display="";this.offsetHeight;a.selectedElements&&0<a.selectedElements.length&&!1===this.opened&&this.show();this.fire("records-updated");this.style.opacity=1;this.offsetHeight}catch(e){b.common.Logger.error("unexpected error in slider group: "+e)}}else this.style.display="none",this.offsetHeight,this.style.opacity=0};a._processGroupCaption=function(){Polymer.dom(this._groupCaptionContainer).innerHTML=this._renderer.render(this._groupCaptionTemplate,
{group:this.group})};a._processShowMore=function(){var a=this._showMoreContainer;a&&(this.group.detailedLinks<this.group.selectedElements.length+this.group.elements.length?(a.innerHTML=this._renderer.render(a.innerHTML,{group:this.group}),a.style.display=""):a.style.display="none")};a._processShowLess=function(){var a=this._showLessContainer;a&&(this.group.detailedLinks<this.group.selectedElements.length+this.group.elements.length?(a.innerHTML=this._renderer.render(a.innerHTML,this.group),a.style.display=
""):a.style.display="none")};a._initGroupCaption=function(){this._groupCaptionContainer=Polymer.dom(this).querySelector('[data-container="groupCaption"]');if(!this._groupCaptionContainer){var a=document.createElement("div");a.innerHTML='<div data-container="groupCaption" class="cursor"><div class="groupCaption"> {{group.name}}</div></div>';this._groupCaptionContainer=a.firstElementChild;Polymer.dom(this).appendChild(this._groupCaptionContainer);Polymer.dom(this).flush()}var b=this;"true"===String(b.collapsible)&&
this.bind('[data-container="groupCaption"]',function(){b.toggle()});b._groupCaptionTemplate=Polymer.dom(this._groupCaptionContainer).innerHTML};a._initRemoveFilter=function(){if(this._removeFilterContainer=Polymer.dom(this).querySelector('[data-container="removeFilter"]')){var a=this;this.bind('[data-container="removeFilter"]',function(){a._ffCommunication.addFFEvent({type:"filter",groupName:this.group.name,removeAll:!0})})}};a._processRemoveFilter=function(a){this._removeFilterContainer&&(this._removeFilterContainer.style.display=
a.elements[0].selected?"inline":"none")};a.toggle=function(a){if("false"!==this.collapsible)if(this._wrapper&&this._wrapper.hasAttribute("opened")){var b=this;this._toggle(this._wrapper,a,function(){b.opened=!1})}else this._toggle(this._wrapper,a),this.opened=!0};a.show=function(a){"false"!==this.collapsible&&(this._show(this._wrapper,a),this.opened=!0)};a.hide=function(a){if("false"!==this.collapsible){var b=this;this._hide(this._wrapper,a,function(){b.opened=!1})}};a.clone=function(){var a=document.createElement("ff-asn-group-slider");
b.common.copyHTMLAttributes(this,a);Polymer.dom(a).innerHTML=Polymer.dom(this).innerHTML;Polymer.dom(a).flush();a.ready();return a}})(d=d.asnGroupSliderPrototype||(d.asnGroupSliderPrototype={}));Polymer(d)})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.is="ff-asn-group-element";a.properties={selected:{type:String,reflectToAttribute:!0,notify:!0},element:{type:Object,observer:"_asnElementDataChanged"},group:{type:Object}};a.behaviors=[b.elements.cssAttributeToggleBehavior,b.elements.removeUnresolvedAttributeBehavior];a.listeners={tap:"_taped"};a._selectedElement;a._unselectedElement;a._selectedTemplate;a._unselectedTemplate;a._selectedTemplateREF;a._unselectedTemplateREF;a._renderer=new b.html.AsnRenderer;
a._ffCommunication=b.communication.FFCommunicationEventAggregator;a.created=function(){this.attributeName="display";this.stateTwoValue="none"};a.ready=function(){this.activateStateTwo();this.__init();""===this.getAttribute("selected")&&(this.selected=!0)};a._asnElementDataChanged=function(a){if(a){try{18<a.name.length&&(a.name=a.name.slice(0,18)+"...")}catch(b){console.error(b)}this.__processTemplates();this.selected=a.selected;this.classList.remove("clusterLevel0");this.classList.remove("clusterLevel1");
this.classList.remove("clusterLevel2");this.classList.remove("clusterLevel3");this.classList.remove("clusterLevel4");a.clusterLevel&&this.classList.add("clusterLevel"+a.clusterLevel);this.activateStateOne()}else this.activateStateTwo()};a._taped=function(a){this.selected=!this.selected;this._ffCommunication.addFFEvent({type:"filter",groupName:this.group.name,filterName:this.element.name})};a.__initTemplates=function(){try{this._selectedTemplate&&this._unselectedTemplate||(this._selectedTemplateREF=
Polymer.dom(this).querySelector("[data-selected]"),this._unselectedTemplateREF=Polymer.dom(this).querySelector("[data-unselected]"),this._selectedTemplate=this._selectedTemplateREF.cloneNode(!0),this._unselectedTemplate=this._unselectedTemplateREF.cloneNode(!0))}catch(a){}};a.__initElements=function(){this._selectedElement||(this._selectedElement=Polymer.dom(this.root).querySelector("#selected"),this._unselectedElement=Polymer.dom(this.root).querySelector("#unselected"))};a.__init=function(){this.addEventListener("selected-changed",
this._selectedStateChanged);this.__initElements();this.__initTemplates()};a.__processTemplates=function(){var a=this._renderer.processAsnElement(this._selectedTemplate,this.element,this.group,null,{returnAsString:!1}),b=this._renderer.processAsnElement(this._unselectedTemplate,this.element,this.group,null,{returnAsString:!1}),d=Polymer.dom(this);d.removeChild(this._selectedTemplateREF);d.removeChild(this._unselectedTemplateREF);this._selectedTemplateREF=a;this._unselectedTemplateREF=b;d.appendChild(a);
d.appendChild(b)};a._selectedStateChanged=function(a){a=a.detail.value;!0===a||""===a?(this._unselectedElement.style.display="none",this._selectedElement.style.display="inline"):!1===a&&(this._selectedElement.style.display="none",this._unselectedElement.style.display="inline")};a.clone=function(){var a=document.createElement("ff-asn-group-element");b.common.copyHTMLAttributes(this,a);Polymer.dom(a).innerHTML=Polymer.dom(this).innerHTML;a.ready();return a}})(d=d.asnGroupElementPrototype||(d.asnGroupElementPrototype=
{}));Polymer(d)})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){var a;(function(a){a.is="ff-asn";a.properties={align:{type:String,value:"vertical",reflectToAttribute:!0},asnGroups:{value:[],notify:!0}};a.behaviors=[d.cssAttributeToggleBehavior,b.elements.removeUnresolvedAttributeBehavior];a._asnGroupHTMLTags={};a.created=function(){this.attributeName="display";this.stateTwoValue="none";this.activateStateTwo()};a.ready=function(){this._asnGroupHTMLTags={};try{for(var a=Polymer.dom(this),d=a.querySelectorAll("ff-asn-group").concat(a.querySelectorAll("ff-asn-group-slider")),
e=0;e<d.length;e++){var g=d[e];try{var h=Polymer.dom(Polymer.dom(g).parentNode),c=g.getAttribute("for-group"),l=g.getAttribute("filter-style");c&&"all"!==c.toLowerCase()?this._asnGroupHTMLTags[c]=g:l?this._asnGroupHTMLTags[l]=g:"FF-ASN-GROUP-SLIDER"===g.tagName?this._asnGroupHTMLTags.SLIDER=g:this._asnGroupHTMLTags.all||(this._asnGroupHTMLTags.all=g);g._init&&g._init();h.removeChild(g);h.flush()}catch(v){b.common.Logger.error("Unexpected Error: "+v)}}a.flush();if(!this._asnGroupHTMLTags.all){var n=
"<ff-asn-group><ff-asn-group-element><div data-selected><span>{{element.name}}</span></div><div data-unselected><span>{{element.name}}</span></div></ff-asn-group-element>",p=document.createElement("div");p.innerHTML=n;var q=p.firstElementChild;p.removeChild(q);this._asnGroupHTMLTags.all=q}if(!this._asnGroupHTMLTags.SLIDER){var n='<div data-container="groupCaption" class="groupCaption">{{group.name}}<span class="filterArrowDown">&nbsp</span></div><ff-slider-control submit-on-input="true"><input data-control=\'1\' style="position: absolute; width: 60px;left: 15px;"><input data-control=\'2\' style="position: absolute; width: 60px;right: 15px;"><ff-slider step-size="1" current-min-value="0" style="width: 150px;"></ff-slider></ff-slider-control>',
t=document.createElement("ff-asn-group-slider");Polymer.dom(t).innerHTML=n;Polymer.dom(t).flush();t.setAttribute("filter-style","SLIDER");t.attached();this._asnGroupHTMLTags.SLIDER=t}}catch(v){console.log(v)}};a.attached=function(){this.subscribtionKey=b.communication.ResultDispatcher.subscribe("asn",this._groupsChanged,this)};a.detached=function(){b.communication.ResultDispatcher.unsubscribe("asn",this.subscribtionKey)};a._groupsChanged=function(a,b){if(a&&0<a.length){this.activateStateTwo();b={};
for(var e=Polymer.dom(this),d=0;d<a.length;d++){var g=a[d];b[g.name]=!0;var c=this._asnGroupHTMLTags[g.name];c||(c=g.filterStyle?g.filterStyle.toUpperCase():"",(c=this._asnGroupHTMLTags[c]?this._asnGroupHTMLTags[c].clone():n)&&(this._asnGroupHTMLTags[g.name]=c));c||(c=this._asnGroupHTMLTags.all.clone(),e.appendChild(c),this._asnGroupHTMLTags[g.name]=c,e.flush());Polymer.dom(c).parentNode||(e.appendChild(c),e.flush());c.group=g}a=e.querySelectorAll("ff-asn-group");for(d=0;d<a.length;d++){e=a[d];g=
!1;if(e.group){var c=e.group.name,l;for(l in b)if(l===c){g=!0;break}}if(!1===g){var n;e.group=n}}Polymer.dom(this).flush();this.activateStateOne();Polymer.RenderStatus.afterNextRender(this,function(){this.fire("dom-updated")})}else this.activateStateTwo()}})(a=d.asnPrototype||(d.asnPrototype={}));Polymer(a)})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.is="ff-breadcrumb-trail-item";a.behaviors=[b.elements.lightDOMTemplateBehavior,b.elements.removeUnresolvedAttributeBehavior];a.properties={type:{type:String},breadCrumbTrailItem:{type:Object,observer:"_breadCrumbTrailItemChanged"}};a._renderer=new b.html.TemplateRenderer;a.listeners={tap:"_itemTaped"};a._itemTaped=function(){b.communication.FFCommunicationEventAggregator.addFFEvent({type:"bct",value:this.breadCrumbTrailItem.value})};a._breadCrumbTrailItemChanged=
function(a,b){this.model=a};a.clone=function(){var a=document.createElement("ff-breadcrumb-trail-item");b.common.copyHTMLAttributes(this,a);a.templateString=this.templateString;return a}})(d=d.breadCrumbTrailItemPrototype||(d.breadCrumbTrailItemPrototype={}));Polymer(d)})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.is="ff-breadcrumb-trail";a.properties={breadCrumbTrailItems:{type:Object,observer:"_breadCrumbTrailItemsChanged"}};a.behaviors=[b.elements.cssAttributeToggleBehavior,b.elements.removeUnresolvedAttributeBehavior];a._separatorTemplate;a._searchItemTemplate;a._filterItemTemplate;a.ready=function(){this.attributeName="display";this.stateTwoValue="none";this.activateStateTwo();this._separatorTemplate=Polymer.dom(this).querySelector("[data-separator]");this._searchItemTemplate=
Polymer.dom(this).querySelector("ff-breadcrumb-trail-item[type='search']");this._filterItemTemplate=Polymer.dom(this).querySelector("ff-breadcrumb-trail-item[type='filter']");this._advisorItemTemplate=Polymer.dom(this).querySelector("ff-breadcrumb-trail-item[type='advisor']");this._separatorTemplate||(this._separatorTemplate=document.createTextNode(" > "));if(!this._searchItemTemplate){var a=document.createElement("ff-breadcrumb-trail-item");Polymer.dom(a).appendChild(document.createTextNode("{{text}}"));
a.updateTemplate();this._searchItemTemplate=a}this._filterItemTemplate||(a=document.createElement("ff-breadcrumb-trail-item"),Polymer.dom(a).appendChild(document.createTextNode("{{text}}")),a.updateTemplate(),this._filterItemTemplate=a);this._advisorItemTemplate||(a=document.createElement("ff-breadcrumb-trail-item"),Polymer.dom(a).appendChild(document.createTextNode("{{text}}")),a.updateTemplate(),this._advisorItemTemplate=a)};a.attached=function(){this.subscribtionKey=b.communication.ResultDispatcher.subscribe("bct",
this._breadCrumbTrailItemsChanged,this)};a.detached=function(){b.communication.ResultDispatcher.unsubscribe("bct",this.subscribtionKey)};a._breadCrumbTrailItemsChanged=function(a,d){d=Polymer.dom(this);for(var m=d.childNodes.length,e=0;e<m;e++)d.removeChild(d.childNodes[0]);if(a&&0<a.length){for(e=0;e<a.length;e++)if(m=a[e],m.type){switch(m.type){case "search":var k=this._searchItemTemplate.clone();k.breadCrumbTrailItem=m;d.appendChild(k);break;case "filter":k=this._filterItemTemplate.clone();k.breadCrumbTrailItem=
m;d.appendChild(k);break;case "advisor":k=this._advisorItemTemplate.clone();k.breadCrumbTrailItem=m;d.appendChild(k);break;default:b.common.Logger.log("ff-breadcrumb-trail: No handle specified for item with type["+m.type+"] default to search template"),k=this._searchItemTemplate.clone(),k.breadCrumbTrailItem=m,d.appendChild(k)}e!==a.length-1&&d.appendChild(this._separatorTemplate.cloneNode(!0))}else console.warn("No type for current breadcrumb item",m);d.flush();this.activateStateOne();var h=this;
Polymer.RenderStatus.afterNextRender(this,function(){h.fire("dom-updated")})}else this.activateStateTwo()}})(d=d.breadCrumbTrailPrototype||(d.breadCrumbTrailPrototype={}));Polymer(d)})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.is="ff-campaign-advisor-answer";a.properties={answer:{type:Object,observer:"_answerChanged"}};a.behaviors=[b.elements.lightDOMTemplateBehavior,b.elements.cssAttributeToggleBehavior,b.elements.removeUnresolvedAttributeBehavior];a.listeners={tap:"_handleClick"};a.created=function(){this.attributeName="display";this.stateTwoValue="none";this.activateStateTwo()};a._answerChanged=function(a,b){a?(this.model=a,this.activateStateOne()):this.activateStateTwo()};a._handleClick=
function(a){b.communication.FFCommunicationEventAggregator.addFFEvent({type:"advisor",answer:this.answer})};a.clone=function(){var a=document.createElement("ff-campaign-advisor-answer");a.templateString=this.templateString;return a}})(d=d.FFCampaignAdvisorAnswerPrototypeClass||(d.FFCampaignAdvisorAnswerPrototypeClass={}));Polymer(d)})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.is="ff-campaign-advisor-question";a.properties={question:{type:Object,observer:"_questionChanged"}};a.behaviors=[b.elements.cssAttributeToggleBehavior,b.elements.cssAttributeToggleBehavior,b.elements.removeUnresolvedAttributeBehavior];a._renderer=new b.html.TemplateRenderer;a.created=function(){this.attributeName="display";this.stateTwoValue="none";this.activateStateTwo()};a.attached=function(){this.cloneInnerHTML=Polymer.dom(this).innerHTML;var a=Polymer.dom(this).querySelector("[data-question]");
a&&(this.captionTemplate=a.innerHTML);this.templateAnswer=Polymer.dom(this).querySelector("ff-campaign-advisor-answer");this.templateAnswer||(this.templateAnswer=document.createElement("ff-campaign-advisor-answer"));this.insertAnswerHelper=new b.elements.InsertElementHelper(Polymer.dom(this.templateAnswer),this)};a._questionChanged=function(a,b){if(a){var d=this;this.async(function(){d._renderCaption(a);d.insertAnswerHelper.insertAll(Polymer.dom(d).querySelectorAll("ff-campaign-advisor-answer"),a.answers,
function(a,b){a.answer=b},function(){Polymer.dom(d).flush();d.activateStateOne()})})}else this.activateStateTwo()};a._renderCaption=function(b){var d=Polymer.dom(this).querySelector("[data-question]");Polymer.dom(d).innerHTML=a._renderer.render(this.captionTemplate,b)};a.clone=function(){var a=document.createElement("ff-campaign-advisor-question"),b=Polymer.dom(a);b.innerHTML=this.cloneInnerHTML;b.flush();return a}})(d=d.FFCampaignAdvisorQuestionPrototypeClass||(d.FFCampaignAdvisorQuestionPrototypeClass=
{}));Polymer(d)})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.is="ff-campaign-advisor";a.campaignKey="campaign:advisor";a.properties={name:{type:String,value:"",observer:"_nameChanged",reflectToAttribute:!0},not:{type:String}};a.behaviors=[b.elements.cssAttributeToggleBehavior,b.elements.removeUnresolvedAttributeBehavior];a.ready=function(){this.attributeName="display";this.stateTwoValue="none";this.activateStateTwo()};a.attached=function(){this.subscribtionKey=b.communication.ResultDispatcher.subscribe(this.getCampaignKey(this.name),
this._handleAdvisor,this);this.advisorQuestionTemplate=Polymer.dom(this).querySelector("ff-campaign-advisor-question");this.insertQuestionHelper=new b.elements.InsertElementHelper(Polymer.dom(this.advisorQuestionTemplate),this)};a.detached=function(){b.communication.ResultDispatcher.unsubscribe(this.getCampaignKey(this.name),this.subscribtionKey)};a._nameChanged=function(a,d){void 0!==a&&null!==a&&void 0!==d&&null!==d&&(b.communication.ResultDispatcher.unsubscribe(this.getCampaignKey(d),this.subscribtionKey),
this.subscribtionKey=b.communication.ResultDispatcher.subscribe(this.getCampaignKey(a),this._handleAdvisor,this))};a.getCampaignKey=function(a){if(0!==a.length&&a.trim())return[this.campaignKey+":"+a];b.common.Logger.debug("No label property defined, will handle all campaigns where only the last feedbacktext will be displayed.");return[this.campaignKey]};a._handleAdvisor=function(a){if(a){for(var b=this.not?this.not.split(","):[],d=!1,e=0;e<b.length;e++)a.name===b[e].trim()&&(d=!0);if(0<a.activeQuestions.length&&
!1===d){var k=this;this.async(function(){var b=Polymer.dom(k).querySelectorAll("ff-campaign-advisor-question");k.insertQuestionHelper.insertAll(b,a.activeQuestions,function(a,b){a.question=b},function(){Polymer.dom(k).flush();k.activateStateOne();Polymer.RenderStatus.afterNextRender(k,function(){k.fire("dom-updated")})})})}else this.activateStateTwo()}else this.activateStateTwo()}})(d=d.FFCampaignAdvisorPrototypeClass||(d.FFCampaignAdvisorPrototypeClass={}));Polymer(d)})(b.elements||(b.elements={}))})(factfinder||
(factfinder={}));
(function(b){(function(d){(function(a){a.CAMPAIGN_KEY="campaign:feedbacktext";a.is="ff-campaign-feedbacktext";a.properties={label:{type:String,value:"",observer:"_labelChanged"}};a.behaviors=[b.elements.lightDOMTemplateBehavior,b.elements.cssAttributeToggleBehavior,b.elements.removeUnresolvedAttributeBehavior];a.created=function(){this.subscribed=!1;this.attributeName="display";this.stateTwoValue="none"};a.ready=function(){this.updateTemplate();this.activateStateTwo()};a.attached=function(){!1===
this.subscribed&&void 0!==this.label&&(this.subscribtionKey=b.communication.ResultDispatcher.subscribe(this.getCampaignKey(this.label),this._handleCampaign,this),this.subscribed=!0)};a.detached=function(){b.communication.ResultDispatcher.unsubscribe(this.getCampaignKey(this.label),this.subscribtionKey);this.subscribed=!1};a._labelChanged=function(a,d){void 0!==d&&b.communication.ResultDispatcher.unsubscribe(this.getCampaignKey(d),this.subscribtionKey);void 0!==a&&(this.subscribtionKey=b.communication.ResultDispatcher.subscribe(this.getCampaignKey(a),
this._handleCampaign,this),this.subscribed=!0)};a.getCampaignKey=function(a){if(0!==a.length&&a.trim())return[this.CAMPAIGN_KEY+":"+a];b.common.Logger.debug("No label property defined, will handle all campaigns where only the last feedbacktext will be displayed.");return[this.CAMPAIGN_KEY]};a._handleCampaign=function(a){void 0!==a?(this.model&&a.text===this.model.text||(this.model=a),Polymer.dom(this).flush(),this.activateStateOne(),Polymer.RenderStatus.afterNextRender(this,function(){this.fire("dom-updated")})):
this.activateStateTwo()}})(d=d.FFCampaignFeedbacktextPrototypeClass||(d.FFCampaignFeedbacktextPrototypeClass={}));Polymer(d)})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));__extends=this.__extends||function(b,d){function a(){this.constructor=b}for(var g in d)d.hasOwnProperty(g)&&(b[g]=d[g]);a.prototype=d.prototype;b.prototype=new a};
(function(b){(function(d){(new (function(a){function d(){a.apply(this,arguments);this.is="ff-campaign-product";this.behaviors=[b.elements.removeUnresolvedAttributeBehavior];this.properties={recordId:{type:"Number",observer:"_recordIdChanged"}}}__extends(d,a);d.prototype._recordIdChanged=function(a,d){b.communication.FFCommunicationEventAggregator.addFFEvent({type:"productCampaign",productNumber:this.recordId})};return d}(polymer.PolymerElementClass))).register()})(b.elements||(b.elements={}))})(factfinder||
(factfinder={}));
(function(b){(function(d){(function(a){a.is="ff-campaign-pushed-products";a.properties={name:{type:"String"},isProductCampaign:{type:"String",value:"false"}};a.behaviors=[b.elements.cssAttributeToggleBehavior,b.elements.removeUnresolvedAttributeBehavior];a._nameChanged=function(a,d){a&&(this.subscribtionKey=b.communication.ResultDispatcher.subscribe(this.getCampaignTopic()+":pushedProducts:"+a,this._pushedProductsChanged,this));d&&b.communication.ResultDispatcher.unsubscribe(this.getCampaignTopic()+"campaign:pushedProducts:"+
d,this.subscribtionKey)};a._isProductCampaignChanged=function(a,d){var m;"string"==typeof d&&(m=1!=d?"productCampaign":"campaign");this.name?(void 0!==m&&b.communication.ResultDispatcher.unsubscribe(m+":pushedProducts:"+this.name,this.subscribtionKey),this.subscribtionKey=b.communication.ResultDispatcher.subscribe(this.getCampaignTopic()+":pushedProducts:"+this.name,this._pushedProductsChanged,this)):(void 0!==m&&b.communication.ResultDispatcher.unsubscribe(m+":pushedProducts",this.subscribtionKey),
this.subscribtionKey=b.communication.ResultDispatcher.subscribe(this.getCampaignTopic()+":pushedProducts",this._pushedProductsChanged,this))};a.getCampaignTopic=function(){this.topic||(this.topic="true"===this.isProductCampaign?"productCampaign":"campaign");return this.topic};a.created=function(){this.attributeName="display";this.stateTwoValue="none";this.activateStateTwo();this.topic=""};a.attached=function(){var a=this.getCampaignTopic()+":pushedProducts";this.name&&(a+=":"+this.name);b.communication.ResultDispatcher.subscribe(a,
this._pushedProductsChanged,this);(a=Polymer.dom(this).querySelector("ff-record-list"))&&a.setAttribute("subscribe","false")};a.detached=function(){var a=this.getCampaignTopic()+":pushedProducts";this.name&&(a+=":"+this.name);b.communication.ResultDispatcher.unsubscribe(a,this.subscribtionKey)};a._pushedProductsChanged=function(a){if(a){var b=Polymer.dom(this).querySelector("ff-record-list");b?b.records=a:console.log("no ff-record-list element found for pushed products: TODO enhance message");this.activateStateOne()}else this.activateStateTwo()}})(d=
d.FFPushedProductsPrototypeClass||(d.FFPushedProductsPrototypeClass={}));Polymer(d)})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.is="ff-campaign-redirect";a.behaviors=[b.elements.removeUnresolvedAttributeBehavior];a.attached=function(){this.subscribtionKey=b.communication.ResultDispatcher.subscribe(["campaign:redirect"],this._handleRedirect,this)};a.detached=function(){b.communication.ResultDispatcher.unsubscribe(["campaign:redirect"],this.subscribtionKey)};a._handleRedirect=function(a){a&&(b.common.Logger.debug("redirecting to: "+a.target.destination),document.location.replace(a.target.destination))}})(d=
d.FFCampaignRedirectPrototypeClass||(d.FFCampaignRedirectPrototypeClass={}));Polymer(d)})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){try{b.communication.version="1.0.14"}catch(a){}(function(a){a.is="ff-communication";a.properties={ajax:{type:Boolean,observer:"_ajaxChanged"},useUrlParameter:{type:String,value:"true",observer:"_useUrlParameterChanged"},useBrowserHistory:{type:String,value:"true",observer:"_useBrowserHistory"},searchImmediate:{type:Boolean},useCache:{type:Boolean,observer:"_useCacheChanged"},version:{type:String,observer:"_versionChanged"},channel:{type:String,observer:"_channelChanged"},
url:{type:String,observer:"_urlChanged"},defaultQuery:{type:String,value:"*",observer:"_defaultQueryChanged"},addParams:{type:String,observer:"_addParamsChanged"},addTrackingParams:{type:String,observer:"_addTrackingParamsChanged"},keepFilters:{type:Boolean,value:!1,observer:"_keepFiltersChanged"},keepUrlParams:{type:String,observer:"_keepUrlParamsChanged"},useAsn:{type:String,value:"true",observer:"_useAsnChanged"},useFoundWords:{type:String,value:"false",observer:"_useFoundWordsChanged"},useCampaigns:{type:String,
value:"true",observer:"_useCampaignsChanged"},generateAdvisorTree:{type:String,value:"false",observer:"_generateAdvisorTreeChanged"},disableCache:{type:String,value:"false",observer:"_disableCacheChanged"},usePersonalization:{type:String,value:"true",observer:"_usePersonalizationChanged"},useSemanticEnhancer:{type:String,value:"true",observer:"_useSemanticEnhancerChanged"},useAso:{type:String,value:"true",observer:"_useAsoChanged"},useSeo:{type:String,value:"false",observer:"_useSeoChanged"},seoPrefix:{type:String,
value:"",observer:"_seoPrefixChanged"}};a._globalCommParams=b.communication.globalCommunicationParameter;a.attached=function(){var a=this;window.addEventListener("popstate",function(d){1==a._globalCommParams.useBrowserHistory&&void 0!==d&&void 0!==d.state&&(a._globalCommParams.useCache||b.common.Logger.log('<ff-communication use-cache="false"> is currently disabled. '),d=d.state.searchResult?d.state.searchResult:d.state,b.communication.FFCommunicationEventAggregator.currentSearchResult=d,b.communication.ResultDispatcher.dispatchResult(d))});
b.communication.globalCommunicationParameter.useSeo?b.common.whenBrowserReady(function(){var a={},d=b.common.getParameterString();d&&(a=b.common.parameterStringToDict(d));a.type="search";d=window.location.pathname.replace(b.communication.globalCommunicationParameter.seoPrefix+"","");a.seoPath=encodeURIComponent(d);delete a.query;a["ff-seo-initial"]=!0;b.communication.FFCommunicationEventAggregator.addFFEvent(a)}):this.searchImmediate&&(a=this,b.common.whenBrowserReady(function(){function d(){var a=
b.common.getParameterString(),a=a?b.common.parameterStringToDict(a,!0):{};a.type="search";b.communication.FFCommunicationEventAggregator.addFFEvent(a)}if(a.version)d();else var m=0,e=setInterval(function(){m+=16;if(a.version||1E3<=m)clearInterval(e),d()},16)}))};a._useCacheChanged=function(a){b.communication.globalCommunicationParameter.useCache=a};a._useUrlParameterChanged=function(a){b.communication.globalCommunicationParameter.useUrlParameter="true"==a};a._useBrowserHistory=function(a){b.communication.globalCommunicationParameter.useBrowserHistory=
"true"==a};a._ajaxChanged=function(a){b.communication.globalCommunicationParameter.ajax=a};a._urlChanged=function(a){b.communication.globalSearchParameter.url=a};a._channelChanged=function(a){b.communication.globalSearchParameter.channel=a};a._versionChanged=function(a){b.communication.globalSearchParameter.version=a};a._defaultQueryChanged=function(a){b.communication.globalSearchParameter.query=a};a._addParamsChanged=function(a){b.communication.globalCommunicationParameter.addParams=a};a._addTrackingParamsChanged=
function(a){b.communication.globalCommunicationParameter.addTrackingParams=a};a._keepFiltersChanged=function(a){b.communication.globalCommunicationParameter.keepFilters=a};a._keepUrlParamsChanged=function(a){b.communication.globalCommunicationParameter.keepUrlParams=a};a._useAsnChanged=function(a){b.communication.globalCommunicationParameter.useAsn="true"===a};a._useFoundWordsChanged=function(a){b.communication.globalCommunicationParameter.useFoundWords="true"===a};a._useCampaignsChanged=function(a){b.communication.globalCommunicationParameter.useCampaigns=
"true"===a};a._generateAdvisorTreeChanged=function(a){b.communication.globalCommunicationParameter.generateAdvisorTree="true"===a};a._disableCacheChanged=function(a){b.communication.globalCommunicationParameter.disableCache="true"===a};a._usePersonalizationChanged=function(a){b.communication.globalCommunicationParameter.usePersonalization="true"===a};a._useSemanticEnhancerChanged=function(a){b.communication.globalCommunicationParameter.useSemanticEnhancer="true"===a};a._useAsoChanged=function(a){b.communication.globalCommunicationParameter.useAso=
"true"===a};a._useSeoChanged=function(a){b.communication.globalCommunicationParameter.useSeo="true"===a};a._seoPrefixChanged=function(a){b.communication.globalCommunicationParameter.seoPrefix=a}})(d=d.ffCommunicationPrototype||(d.ffCommunicationPrototype={}));Polymer(d)})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.is="ff-paging";a.behaviors=[b.elements.removeUnresolvedAttributeBehavior,b.elements.cssAttributeToggleBehavior];a.properties={paging:{type:Object,observer:"_pagingChanged"},showOnly:{type:"String",value:"false",reflectToAttribute:!0}};a._lightDOM;a._shadowDOM;var d=/(-\d)|(\d)/;a.created=function(){this.attributeName="display";this.stateTwoValue="none";this.activateStateTwo()};a.ready=function(){this._lightDOM=Polymer.dom(this);this._shadowDOM=Polymer.dom(this.root)};
a.attached=function(){this.subscribtionKey=b.communication.ResultDispatcher.subscribe("paging",this._pagingChanged,this)};a.detached=function(){b.communication.ResultDispatcher.unsubscribe("paging",this.subscribtionKey)};a._pagingChanged=function(a){if(0==a.pageLinks.length)this.activateStateTwo();else{var b=Polymer.dom(this).querySelectorAll("ff-paging-set");if(0<b.length)for(var e=0;e<b.length;e++){var d=b[e];d.paging=a;d.isActive&&this._processPagingSet(a,d)}else this._processPagingSet(a,Polymer.dom(this));
this.activateStateOne()}Polymer.dom(this).flush();Polymer.RenderStatus.afterNextRender(this,function(){this.fire("dom-updated")})};a._processPagingSet=function(a,b){var e=b.querySelector('ff-paging-item[type="firstLink"]');e&&(this.setShowOnly(e),e.productsPerPageItem=a.firstLink);if(e=b.querySelector('ff-paging-item[type="lastLink"]'))this.setShowOnly(e),e.productsPerPageItem=a.lastLink;this._processCurrentLinks(a,b);if(e=b.querySelector('ff-paging-item[type="nextLink"]'))this.setShowOnly(e),e.productsPerPageItem=
a.nextLink;if(b=b.querySelector('ff-paging-item[type="previousLink"]'))this.setShowOnly(b),b.productsPerPageItem=a.previousLink};a.getCurrentLinkIndex=function(a){for(var b=0;b<a.length;b++)if(!0===a[b].currentPage)return b};a._processCurrentLinks=function(a,b){var e=this.getCurrentLinkIndex(a.pageLinks);b=b.querySelectorAll('ff-paging-item[type~="currentLink"]');for(var k=0;k<b.length;k++){var h=b[k];this.setShowOnly(h);var c=d.exec(h.type);try{c=parseInt(c[0])}catch(l){}h.productsPerPageItem=c?
a.pageLinks[e+c]:a.pageLinks[e]}};a.setShowOnly=function(a){a.showOnly="false"==this.showOnly?"false":"true"}})(d=d.ffPagingPrototype||(d.ffPagingPrototype={}));Polymer(d)})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.is="ff-paging-set";a.behaviors=[b.elements.cssAttributeToggleBehavior,b.elements.removeUnresolvedAttributeBehavior];a.properties={state:{type:String,value:"all"},paging:{type:Object,observer:"_pagingChanged"},isActive:{type:Boolean,readOnly:!0}};a.ready=function(){this.attributeName="display";this.stateTwoValue="none";this.activateStateTwo()};a._pagingChanged=function(a){if("all"===this.state)this.isActive=!0;else{var d=this.state.replace(/currentPage/g,a.currentPage),
d=d.replace(/pageCount/g,a.pageCount);if(/[a-zA-Z]/.test(d))this._setIsActive(!1),this.activateStateTwo(),b.common.Logger.error("alphanumerical values are not allow. could not resolve ["+/[a-zA-Z].*/.exec(d)+"] in state ["+d+"]");else try{this._setIsActive(eval(d)),this.isActive?this.activateStateOne():this.activateStateTwo()}catch(m){this._setIsActive(!1),this.activateStateTwo()}}};a.hide=function(){this.activateStateTwo()};a.show=function(){this.activateStateOne()}})(d=d.ffPagingSetPrototype||(d.ffPagingSetPrototype=
{}));Polymer(d)})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.is="ff-paging-item";a.behaviors=[b.elements.lightDOMTemplateBehavior,b.elements.cssAttributeToggleBehavior,b.elements.removeUnresolvedAttributeBehavior];a.properties={type:{type:String,value:"pageLink",reflectToAttribute:!0},productsPerPageItem:{type:Object,observer:"_pppItemChanged"},showOnly:{type:"String",value:"false",reflectToAttribute:!0}};a.ready=function(){this.attributeName="display";this.stateTwoValue="none";this.activateStateTwo()};a.attached=function(){this.listen(this.$.pageItemContainer,
"tap","_taped")};a.detached=function(){this.unlisten(this.$.pageItemContainer,"tap","_taped")};a._pppItemChanged=function(a){a?(this.model=a,this.activateStateOne()):this.activateStateTwo()};a._taped=function(a){this.productsPerPageItem.selected||"false"!==this.showOnly||b.communication.FFCommunicationEventAggregator.addFFEvent({type:"paging",number:this.productsPerPageItem.number})}})(d=d.ffPagingItemPrototype||(d.ffPagingItemPrototype={}));Polymer(d)})(b.elements||(b.elements={}))})(factfinder||
(factfinder={}));
(function(b){(function(d){(function(a){a.is="ff-products-per-page-item";a.properties={productsPerPageItem:{type:Object,observer:"_productsPerPageItemChanged"}};a.behaviors=[b.elements.lightDOMTemplateBehavior,b.elements.cssAttributeToggleBehavior,b.elements.removeUnresolvedAttributeBehavior];a.ready=function(){this.attributeName="display";this.stateTwoValue="none";this.activateStateTwo()};a.attached=function(){this.listen(this,"tap","_taped");try{var a=Polymer.dom(this).parentNode;a&&"ff-products-per-page-list"==
a.localName&&(this.stateOneValue=this.style.display="inline-block")}catch(b){console.log("Attach ff-products-per-page-item. Can not find proper parent container. It has to be ether ff-products-per-page-list or ff-products-per-page-dropdown")}};a.detached=function(){this.unlisten(this,"tap","_taped")};a._taped=function(a){this.productsPerPageItem.selected||b.communication.FFCommunicationEventAggregator.addFFEvent({type:"ppp",value:this.productsPerPageItem.value})};a._productsPerPageItemChanged=function(a){a?
(this.model=a,this.model.selected?this.classList.add("selected"):this.classList.remove("selected"),this.model.showSelected?this.classList.add("showSelected"):this.classList.remove("showSelected"),this.activateStateOne()):this.activateStateTwo()};a.clone=function(){var a=document.createElement("ff-products-per-page-item");a.templateString=this.templateString;b.common.copyHTMLAttributes(this,a);return a}})(d=d.ffProductsPerPageItemPrototype||(d.ffProductsPerPageItemPrototype={}));Polymer(d)})(b.elements||
(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.is="ff-products-per-page-dropdown";a.properties={items:{type:Object,observer:"_itemsChanged"},opened:{type:Boolean,value:!1,reflectToAttribute:!0},showSelected:{type:"String",value:"false",observer:"_showSelectedChanged"},collapseOnblur:{type:"String",value:"false"}};a.behaviors=[b.elements.lightDOMTemplateBehavior,b.elements.cssAttributeToggleBehavior,b.elements.collapseElementsBehavior,b.elements.removeUnresolvedAttributeBehavior];a._itemTemplate;a.created=
function(){this.getAttribute("tabindex")||this.setAttribute("tabindex","1")};a.attached=function(){this.subscribtionKey=b.communication.ResultDispatcher.subscribe("ppp",this._itemsChanged,this)};a.detached=function(){b.communication.ResultDispatcher.unsubscribe("ppp",this.subscribtionKey)};a.ready=function(){try{this.attributeName="display",this.stateTwoValue="none",this.activateStateTwo(),this._initTemplate(),this._initOpened(),this.listen(this,"tap","toggle"),this.listen(this,"blur","_onblur")}catch(a){console.log(a)}};
a._initOpened=function(){try{var a=this.getDropdown();if(this.opened)this.opened=!0,a.classList.remove("ff-ppp-drowdown-closed"),this._show(a,!1),this.updateStyles();else{var b=this;this._hide(a,!1,function(){b.opened=!1;a.classList.add("ff-ppp-drowdown-closed");b.updateStyles()})}}catch(d){console.log(d)}};a._initTemplate=function(){try{var a=Polymer.dom(this),b=a.querySelector("ff-products-per-page-item");if(b)this._itemTemplate=b;else{var d=document.createElement("ff-products-per-page-item"),a=
Polymer.dom(d);d.updateTemplate("{{value}}");a.flush();this._itemTemplate=d}a.querySelectorAll("ff-products-per-page-item").forEach(function(b){a.removeChild(b)})}catch(e){console.log(e)}};a._itemsChanged=function(a){try{if(this.opened&&this.hide(),0<a.length){"true"===this.showSelected&&(a=this.initShowSelected(a));var b=Polymer.dom(this);try{for(var d=b.querySelectorAll("ff-products-per-page-item"),e=0;e<a.length;e++){var k=a[e],h=d[e],c;h?c=h:(c=this._itemTemplate.clone(),b.appendChild(c));c.productsPerPageItem=
k}}catch(l){console.log("Cathc on _itemsChanged",l)}this.distributeContent();b.flush();this.activateStateOne();Polymer.RenderStatus.afterNextRender(this,function(){this.fire("dom-updated")})}else this.activateStateTwo()}catch(l){console.log(l)}};a.show=function(){if(!this.opened){this.opened=!0;var a=this.getDropdown();a.classList.remove("ff-ppp-drowdown-closed");this._show(a,!0);this.updateStyles()}};a.hide=function(){if(this.opened&&!1===this.getDropdown().__transitionActive__){var a=this.getDropdown();
a.__transitionActive__=!1;var b=this;this._hide(a,!0,function(){b.opened=!1;a.classList.add("ff-ppp-drowdown-closed");b.updateStyles()})}};a.toggle=function(a){!0===a?this.hide():!1===a?this.show():this.opened?this.hide():this.show()};a._onblur=function(){"true"==this.collapseOnblur&&this.async(function(){this.hide()},150)};a.getDropdown=function(){return Polymer.dom(this.root).querySelector(".ff-ppp-drowdown-container")};a._showSelectedChanged=function(){try{if(this.readyCalled){for(var a=Polymer.dom(this),
b=Polymer.dom(this).querySelectorAll("ff-products-per-page-item"),d=[],e=0;e<b.length;e++){var k=b[e];d.push(k.productsPerPageItem);a.removeChild(k)}this.items=d}else this.readyCalled=!0}catch(h){console.log(h)}};a.initShowSelected=function(a){try{var b=a.slice(0,a.length);for(a=0;a<b.length;a++){var d=b[a];if(d.selected){var e=JSON.parse(JSON.stringify(d));e.selected=!1;e.showSelected=!0;b.splice(a+1,0,e);break}}return b}catch(k){console.log(k)}}})(d=d.ffProductsPerPagePrototypeDropdown||(d.ffProductsPerPagePrototypeDropdown=
{}));Polymer(d)})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function d(a){if(0<a.length){var b=Polymer.dom(this);try{for(var e=b.querySelectorAll("ff-products-per-page-item"),g=0;g<a.length;g++){var h=a[g],c=e[g],l;c?l=c:(l=this._itemTemplate.clone(),b.appendChild(l));l.productsPerPageItem=h}}catch(n){console.log("Catch on _itemsChanged",n)}b.flush();this.activateStateOne();this.fire("dom-updated")}else this.activateStateTwo()}a.is="ff-products-per-page-list";a.behaviors=[b.elements.lightDOMTemplateBehavior,b.elements.cssAttributeToggleBehavior,
b.elements.removeUnresolvedAttributeBehavior];a._itemTemplate;a.attached=function(){this.subscribtionKey=b.communication.ResultDispatcher.subscribe("ppp",d,this)};a.detached=function(){b.communication.ResultDispatcher.unsubscribe("ppp",this.subscribtionKey)};a.ready=function(){this.attributeName="display";this.stateTwoValue="none";this.activateStateTwo();this._initTemplate()};a._initTemplate=function(){var a=Polymer.dom(this),b=a.querySelector("ff-products-per-page-item");b||(b=document.createElement("ff-products-per-page-item"),
b.style.display="inline-block",a=Polymer.dom(b),a.innerHTML="{{value}}",a.flush(),b.updateTemplate());this._itemTemplate=b;this._itemTemplate.style.display="inline-block";a.querySelectorAll("ff-products-per-page-item").forEach(function(b){a.removeChild(b)})};a._itemsChanged=d})(d=d.ffProductsPerPagePrototype||(d.ffProductsPerPagePrototype={}));Polymer(d)})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
__extends=this.__extends||function(b,d){function a(){this.constructor=b}for(var g in d)d.hasOwnProperty(g)&&(b[g]=d[g]);a.prototype=d.prototype;b.prototype=new a};
(function(b){(function(d){var a=function(a){function d(){a.apply(this,arguments);this.is="ff-recommendation";this.behaviors=[b.elements.cssAttributeToggleBehavior,b.elements.removeUnresolvedAttributeBehavior];this.properties={recordId:{type:"String",observer:"getRecommendations"},maxResults:{type:"Number",value:4},subscribe:{type:"String",value:"true"}}}__extends(d,a);d.prototype.created=function(){this.attributeName="display";this.stateTwoValue="none";this.activateStateTwo();this.key=b.common.randomString(10)};
d.prototype.attached=function(){"true"===this.subscribe&&(this.subscribtionKey=b.communication.ResultDispatcher.subscribe("recommendation:"+this.key,this._handelRecommendations,this));var a=Polymer.dom(this).querySelector("ff-record-list");a&&(a.setAttribute("subscribe","false"),a.isRecommendation=!0)};d.prototype.detached=function(){"true"===this.subscribe&&b.communication.ResultDispatcher.unsubscribe("recommendation:"+this.key,this.subscribtionKey)};d.prototype._handelRecommendations=function(a){if(a&&
0<a.length){var b=Polymer.dom(this).querySelector("ff-record-list");b&&(b.records=a.slice(0,this.maxResults));this.activateStateOne();this.async(function(){this.fire("gotRecommendations")})}else this.activateStateTwo()};d.prototype.getRecommendations=function(){this.recordId?b.communication.FFCommunicationEventAggregator.addFFEvent({type:"recommendation:"+this.key,id:this.recordId.split(","),maxResults:this.maxResults}):(b.common.Logger.debug("no record id for recommendations specified."),this.activateStateTwo())};
return d}(polymer.PolymerElementClass);d.FFRecommendationClass=a;(new a).register()})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.is="ff-record";a.properties={recordData:{type:"Object",observer:"_recordDataChanged"},isRecommendation:{type:"Boolean",value:!1}};a.behaviors=[b.elements.lightDOMTemplateBehavior,b.elements.cssAttributeToggleBehavior,b.elements.bindActionBehavior,b.elements.recordBindingBehavior,b.elements.trackingBindingBehavior,b.elements.removeUnresolvedAttributeBehavior];a.created=function(){this.attributeName="display";this.stateTwoValue="none"};a._recordDataChanged=function(a,
b){a?(b&&a.id===b.id||(this.model=a,this.bindProductActions(),this.bindProductImage(),this.bindClick()),this.activateStateOne()):this.activateStateTwo()};a.clone=function(){var a=document.createElement("ff-record");b.common.copyHTMLAttributes(this,a);a.templateString=this.templateString;return a}})(d=d.ffRecordPrototype||(d.ffRecordPrototype={}));Polymer(d)})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.is="ff-record-list";a.properties={records:{type:Array,observer:"_recordsChanged"},subscribe:{type:"String",value:"true"},isRecommendation:{type:"Boolean",value:!1}};a.behaviors=[b.elements.cssAttributeToggleBehavior,b.elements.removeUnresolvedAttributeBehavior];a._templateRecord;a._recordsChanged=function(a,b){if(a&&0<a.length){b=Polymer.dom(this);for(var d=b.querySelectorAll("ff-record"),e=0;e<a.length;e++){var k=a[e],h=d[e];h?(h.isRecommendation=this.isRecommendation,
h.recordData=k):(h=this._templateRecord.clone(),h.isRecommendation=this.isRecommendation,h.recordData=k,b.appendChild(h))}for(e=a.length;e<d.length;e++)d[e].recordData=void 0;b.flush();this.activateStateOne();Polymer.RenderStatus.afterNextRender(this,function(){this.fire("dom-updated")})}else this.activateStateTwo()};a.ready=function(){this.attributeName="display";this.stateTwoValue="none";(!this.records||!this.records.length||0>=this.records.length)&&this.activateStateTwo()};a.attached=function(){"true"===
this.subscribe&&(this.subscribtionKey=b.communication.ResultDispatcher.subscribe("records",this._recordsChanged,this));var a=Polymer.dom(this);if(!this._templateRecord){var d=a.querySelector("ff-record");(this._templateRecord=d)&&a.removeChild(d)}};a.detached=function(){"true"===this.subscribe&&b.communication.ResultDispatcher.unsubscribe("records",this.subscribtionKey)};Polymer(a)})(d.recordListPrototype||(d.recordListPrototype={}))})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function d(a){a.classList.add("ff-highlight-suggest-item")}function f(a){a.classList.remove("ff-highlight-suggest-item")}a.is="ff-searchbox";a.properties={suggestOnfocus:{type:String,value:"false"},hidesuggestOnblur:{type:String,value:"true"},selectOnclick:{type:String,value:"false"},useSuggest:{type:String,value:"true"}};var m=b.communication.FFCommunicationEventAggregator,e=0;a.attached=function(){this._subscriptionKey=b.communication.ResultDispatcher.subscribe("bct",
this._queryChanged,this)};a.detached=function(){b.communication.ResultDispatcher.unsubscribe("bct",this._subscriptionKey)};a._triggerSuggest=function(){"false"!=this.useSuggest&&(this.resetHighlight(),this.value&&2<=this.value.length?m.addFFEvent({type:"suggest",query:this.value}):this._hideSuggest())};a._hideSuggest=function(){this.resetHighlight();b.communication.ResultDispatcher.dispatchSuggest(void 0)};a._queryChanged=function(a){a&&a[0]&&(a=a[0])&&(this.value=a.text,b.communication.globalElementValues.currentFFSearchBoxValue=
this.value)};a._inputValueChanged=function(a){if(a)if("focus"===a.type&&("true"===this.suggestOnfocus?this._triggerSuggest():"false"!==this.suggestOnfocus&&console.warn("suggest-onfocus has to be either 'true' or 'false'")),"input"===a.type&&(b.communication.globalElementValues.currentFFSearchBoxValue=a.currentTarget.value,this._triggerSuggest()),"blur"===a.type){var d=this;"true"===this.hidesuggestOnblur?this.async(function(){d._hideSuggest()},150):"false"!==this.hidesuggestOnblur&&console.warn("hidesuggest-onblur has to be either 'true' or 'false'")}else a.detail&&
void 0!==a.detail.value&&m.addFFEvent({type:"suggest",query:a.detail.value})};a.search=function(){var a={type:"search",query:this.value};this.fire("before-search",a);m.addFFEvent(a)};a.ready=function(){this.listen(this,"input","_inputValueChanged");this.listen(this,"blur","_inputValueChanged");this.listen(this,"focus","_inputValueChanged");"true"===this.selectOnclick?this.onclick=function(a){try{this.select()}catch(b){}}:"false"!==this.selectOnclick&&console.warn("select-onclick has to be either 'true' or 'false'");
this.onkeyup=function(a){13==a.keyCode&&(-1!=e?this.searchSelected():this.search(),this._hideSuggest());27==a.keyCode&&this._hideSuggest();if(40==a.keyCode){var b=this.getSuggestItems();0<b.length&&(-1!=e&&this.removeHighlight(b[e]),e<b.length-1&&e++,this.setHighlight(b[e]))}if(38==a.keyCode&&(b=this.getSuggestItems(),0<b.length&&(this.removeHighlight(b[e]),0<e&&(e--,this.setHighlight(b[e]))),-1!=e))return a.stopPropagation(),a.preventDefault(),a.returnValue=!1,a.cancelBubble=!0,!1;37==a.keyCode&&
this.move("left");39==a.keyCode&&this.move("right")};try{var a=b.common.getParameterString(),d=b.common.parameterStringToDict(a).query;d&&(this.value=decodeURI(d))}catch(c){console.error(c)}};a.move=function(a){var b=this.getSuggestItems(),c=b[e];if(c){var l=c.getBoundingClientRect(),m=[];b.forEach(function(b){var c=b.getBoundingClientRect();"left"==a?c.left<l.left&&m.push(b):"right"==a&&c.left>l.left&&m.push(b)});var p,q=9999;0<m.length&&m.forEach(function(a){var b=Math.abs(a.getBoundingClientRect().top-
l.top);p?b<q&&(p=a,q=b):(p=a,q=b)});p&&(f(c),d(p),e=b.indexOf(p))}};a.searchSelected=function(){var a=this.getSuggestItems()[e];b.common.fireCustomEvent("tap",!0,!0,a)};a.setHighlight=d;a.removeHighlight=f;a.getSuggestItems=function(){var a=[],b=document.querySelectorAll("ff-suggest-item");if(b)for(var c=0;c<b.length;c++){var d=b.item(c);this._isDisplayed(d)&&a.push(d)}return a};a._isDisplayed=function(a){a=a.getBoundingClientRect();for(var b in a)if(0!==a[b])return!0;return!1};a.resetHighlight=function(){e=
-1;this.getSuggestItems().forEach(function(a){a.classList.remove("ff-highlight-suggest-item")})}})(d=d.searchBoxPrototype||(d.searchBoxPrototype={}));d["extends"]="input";Polymer(d)})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.is="ff-searchbutton";a._buttonTaped=function(a){try{b.communication.FFCommunicationEventAggregator.addFFEvent({type:"search",query:b.communication.globalElementValues.currentFFSearchBoxValue||b.communication.globalSearchParameter.query})}catch(d){b.common.Logger.error("no ff-searchbox found")}};a.ready=function(){this.listen(this,"tap","_buttonTaped")}})(d=d.searchButtonPrototype||(d.searchButtonPrototype={}));d["extends"]="button";Polymer(d)})(b.elements||
(b.elements={}))})(factfinder||(factfinder={}));__extends=this.__extends||function(b,d){function a(){this.constructor=b}for(var g in d)d.hasOwnProperty(g)&&(b[g]=d[g]);a.prototype=d.prototype;b.prototype=new a};
(function(b){(function(d){var a=function(a){function d(){a.apply(this,arguments);this.is="ff-similar-products";this.behaviors=[b.elements.cssAttributeToggleBehavior,b.elements.removeUnresolvedAttributeBehavior];this.properties={recordId:{type:"Number",observer:"getSimilarProducts"},maxResults:{type:"Number",value:4}}}__extends(d,a);d.prototype.created=function(){this.stateTwoValue="none";this.attributeName="display";this.activateStateTwo()};d.prototype.attached=function(){this.subscribtionKey=b.communication.ResultDispatcher.subscribe("similarProducts",
this._handelSimilarProducts,this);var a=Polymer.dom(this).querySelector("ff-record-list");a&&a.setAttribute("subscribe","false")};d.prototype.detached=function(){b.communication.ResultDispatcher.unsubscribe("similarProducts",this.subscribtionKey)};d.prototype._handelSimilarProducts=function(a){if(a&&a.length&&0<a.length){var b=Polymer.dom(this),d=b.querySelector("ff-record-list");d&&(d.records=a.slice(0,this.maxResults));b.flush();this.activateStateOne()}else this.activateStateTwo()};d.prototype.getSimilarProducts=
function(){this.recordId?b.communication.FFCommunicationEventAggregator.addFFEvent({type:"similarProducts",id:this.recordId,maxResults:this.maxResults}):b.common.Logger.debug("no record id for similarProducts specified.")};return d}(polymer.PolymerElementClass);d.FFSimilarProductsClass=a;(new a).register()})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
__extends=this.__extends||function(b,d){function a(){this.constructor=b}for(var g in d)d.hasOwnProperty(g)&&(b[g]=d[g]);a.prototype=d.prototype;b.prototype=new a};
(function(b){(function(d){var a=function(a){function d(){a.apply(this,arguments);this.is="ff-single-word-search";this.behaviors=[b.elements.cssAttributeToggleBehavior,b.elements.removeUnresolvedAttributeBehavior]}__extends(d,a);d.prototype.created=function(){this.attributeName="display";this.stateTwoValue="none";this.activateStateTwo()};d.prototype.attached=function(){this.subscribtionKey=b.communication.ResultDispatcher.subscribe("singleWordSearch",this._handleSingleWordSearch,this);var a=Polymer.dom(this);
this._singleWordTemplate=a.querySelector("ff-single-word-search-record");a.removeChild(this._singleWordTemplate);this.insertSWSRecordHelper=new b.elements.InsertElementHelper(this._singleWordTemplate,this)};d.prototype.detached=function(){b.communication.ResultDispatcher.unsubscribe("singleWordSearch",this.subscribtionKey)};d.prototype._handleSingleWordSearch=function(a){var b=this;if(a&&0<a.length){var d=Polymer.dom(this);b.activateStateTwo();requestAnimationFrame(function(){var f=d.querySelectorAll("ff-single-word-search-record");
b.insertSWSRecordHelper.insertAll(f,a,function(a,b){a.word=b});d.flush();b.activateStateOne();Polymer.RenderStatus.afterNextRender(b,function(){b.fire("dom-updated")})})}else b.activateStateTwo()};return d}(polymer.PolymerElementClass);d.FFSingleWordSearch=a;(new a).register()})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));__extends=this.__extends||function(b,d){function a(){this.constructor=b}for(var g in d)d.hasOwnProperty(g)&&(b[g]=d[g]);a.prototype=d.prototype;b.prototype=new a};
(function(b){(function(d){var a=function(a){function d(){a.apply(this,arguments);this.is="ff-single-word-search-record";this.behaviors=[b.elements.cssAttributeToggleBehavior,b.elements.removeUnresolvedAttributeBehavior];this._searchForSingleWordSelector='[data-search="singleWord"]';this._renderer=new b.html.TemplateRenderer;this.properties={word:{type:"Object",observer:"_wordChanged"}}}__extends(d,a);d.prototype.created=function(){this.attributeName="display";this.stateTwoValue="none"};d.prototype.attached=
function(){var a=Polymer.dom(this),b=a.querySelector(this._searchForSingleWordSelector);b?(this.captionTemplate||(this.captionTemplate=Polymer.dom(b).innerHTML),(a=a.querySelector("ff-record-list"))&&a.setAttribute("subscribe","false")):console.log("no caption tag with css selector"+this._searchForSingleWordSelector+" provided")};d.prototype._wordChanged=function(a,d){a?(this.activateStateTwo(),this.querySelector(this._searchForSingleWordSelector).innerHTML=this._renderer.render(this.captionTemplate,
a),(d=this.querySelector("ff-record-list"))?d.records=a.previewRecords:b.common.Logger.log("[ff-single-word-search]: No ff-record-list element found. Cannot display product data."),this._addSingleWordSearchListener(),this.activateStateOne()):this.activateStateTwo()};d.prototype._addSingleWordSearchListener=function(){for(var a=this.querySelectorAll(this._searchForSingleWordSelector),b=0;b<a.length;b++)this.listen(a[b],"tap","_handleSingleSearchTap")};d.prototype._handleSingleSearchTap=function(a){try{var d=
b.common.getParameterString(this.word.searchParams),f=b.common.parameterStringToDict(d);f.type="search";b.communication.FFCommunicationEventAggregator.addFFEvent(f)}catch(g){console.log(g)}};d.prototype.clone=function(){var a=this.cloneNode();Polymer.dom(a).innerHTML=Polymer.dom(this).innerHTML;Polymer.dom(a).flush();var b=a.querySelector("ff-record-list"),d=this.querySelector("ff-record-list");b&&d&&(b._templateRecord=d._templateRecord);a.captionTemplate=this.captionTemplate;Polymer.dom(a).flush();
return a};return d}(polymer.PolymerElementClass);d.FFSingleWordSearchRecord=a;(new a).register()})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){var a;(function(a){a.is="ff-sortbox";a.properties={items:{type:Array,observer:"_itemsChanged"},opened:{type:Boolean,reflectToAttribute:!0},showSelected:{type:"String",value:"false",observer:"_showSelectedChanged"},showSelectedFirst:{type:"String",value:"false"},collapseOnblur:{type:"String",value:"false"}};a.behaviors=[b.elements.cssAttributeToggleBehavior,b.elements.collapseElementsBehavior,b.elements.removeUnresolvedAttributeBehavior];a._sortItemTemplate;a._keys={};a.created=
function(){this._keys={};this.getAttribute("tabindex")||this.setAttribute("tabindex","1")};a.attached=function(){var a=this;this.async(function(){var d=Polymer.dom(a).querySelector("ff-sortbox-item[key='default.template']");d?(a._sortItemTemplate=d,Polymer.dom(Polymer.dom(d).parentNode).removeChild(d)):(a._sortItemTemplate=document.createElement("ff-sortbox-item"),Polymer.dom(a._sortItemTemplate).innerHTML="{{description}}");a.subscribtionKey=b.communication.ResultDispatcher.subscribe("sort",this._itemsChanged,
this)})};a.detached=function(){b.communication.ResultDispatcher.unsubscribe("sort",this.subscribtionKey)};a.ready=function(){this.attributeName="display";this.stateTwoValue="none";this.activateStateTwo();this.listen(this,"tap","toggle");this.listen(this,"blur","_onblur");this._initItems();this._initOpened()};a._initItems=function(){for(var a=Polymer.dom(this).querySelectorAll("ff-sortbox-item"),b=0;b<a.length;b++){var d=a[b],g=d.getAttribute("key");g&&""!==g&&(this._keys[g]=d)}};a._initOpened=function(){var a=
this.getDropDown();if(this.opened)this.opened=!0,a.classList.remove("ff-sort-closed"),this._show(a,!1),this.updateStyles();else{var b=this;this._hide(a,!1,function(){b.opened=!1;a.classList.add("ff-sort-closed");b.updateStyles()})}};a._itemsChanged=function(a,b){this.opened&&this.hide();if(0<a.length){var d=[],g=this,h=Polymer.dom(this);"true"===this.showSelected&&(a=this.initShowSelected(a));b=h.querySelectorAll("ff-sortbox-item");b.forEach(function(a){Polymer.dom(Polymer.dom(a).parentNode).removeChild(a)});
Polymer.dom(this).flush();for(b=0;b<a.length;b++){var c=a[b],l=this.getKey(c),n=this._keys[l];n?Polymer.dom(n).parentNode||h.appendChild(n):(n=this._sortItemTemplate.cloneNode(!0),n.setAttribute("key",l),n.sortItem=c,this._keys[l]=n,h.appendChild(n));d[l]=!0;n.sortItem=c}Polymer.dom(this).flush();b=h.querySelectorAll("ff-sortbox-item");b.forEach(function(a){var b=g.getKey(a.sortItem);d[b]||h.removeChild(a)});Polymer.dom(this).flush();this.activateStateOne();this.fire("dom-updated")}else this.activateStateTwo()};
a.getKey=function(a){return a.name+"."+a.order};a.show=function(){if(!this.opened){var a=this.getDropDown();this.opened=!0;a.classList.remove("ff-sort-closed");this._show(a,!0);this.updateStyles()}};a.hide=function(){if(this.opened){var a=this.getDropDown();a.__transitionActive__=!1;var b=this;this._hide(a,!0,function(){b.opened=!1;a.classList.add("ff-sort-closed");b.updateStyles()})}};a.toggle=function(a){!0===a?this.hide():!1===a?this.show():this.opened?this.hide():this.show()};a._onblur=function(){if("true"==
this.collapseOnblur){var a=this;this.async(function(){a.hide()},150)}};a.getDropDown=function(){return Polymer.dom(this.root).querySelector(".ff-sort-dropdown-container")};a._showSelectedChanged=function(a,b){if(!0===this.readyCalled){a=Polymer.dom(this);b=Polymer.dom(this).querySelectorAll("ff-sortbox-item");for(var d=[],g=0;g<b.length;g++){var h=b[g];d.push(h.productsPerPageItem);a.removeChild(h)}this.items=d}else this.readyCalled=!0};a.initShowSelected=function(a){a=a.slice(0,a.length);for(var b=
0;b<a.length;b++){var d=a[b];if(d.selected){d=JSON.parse(JSON.stringify(d));d.selected=!1;d.showSelected=!0;"true"===this.showSelectedFirst?a.splice(0,0,d):a.splice(b+1,0,d);break}}return a}})(a=d.sortBoxPrototype||(d.sortBoxPrototype={}));Polymer(a);(function(a){a.is="ff-sortbox-item";a.properties={sortItem:{type:Object,observer:"_sortItemChanged"},key:{type:String}};a.listeners={tap:"_tapedListener"};a.behaviors=[b.elements.lightDOMTemplateBehavior];a._sortItemChanged=function(a,b){a?(this.model=
a,a.selected?this.classList.add("selected"):this.classList.remove("selected"),a.showSelected?this.classList.add("showSelected"):this.classList.remove("showSelected"),this.style.display="block"):this.style.display="none"};a._tapedListener=function(a){this.sortItem.selected||b.communication.FFCommunicationEventAggregator.addFFEvent({type:"sort",value:this.sortItem.description})}})(d=d.sortBoxItemPrototype||(d.sortBoxItemPrototype={}));Polymer(d)})(b.elements||(b.elements={}))})(factfinder||(factfinder=
{}));
(function(b){(function(d){(function(a){a.is="ff-suggest-item";a.properties={type:{type:String,value:"all",reflectToAttribute:!0},suggestion:{type:Object,observer:"_suggestionChanged"}};a.listeners={tap:"_taped"};a.behaviors=[b.elements.imageTestBehavior,b.elements.cssAttributeToggleBehavior,b.elements.lightDOMTemplateBehavior,b.elements.removeUnresolvedAttributeBehavior];a.searchBox;a.ready=function(){this.attributeName="display";this.stateTwoValue="none";this.activateStateTwo();this.query||b.common.whenBrowserReady(function(){if(this.searchBox=
document.querySelector("ff-searchbox"))this.query=this.searchBox.value})};a._suggestionChanged=function(a,d){if(a){this.query=b.communication.globalElementValues.currentFFSearchBoxValue;(d=a.name.match(new RegExp(this.query,"i")))&&0!==d.length&&(a.name=a.name.replace(d[0],'<span class="query">'+d+"</span>"));this.model=a;try{this.bindImage(a.image)}catch(m){console.log(m)}try{50<a.name.length&&(a.name=a.name.slice(0,50))}catch(m){console.log(m)}this.activateStateOne()}else this.activateStateTwo()};
a._taped=function(a){this.fire("item-clicked",{type:this.type,suggestion:this.suggestion,element:this});!0!==this.ffPreventDefault?(a="productName"===this.type?{type:"search",query:this.suggestion.attributes.id,isArticleNumber:"true"}:{type:"suggestItem","ff-suggestParams":this.suggestion.searchParams},this.fire("before-search",a),b.communication.FFCommunicationEventAggregator.addFFEvent(a)):delete this.ffPreventDefault};a.clone=function(){var a=document.createElement("ff-suggest-item");a.type=this.type;
a.templateString=this.templateString;b.common.copyHTMLAttributes(this,a);return a}})(d=d.suggestItemPrototype||(d.suggestItemPrototype={}));Polymer(d)})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){a.is="ff-suggest";a.behaviors=[b.elements.removeUnresolvedAttributeBehavior];a.properties={layout:{type:"String",value:"list",observer:"_layoutChanged"},suggestItems:{type:"Array",observer:"_suggestItemsChanged"}};var d=function(){function a(b,d,f,g,c,l){if(!b)throw"host element is necessary, pls specify the host element";if(!g)throw"parent element is necessary, pls specify a parent element";if(!c)throw"previousSibling needs to be specified";if(!f)throw"no container specified";
this.suggestItemTemplate=d;this.type=d.type;this.parent=g;this.previousSibling=c;this.nextSibling=l;this.container=f;this.host=b}a.prototype.insertSuggestItem=function(a,b){var d=!1;if(!b){b=this.suggestItemTemplate.clone();var f=this;b.addEventListener("item-clicked",function(a){f.host.fire("suggest-item-clicked",a.detail)});d=!0}b.suggestion=a;!0===d&&(this.nextSibling?Polymer.dom(this.parent).insertBefore(b,this.nextSibling):Polymer.dom(this.parent).appendChild(b))};return a}();a.ready=function(){this.itemDataList=
[];this.suggestionsMap={}};a.attached=function(){this.subscribtionKey=b.communication.ResultDispatcher.subscribe(["suggest"],this._suggestItemsChanged,this);this.async(function(){this._initItemTemplates()})};a.detached=function(){b.communication.ResultDispatcher.unsubscribe(["suggest"],this.subscribtionKey)};a._initItemTemplates=function(){for(var a=Polymer.dom(this.$.ffContentElement).getDistributedNodes(),b=0;b<a.length;b++){var e=Polymer.dom(a[b]),k=e.querySelectorAll("ff-suggest-item");if(k&&
0!==k.length){for(var h=0;h<k.length;h++){var c=k[h],l;l=c;var n=l.type;if(n){var p=e.querySelector('[data-container="'+n+'"]');p?l=new d(this,l,p,l.parentElement,l.previousSibling,l.nextSibling):(console.log("no container specified for suggest item with type='"+n+"'. Nest the suggest item in any element with attribute data-container='"+n+"'"),l=void 0)}else console.log("no type specified for suggest item"),l=void 0;l&&this.itemDataList.push(l)}Polymer.dom(c.parentElement).removeChild(c)}else e.style.display=
"none",console.log("section "+e+" does not contain a ff-suggest-item. Section is ignored.")}};a._suggestItemsChanged=function(a,d){if(a&&(d=b.communication.globalElementValues.currentFFSearchBoxValue)&&2<=d.length&&(this.suggestionsMap={},this._sortSuggestions(a),this._redrawSuggestions(),this._redrawSections(),0<a.length)){this.$.ffSuggestContainerWrapper.classList.remove("hideffSuggestContainerWrapper");"block"===this.layout?(this.$.ffSuggestContainer.classList.remove("listLayout"),this.$.ffSuggestContainer.classList.add("blockLayout")):
(this.$.ffSuggestContainer.classList.remove("blockLayout"),this.$.ffSuggestContainer.classList.add("listLayout"));Polymer.dom(this).flush();Polymer.RenderStatus.afterNextRender(this,function(){this.fire("dom-updated")});return}this._hideSuggest()};a._hideSuggest=function(){this.$.ffSuggestContainerWrapper.classList.add("hideffSuggestContainerWrapper")};a._sortSuggestions=function(a){for(var b=0;b<a.length;b++){var d=a[b],g=d.type,h=this.suggestionsMap[g];h||(h=[],this.suggestionsMap[g]=h);h.push(d)}};
a._redrawSuggestions=function(){for(var a=Polymer.dom(this),b=this.itemDataList,d=0;d<b.length;d++){var g=b[d],h=a.querySelectorAll("ff-suggest-item[type='"+g.type+"']"),c=this.suggestionsMap[g.type];if(c){var l=g,n=0;for(n;n<c.length;n++)l.insertSuggestItem(c[n],h[n]);h=h.slice(n,h.length);for(c=0;c<h.length;c++)if(l=h[c])l.suggestion=void 0;g.container.removeAttribute("hidden")}else g.container.setAttribute("hidden","")}};a._redrawSections=function(){for(var a=Polymer.dom(this.$.ffContentElement).getDistributedNodes(),
b=0;b<a.length;b++){for(var d=a[b],g=Polymer.dom(d).querySelectorAll("[data-container]"),h=!0,c=0;c<g.length;c++)var l=g[c],h=h&&l.hasAttribute("hidden");h?d.classList.add("displayNoneImportant"):d.classList.remove("displayNoneImportant")}Polymer.dom(this).flush()};a._layoutChanged=function(a,b){"block"===a?(this.$.ffSuggestContainer.classList.remove("listLayout"),this.$.ffSuggestContainer.classList.add("blockLayout")):(this.$.ffSuggestContainer.classList.remove("blockLayout"),this.$.ffSuggestContainer.classList.add("listLayout"))}})(d=
d.suggestPrototype||(d.suggestPrototype={}));Polymer(d)})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
(function(b){(function(d){(function(a){function d(a){a?(this.model=a,this.activateStateOne(),Polymer.dom(this).flush(),Polymer.RenderStatus.afterNextRender(this,function(){this.fire("dom-updated")})):this.activateStateTwo()}a.is="ff-template";a.properties={data:{type:Object,observer:"_dataChanged"},scope:{type:String,observer:"_scopeChanged"}};a.behaviors=[b.elements.lightDOMTemplateBehavior,b.elements.cssAttributeToggleBehavior,b.elements.removeUnresolvedAttributeBehavior];a.ready=function(){this.attributeName=
"display";this.stateTwoValue="none";this.activateStateTwo()};a.attached=function(){this.subscribtionKey=b.communication.ResultDispatcher.subscribe(this.scope,d,this)};a.detached=function(){b.communication.ResultDispatcher.unsubscribe(this.scope,this.subscribtionKey)};a._dataChanged=d;a._scopeChanged=function(a,m){b.communication.ResultDispatcher.unsubscribe(m,this.subscribtionKey);this.subscribtionKey=b.communication.ResultDispatcher.subscribe(a,d,this)}})(d=d.templatePrototype||(d.templatePrototype=
{}));Polymer(d)})(b.elements||(b.elements={}))})(factfinder||(factfinder={}));
